/*! For license information please see main.35cf74ff.js.LICENSE.txt */
(()=>{var e={730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),I=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),C=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var F,M=Object.assign;function U(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var V=!1;function B(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var c="\n"+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=o&&0<=a);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function j(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case I:return"Portal";case T:return"Profiler";case S:return"StrictMode";case x:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Ee=null,Se=null;function Te(e){if(e=wi(e)){if("function"!==typeof Ie)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Ie(e.stateNode,e.type,t))}}function ke(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ae(e,t){return e(t)}function xe(){}var Pe=!1;function Ne(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ae(e,t,n)}finally{Pe=!1,(null!==Ee||null!==Se)&&(xe(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var De=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){De=!1}function Le(e,t,n,r,i,s,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var Fe=!1,Me=null,Ue=!1,Ve=null,Be={onError:function(e){Fe=!0,Me=e}};function je(e,t,n,r,i,s,o,a,c){Fe=!1,Me=null,Le.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(s(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Je=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ct|0)|0},at=Math.log,ct=Math.LN2;var lt=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,It,Et,St,Tt,kt=!1,Ct=[],At=null,xt=null,Pt=null,Nt=new Map,Rt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Ft(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&It(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&It(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Ut(e)&&n.delete(t)}function Bt(){kt=!1,null!==At&&Ut(At)&&(At=null),null!==xt&&Ut(xt)&&(xt=null),null!==Pt&&Ut(Pt)&&(Pt=null),Nt.forEach(Vt),Rt.forEach(Vt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return jt(t,e)}if(0<Ct.length){jt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&jt(At,e),null!==xt&&jt(xt,e),null!==Pt&&jt(Pt,e),Nt.forEach(t),Rt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=1,Ht(e,t,n,r)}finally{wt=i,qt.transition=s}}function Gt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=4,Ht(e,t,n,r)}finally{wt=i,qt.transition=s}}function Ht(e,t,n,r){if(Wt){var i=Jt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Ft(At,e,t,n,r,i),!0;case"dragenter":return xt=Ft(xt,e,t,n,r,i),!0;case"mouseover":return Pt=Ft(Pt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Nt.set(s,Ft(Nt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rt.set(s,Ft(Rt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&_t(s),null===(s=Jt(e,t,n,r))&&Wr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Jt(e,t,n,r){if(Qt=null,null!==(e=yi(e=_e(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(ln),hn=M({},ln,{view:0,detail:0}),dn=sn(hn),fn=M({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(on=e.screenX-cn.screenX,an=e.screenY-cn.screenY):an=on=0,cn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},hn,{relatedTarget:0})),vn=sn(M({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(yn),bn=sn(M({},ln,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Tn(){return Sn}var kn=M({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(kn),An=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=sn(M({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Pn=sn(M({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(Nn),Dn=[9,13,27,32],On=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Fn=u&&"TextEvent"in window&&!Ln,Mn=u&&(!On||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),Vn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){ke(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Qn(e){Ur(e,0)}function Jn(e){if(H(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&Jn(Hn)){var t=[];Kn(t,Hn,e,_e(e)),Ne(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Hn)}function sr(e,t){if("click"===e)return Jn(t)}function or(e,t){if("input"===e||"change"===e)return Jn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&cr(yr,r)||(yr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ir={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Er={},Sr={};function Tr(e){if(Er[e])return Er[e];if(!Ir[e])return e;var t,n=Ir[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);var kr=Tr("animationend"),Cr=Tr("animationiteration"),Ar=Tr("animationstart"),xr=Tr("transitionend"),Pr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Pr.set(e,t),c(t,[e])}for(var Dr=0;Dr<Nr.length;Dr++){var Or=Nr[Dr];Rr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Rr(kr,"onAnimationEnd"),Rr(Cr,"onAnimationIteration"),Rr(Ar,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(xr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,c,l){if(je.apply(this,arguments),Fe){if(!Fe)throw Error(s(198));var u=Me;Fe=!1,Me=null,Ue||(Ue=!0,Ve=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;Mr(i,a,l),s=c}else for(o=0;o<r.length;o++){if(c=(a=r[o]).instance,l=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;Mr(i,a,l),s=c}}}if(Ue)throw e=Ve,Ue=!1,Ve=null,e}function Vr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[jr]){e[jr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Kt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&((c=o.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(c=o.tag)||6===c){r=s=o;continue e}a=a.parentNode}}r=r.return}Ne((function(){var r=s,i=_e(n),o=[];e:{var a=Pr.get(e);if(void 0!==a){var c=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=Cn;break;case"focusin":l="focus",c=gn;break;case"focusout":l="blur",c=gn;break;case"beforeblur":case"afterblur":c=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=xn;break;case kr:case Cr:case Ar:c=vn;break;case xr:c=Pn;break;case"scroll":c=dn;break;case"wheel":c=Rn;break;case"copy":case"cut":case"paste":c=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=An}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Re(p,d))&&u.push(Kr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new c(a,l,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(h=ze(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=An,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==c?a:bi(c),f=null==l?a:bi(l),(a=new u(m,p+"leave",c,n,i)).target=h,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(d,p+"enter",l,n,i)).target=f,u.relatedTarget=h,m=u),h=m,c&&l)e:{for(d=l,p=0,f=u=c;f;f=Hr(f))p++;for(f=0,m=d;m;m=Hr(m))f++;for(;0<p-f;)u=Hr(u),p--;for(;0<f-p;)d=Hr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Hr(u),d=Hr(d)}u=null}else u=null;null!==c&&Qr(o,a,c,u,!1),null!==l&&null!==h&&Qr(o,h,l,u,!0)}if("select"===(c=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var g=$n;else if(Wn(a))if(Yn)g=or;else{g=ir;var v=rr}else(c=a.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Kn(o,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?bi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else zn?Bn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==w?"onCompositionEnd"===w&&zn&&(y=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,zn=!0)),0<(v=Gr(r,w)).length&&(w=new bn(w,e,null,n,i),o.push({event:w,listeners:v}),y?w.data=y:null!==(y=jn(n))&&(w.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Un);case"textInput":return(e=t.data)===Un&&Vn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Bn(e,t)?(e=en(),Zt=Xt=Yt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Ur(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Re(e,n))&&r.unshift(Kr(e,s,i)),null!=(s=Re(e,t))&&r.push(Kr(e,s,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(null!==c&&c===r)break;5===a.tag&&null!==l&&(a=l,i?null!=(c=Re(n,s))&&o.unshift(Kr(n,c,a)):i||null!=(c=Re(n,s))&&o.push(Kr(n,c,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Jr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var Ii=[],Ei=-1;function Si(e){return{current:e}}function Ti(e){0>Ei||(e.current=Ii[Ei],Ii[Ei]=null,Ei--)}function ki(e,t){Ei++,Ii[Ei]=e.current,e.current=t}var Ci={},Ai=Si(Ci),xi=Si(!1),Pi=Ci;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ti(xi),Ti(Ai)}function Oi(e,t,n){if(Ai.current!==Ci)throw Error(s(168));ki(Ai,t),ki(xi,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return M({},n,r)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Pi=Ai.current,ki(Ai,e),ki(xi,xi.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ti(xi),Ti(Ai),ki(Ai,e)):Ti(xi),ki(xi,n)}var Ui=null,Vi=!1,Bi=!1;function ji(e){null===Ui?Ui=[e]:Ui.push(e)}function zi(){if(!Bi&&null!==Ui){Bi=!0;var e=0,t=wt;try{var n=Ui;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Vi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),He(Ze,zi),i}finally{wt=t,Bi=!1}}return null}var qi=[],Wi=0,Ki=null,Gi=0,Hi=[],Qi=0,Ji=null,$i=1,Yi="";function Xi(e,t){qi[Wi++]=Gi,qi[Wi++]=Ki,Ki=e,Gi=t}function Zi(e,t,n){Hi[Qi++]=$i,Hi[Qi++]=Yi,Hi[Qi++]=Ji,Ji=e;var r=$i;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Yi=s+e}else $i=1<<s|n<<i|r,Yi=e}function es(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ts(e){for(;e===Ki;)Ki=qi[--Wi],qi[Wi]=null,Gi=qi[--Wi],qi[Wi]=null;for(;e===Ji;)Ji=Hi[--Qi],Hi[Qi]=null,Yi=Hi[--Qi],Hi[Qi]=null,$i=Hi[--Qi],Hi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Rl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ji?{id:$i,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function cs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ls(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(cs(e))throw Error(s(418));t=li(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(cs(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(cs(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=li(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?li(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=li(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=Si(null),ys=null,ws=null,bs=null;function _s(){bs=ws=ys=null}function Is(e){var t=vs.current;Ti(vs),e._currentValue=t}function Es(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ss(e,t){ys=e,bs=ws=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ts(e){var t=e._currentValue;if(bs!==e)if(e={context:e,memoizedValue:t,next:null},null===ws){if(null===ys)throw Error(s(308));ws=e,ys.dependencies={lanes:0,firstContext:e}}else ws=ws.next=e;return t}var ks=null;function Cs(e){null===ks?ks=[e]:ks.push(e)}function As(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Cs(t)):(n.next=i.next,i.next=n),t.interleaved=n,xs(e,r)}function xs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ps=!1;function Ns(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ds(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Os(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&xc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,xs(e,n)}return null===(i=r.interleaved)?(t.next=t,Cs(r)):(t.next=i.next,i.next=t),r.interleaved=t,xs(e,n)}function Ls(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Fs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ms(e,t,n,r){var i=e.updateQueue;Ps=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var c=a,l=c.next;c.next=null,null===o?s=l:o.next=l,o=c;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(null!==s){var h=i.baseState;for(o=0,u=l=c=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=M({},h,d);break e;case 2:Ps=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(l=u=f,c=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(c=h),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Mc|=o,e.lanes=o,e.memoizedState=h}}function Us(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Vs=(new r.Component).refs;function Bs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var js={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),s=Ds(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,i))&&(rl(t,e,i,r),Ls(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),s=Ds(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,i))&&(rl(t,e,i,r),Ls(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Ds(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Os(e,i,r))&&(rl(t,e,r,n),Ls(t,e,r))}};function zs(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,s))}function qs(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=Ts(s):(i=Ri(t)?Pi:Ai.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=js,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ws(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&js.enqueueReplaceState(t,t.state,null)}function Ks(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Vs,Ns(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ts(s):(s=Ri(t)?Pi:Ai.current,i.context=Ni(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Bs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&js.enqueueReplaceState(i,i.state,null),Ms(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Vs&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Hs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function Js(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ol(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var s=n.type;return s===E?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&Qs(s)===t.type)?((r=i(t,n.props)).ref=Gs(e,t,n),r.return=e,r):((r=Ll(n.type,n.key,n.props,null,e.mode,r)).ref=Gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Fl(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ul(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ll(t.type,t.key,t.props,null,e.mode,n)).ref=Gs(e,null,t),n.return=e,n;case I:return(t=Vl(t,e.mode,n)).return=e,t;case R:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Fl(t,e.mode,n,null)).return=e,t;Hs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case I:return n.key===i?u(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Hs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Hs(t,r)}return null}function m(i,s,a,c){for(var l=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,a[m],c);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=o(v,s,m),null===u?l=v:u.sibling=v,u=v,h=g}if(m===a.length)return n(i,h),is&&Xi(i,m),l;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],c))&&(s=o(h,s,m),null===u?l=h:u.sibling=h,u=h);return is&&Xi(i,m),l}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],c))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?l=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),is&&Xi(i,m),l}function g(i,a,c,l){var u=L(c);if("function"!==typeof u)throw Error(s(150));if(null==(c=u.call(c)))throw Error(s(151));for(var h=u=null,m=a,g=a=0,v=null,y=c.next();null!==m&&!y.done;g++,y=c.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,l);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),a=o(w,a,g),null===h?u=w:h.sibling=w,h=w,m=v}if(y.done)return n(i,m),is&&Xi(i,g),u;if(null===m){for(;!y.done;g++,y=c.next())null!==(y=d(i,y.value,l))&&(a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return is&&Xi(i,g),u}for(m=r(i,m);!y.done;g++,y=c.next())null!==(y=p(m,i,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),is&&Xi(i,g),u}return function e(r,s,o,c){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var l=o.key,u=s;null!==u;){if(u.key===l){if((l=o.type)===E){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===R&&Qs(l)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=Gs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===E?((s=Fl(o.props.children,r.mode,c,o.key)).return=r,r=s):((c=Ll(o.type,o.key,o.props,null,r.mode,c)).ref=Gs(r,s,o),c.return=r,r=c)}return a(r);case I:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Vl(o,r.mode,c)).return=r,r=s}return a(r);case R:return e(r,s,(u=o._init)(o._payload),c)}if(te(o))return m(r,s,o,c);if(L(o))return g(r,s,o,c);Hs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Ul(o,r.mode,c)).return=r,r=s),a(r)):n(r,s)}}var $s=Js(!0),Ys=Js(!1),Xs={},Zs=Si(Xs),eo=Si(Xs),to=Si(Xs);function no(e){if(e===Xs)throw Error(s(174));return e}function ro(e,t){switch(ki(to,t),ki(eo,e),ki(Zs,Xs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Zs),ki(Zs,t)}function io(){Ti(Zs),Ti(eo),Ti(to)}function so(e){no(to.current);var t=no(Zs.current),n=ce(t,e.type);t!==n&&(ki(eo,e),ki(Zs,n))}function oo(e){eo.current===e&&(Ti(Zs),Ti(eo))}var ao=Si(0);function co(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function uo(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var ho=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,po=0,mo=null,go=null,vo=null,yo=!1,wo=!1,bo=0,_o=0;function Io(){throw Error(s(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?aa:ca,e=n(r,i),wo){o=0;do{if(wo=!1,bo=0,25<=o)throw Error(s(301));o+=1,vo=go=null,t.updateQueue=null,ho.current=la,e=n(r,i)}while(wo)}if(ho.current=oa,t=null!==go&&null!==go.next,po=0,vo=go=mo=null,yo=!1,t)throw Error(s(300));return e}function To(){var e=0!==bo;return bo=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?mo.memoizedState=vo=e:vo=vo.next=e,vo}function Co(){if(null===go){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===vo?mo.memoizedState:vo.next;if(null!==t)vo=t,go=e;else{if(null===e)throw Error(s(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===vo?mo.memoizedState=vo=e:vo=vo.next=e}return vo}function Ao(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=Co(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var c=a=null,l=null,u=o;do{var h=u.lane;if((po&h)===h)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=d,a=r):l=l.next=d,mo.lanes|=h,Mc|=h}u=u.next}while(null!==u&&u!==o);null===l?a=r:l.next=c,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,mo.lanes|=o,Mc|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=Co(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function Ro(e,t){var n=mo,r=Co(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,ba=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,Vo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Pc)throw Error(s(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Fo(t)&&Mo(e)}function Lo(e,t,n){return n((function(){Fo(t)&&Mo(e)}))}function Fo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Mo(e){var t=xs(e,1);null!==t&&rl(t,e,1,-1)}function Uo(e){var t=ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,mo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return Co().memoizedState}function jo(e,t,n,r){var i=ko();mo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=Co();r=void 0===r?null:r;var s=void 0;if(null!==go){var o=go.memoizedState;if(s=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Vo(t,n,s,r))}mo.flags|=e,i.memoizedState=Vo(1|t,n,s,r)}function qo(e,t){return jo(8390656,8,e,t)}function Wo(e,t){return zo(2048,8,e,t)}function Ko(e,t){return zo(4,2,e,t)}function Go(e,t){return zo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ho.bind(null,t,e),n)}function Jo(){}function $o(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),mo.lanes|=n,Mc|=n,e.baseState=!0),t)}function Zo(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{wt=n,fo.transition=r}}function ea(){return Co().memoizedState}function ta(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=As(e,t,n,r))){rl(n,e,r,tl()),sa(n,t,r)}}function na(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var c=t.interleaved;return null===c?(i.next=i,Cs(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=As(e,t,i,r))&&(rl(n,e,r,i=tl()),sa(n,t,r))}}function ra(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function ia(e,t){wo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var oa={readContext:Ts,useCallback:Io,useContext:Io,useEffect:Io,useImperativeHandle:Io,useInsertionEffect:Io,useLayoutEffect:Io,useMemo:Io,useReducer:Io,useRef:Io,useState:Io,useDebugValue:Io,useDeferredValue:Io,useTransition:Io,useMutableSource:Io,useSyncExternalStore:Io,useId:Io,unstable_isNewReconciler:!1},aa={readContext:Ts,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:Ts,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,jo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jo(4194308,4,e,t)},useInsertionEffect:function(e,t){return jo(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:Uo,useDebugValue:Jo,useDeferredValue:function(e){return ko().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=ko();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Pc)throw Error(s(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=Pc.identifierPrefix;if(is){var n=Yi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_o++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ca={readContext:Ts,useCallback:$o,useContext:Ts,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Yo,useReducer:xo,useRef:Bo,useState:function(){return xo(Ao)},useDebugValue:Jo,useDeferredValue:function(e){return Xo(Co(),go.memoizedState,e)},useTransition:function(){return[xo(Ao)[0],Co().memoizedState]},useMutableSource:No,useSyncExternalStore:Ro,useId:ea,unstable_isNewReconciler:!1},la={readContext:Ts,useCallback:$o,useContext:Ts,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Yo,useReducer:Po,useRef:Bo,useState:function(){return Po(Ao)},useDebugValue:Jo,useDeferredValue:function(e){var t=Co();return null===go?t.memoizedState=e:Xo(t,go.memoizedState,e)},useTransition:function(){return[Po(Ao)[0],Co().memoizedState]},useMutableSource:No,useSyncExternalStore:Ro,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Ds(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kc||(Kc=!0,Gc=r),da(0,t)},n}function ma(e,t,n){(n=Ds(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Hc?Hc=new Set([this]):Hc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kl.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ds(-1,1)).tag=2,Os(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wa=b.ReactCurrentOwner,ba=!1;function _a(e,t,n,r){t.child=null===e?Ys(t,null,n,r):$s(t,e.child,n,r)}function Ia(e,t,n,r,i){n=n.render;var s=t.ref;return Ss(t,i),r=So(e,t,n,r,s,i),n=To(),null===e||ba?(is&&n&&es(t),t.flags|=1,_a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ka(e,t,i))}function Ea(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Dl(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ll(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Sa(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(o,r)&&e.ref===t.ref)return Ka(e,t,i)}return t.flags|=1,(e=Ol(s,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(cr(s,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ka(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Ca(e,t,n,r,i)}function Ta(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Oc,Dc),Dc|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Oc,Dc),Dc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ki(Oc,Dc),Dc|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ki(Oc,Dc),Dc|=r;return _a(e,t,i,n),t.child}function ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ca(e,t,n,r,i){var s=Ri(n)?Pi:Ai.current;return s=Ni(t,s),Ss(t,i),n=So(e,t,n,r,s,i),r=To(),null===e||ba?(is&&r&&es(t),t.flags|=1,_a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ka(e,t,i))}function Aa(e,t,n,r,i){if(Ri(n)){var s=!0;Fi(t)}else s=!1;if(Ss(t,i),null===t.stateNode)Wa(e,t),qs(t,n,r),Ks(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ts(l):l=Ni(t,l=Ri(n)?Pi:Ai.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||c!==l)&&Ws(t,o,r,l),Ps=!1;var d=t.memoizedState;o.state=d,Ms(t,r,o,i),c=t.memoizedState,a!==r||d!==c||xi.current||Ps?("function"===typeof u&&(Bs(t,n,u,r),c=t.memoizedState),(a=Ps||zs(t,n,a,r,d,c,l))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=l,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Rs(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:gs(t.type,a),o.props=l,h=t.pendingProps,d=o.context,"object"===typeof(c=n.contextType)&&null!==c?c=Ts(c):c=Ni(t,c=Ri(n)?Pi:Ai.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==c)&&Ws(t,o,r,c),Ps=!1,d=t.memoizedState,o.state=d,Ms(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||xi.current||Ps?("function"===typeof f&&(Bs(t,n,f,r),p=t.memoizedState),(l=Ps||zs(t,n,l,r,d,p,c)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=c,r=l):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return xa(e,t,n,r,s,i)}function xa(e,t,n,r,i,s){ka(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Ka(e,t,s);r=t.stateNode,wa.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$s(t,e.child,null,s),t.child=$s(t,null,a,s)):_a(e,t,a,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Pa(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Na(e,t,n,r,i){return fs(),ps(i),t.flags|=256,_a(e,t,n,r),t.child}var Ra,Da,Oa,La,Fa={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ua(e,t,n){var r,i=t.pendingProps,o=ao.current,a=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ki(ao,1&o),null===e)return ls(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,a?(i=t.mode,a=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=c):a=Ml(c,i,0,null),e=Fl(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(n),t.memoizedState=Fa,e):Va(t,c));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Ba(e,t,a,r=ha(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ml({mode:"visible",children:r.children},i,0,null),(o=Fl(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$s(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=Fa,o);if(0===(1&t.mode))return Ba(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,Ba(e,t,a,r=ha(o=Error(s(419)),r,void 0))}if(c=0!==(a&e.childLanes),ba||c){if(null!==(r=Pc)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,xs(e,i),rl(r,e,i,-1))}return gl(),Ba(e,t,a,r=ha(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Al.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=li(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Hi[Qi++]=$i,Hi[Qi++]=Yi,Hi[Qi++]=Ji,$i=e.id,Yi=e.overflow,Ji=t),t=Va(t,r.children),t.flags|=4096,t)}(e,t,c,i,r,o,n);if(a){a=i.fallback,c=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Ol(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Ol(r,a):(a=Fl(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,c=null===(c=e.child.memoizedState)?Ma(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~n,t.memoizedState=Fa,i}return e=(a=e.child).sibling,i=Ol(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Va(e,t){return(t=Ml({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ba(e,t,n,r){return null!==r&&ps(r),$s(t,e.child,null,n),(e=Va(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ja(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Es(e.return,t,n)}function za(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=ao.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ja(e,n,t);else if(19===e.tag)ja(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(ao,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===co(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),za(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===co(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}za(t,!0,n,null,s);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ka(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ol(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ol(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ga(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ha(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ha(t),null;case 1:case 17:return Ri(t.type)&&Di(),Ha(t),null;case 3:return r=t.stateNode,io(),Ti(xi),Ti(Ai),uo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(al(ss),ss=null))),Da(e,t),Ha(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Oa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ha(t),null}if(e=no(Zs.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":$(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var c in ye(n,o),i=null,o)if(o.hasOwnProperty(c)){var l=o[c];"children"===c?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",""+l]):a.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&Vr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[di]=t,e[fi]=r,Ra(e,t,!1,!1),t.stateNode=e;e:{switch(c=we(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":$(e,r),i=J(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ye(n,i),l=i)if(l.hasOwnProperty(o)){var u=l[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Vr("scroll",e):null!=u&&w(e,o,u,c))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ha(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=no(to.current),no(Zs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ha(t),null;case 13:if(Ti(ao),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ha(t),o=!1}else null!==ss&&(al(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ao.current)?0===Lc&&(Lc=3):gl())),null!==t.updateQueue&&(t.flags|=4),Ha(t),null);case 4:return io(),Da(e,t),null===e&&zr(t.stateNode.containerInfo),Ha(t),null;case 10:return Is(t.type._context),Ha(t),null;case 19:if(Ti(ao),null===(o=t.memoizedState))return Ha(t),null;if(r=0!==(128&t.flags),null===(c=o.rendering))if(r)Ga(o,!1);else{if(0!==Lc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=co(e))){for(t.flags|=128,Ga(o,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(c=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,e=c.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>qc&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=co(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ga(o,!0),null===o.tail&&"hidden"===o.tailMode&&!c.alternate&&!is)return Ha(t),null}else 2*Ye()-o.renderingStartTime>qc&&1073741824!==n&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304);o.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=o.last)?n.sibling=c:t.child=c,o.last=c)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=ao.current,ki(ao,r?1&n|2:1&n),t):(Ha(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dc)&&(Ha(t),6&t.subtreeFlags&&(t.flags|=8192)):Ha(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ja(e,t){switch(ts(t),t.tag){case 1:return Ri(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ti(xi),Ti(Ai),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ti(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(ao),null;case 4:return io(),null;case 10:return Is(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Ra=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Da=function(){},Oa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Zs.current);var s,o=null;switch(n){case"input":i=J(e,i),r=J(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var c=i[u];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(o=o||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Vr("scroll",e),o||c===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var $a=!1,Ya=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Za=null;function ec(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tl(e,t,r)}else n.current=null}function tc(e,t,n){try{n()}catch(r){Tl(e,t,r)}}var nc=!1;function rc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tc(t,n,s)}i=i.next}while(i!==r)}}function ic(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function oc(e){var t=e.alternate;null!==t&&(e.alternate=null,oc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ac(e){return 5===e.tag||3===e.tag||4===e.tag}function cc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ac(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}var hc=null,dc=!1;function fc(e,t,n){for(n=n.child;null!==n;)pc(e,t,n),n=n.sibling}function pc(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ya||ec(n,t);case 6:var r=hc,i=dc;hc=null,fc(e,t,n),dc=i,null!==(hc=r)&&(dc?(e=hc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hc.removeChild(n.stateNode));break;case 18:null!==hc&&(dc?(e=hc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),zt(e)):ci(hc,n.stateNode));break;case 4:r=hc,i=dc,hc=n.stateNode.containerInfo,dc=!0,fc(e,t,n),hc=r,dc=i;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tc(n,t,o),i=i.next}while(i!==r)}fc(e,t,n);break;case 1:if(!Ya&&(ec(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tl(n,t,a)}fc(e,t,n);break;case 21:fc(e,t,n);break;case 22:1&n.mode?(Ya=(r=Ya)||null!==n.memoizedState,fc(e,t,n),Ya=r):fc(e,t,n);break;default:fc(e,t,n)}}function mc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach((function(t){var r=xl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,c=a;e:for(;null!==c;){switch(c.tag){case 5:hc=c.stateNode,dc=!1;break e;case 3:case 4:hc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===hc)throw Error(s(160));pc(o,a,i),hc=null,dc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(u){Tl(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vc(t,e),t=t.sibling}function vc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gc(t,e),yc(e),4&r){try{rc(3,e,e.return),ic(3,e)}catch(g){Tl(e,e.return,g)}try{rc(5,e,e.return)}catch(g){Tl(e,e.return,g)}}break;case 1:gc(t,e),yc(e),512&r&&null!==n&&ec(n,n.return);break;case 5:if(gc(t,e),yc(e),512&r&&null!==n&&ec(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Tl(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===o.type&&null!=o.name&&Y(i,o),we(c,a);var u=we(c,o);for(a=0;a<l.length;a+=2){var h=l[a],d=l[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):w(i,h,d,u)}switch(c){case"input":X(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){Tl(e,e.return,g)}}break;case 6:if(gc(t,e),yc(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Tl(e,e.return,g)}}break;case 3:if(gc(t,e),yc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Tl(e,e.return,g)}break;case 4:default:gc(t,e),yc(e);break;case 13:gc(t,e),yc(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zc=Ye())),4&r&&mc(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(u=Ya)||h,gc(t,e),Ya=u):gc(t,e),yc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Za=e,h=e.child;null!==h;){for(d=Za=h;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rc(4,f,f.return);break;case 1:ec(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Tl(r,n,g)}}break;case 5:ec(f,f.return);break;case 22:if(null!==f.memoizedState){Ic(d);continue}}null!==p?(p.return=f,Za=p):Ic(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(c=d.stateNode,a=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=me("display",a))}catch(g){Tl(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Tl(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gc(t,e),yc(e),4&r&&mc(e);case 21:}}function yc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ac(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),uc(e,cc(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;lc(e,cc(e),o);break;default:throw Error(s(161))}}catch(a){Tl(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wc(e,t,n){Za=e,bc(e,t,n)}function bc(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$a;if(!o){var a=i.alternate,c=null!==a&&null!==a.memoizedState||Ya;a=$a;var l=Ya;if($a=o,(Ya=c)&&!l)for(Za=i;null!==Za;)c=(o=Za).child,22===o.tag&&null!==o.memoizedState?Ec(i):null!==c?(c.return=o,Za=c):Ec(i);for(;null!==s;)Za=s,bc(s,t,n),s=s.sibling;Za=i,$a=a,Ya=l}_c(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Za=s):_c(e)}}function _c(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||ic(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ya)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Us(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Us(t,a,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(s(163))}Ya||512&t.flags&&sc(t)}catch(f){Tl(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function Ic(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function Ec(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ic(4,t)}catch(c){Tl(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(c){Tl(t,i,c)}}var s=t.return;try{sc(t)}catch(c){Tl(t,s,c)}break;case 5:var o=t.return;try{sc(t)}catch(c){Tl(t,o,c)}}}catch(c){Tl(t,t.return,c)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Sc,Tc=Math.ceil,kc=b.ReactCurrentDispatcher,Cc=b.ReactCurrentOwner,Ac=b.ReactCurrentBatchConfig,xc=0,Pc=null,Nc=null,Rc=0,Dc=0,Oc=Si(0),Lc=0,Fc=null,Mc=0,Uc=0,Vc=0,Bc=null,jc=null,zc=0,qc=1/0,Wc=null,Kc=!1,Gc=null,Hc=null,Qc=!1,Jc=null,$c=0,Yc=0,Xc=null,Zc=-1,el=0;function tl(){return 0!==(6&xc)?Ye():-1!==Zc?Zc:Zc=Ye()}function nl(e){return 0===(1&e.mode)?1:0!==(2&xc)&&0!==Rc?Rc&-Rc:null!==ms.transition?(0===el&&(el=mt()),el):0!==(e=wt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rl(e,t,n,r){if(50<Yc)throw Yc=0,Xc=null,Error(s(185));vt(e,n,r),0!==(2&xc)&&e===Pc||(e===Pc&&(0===(2&xc)&&(Uc|=n),4===Lc&&cl(e,Rc)),il(e,r),1===n&&0===xc&&0===(1&t.mode)&&(qc=Ye()+500,Vi&&zi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,c=i[o];-1===c?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):c<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Pc?Rc:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,ji(e)}(ll.bind(null,e)):ji(ll.bind(null,e)),oi((function(){0===(6&xc)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pl(n,sl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sl(e,t){if(Zc=-1,el=0,0!==(6&xc))throw Error(s(327));var n=e.callbackNode;if(El()&&e.callbackNode!==n)return null;var r=dt(e,e===Pc?Rc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vl(e,r);else{t=r;var i=xc;xc|=2;var o=ml();for(Pc===e&&Rc===t||(Wc=null,qc=Ye()+500,fl(e,t));;)try{wl();break}catch(c){pl(e,c)}_s(),kc.current=o,xc=i,null!==Nc?t=0:(Pc=null,Rc=0,t=Lc)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Fc,fl(e,0),cl(e,r),il(e,Ye()),n;if(6===t)cl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vl(e,r))&&(0!==(o=pt(e))&&(r=o,t=ol(e,o))),1===t))throw n=Fc,fl(e,0),cl(e,r),il(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Il(e,jc,Wc);break;case 3:if(cl(e,r),(130023424&r)===r&&10<(t=zc+500-Ye())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Il.bind(null,e,jc,Wc),t);break}Il(e,jc,Wc);break;case 4:if(cl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tc(r/1960))-r)){e.timeoutHandle=ri(Il.bind(null,e,jc,Wc),r);break}Il(e,jc,Wc);break;default:throw Error(s(329))}}}return il(e,Ye()),e.callbackNode===n?sl.bind(null,e):null}function ol(e,t){var n=Bc;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=vl(e,t))&&(t=jc,jc=n,null!==t&&al(t)),e}function al(e){null===jc?jc=e:jc.push.apply(jc,e)}function cl(e,t){for(t&=~Vc,t&=~Uc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&xc))throw Error(s(327));El();var t=dt(e,0);if(0===(1&t))return il(e,Ye()),null;var n=vl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Fc,fl(e,0),cl(e,t),il(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Il(e,jc,Wc),il(e,Ye()),null}function ul(e,t){var n=xc;xc|=1;try{return e(t)}finally{0===(xc=n)&&(qc=Ye()+500,Vi&&zi())}}function hl(e){null!==Jc&&0===Jc.tag&&0===(6&xc)&&El();var t=xc;xc|=1;var n=Ac.transition,r=wt;try{if(Ac.transition=null,wt=1,e)return e()}finally{wt=r,Ac.transition=n,0===(6&(xc=t))&&zi()}}function dl(){Dc=Oc.current,Ti(Oc)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nc)for(n=Nc.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ti(xi),Ti(Ai),uo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ti(ao);break;case 10:Is(r.type._context);break;case 22:case 23:dl()}n=n.return}if(Pc=e,Nc=e=Ol(e.current,null),Rc=Dc=t,Lc=0,Fc=null,Vc=Uc=Mc=0,jc=Bc=null,null!==ks){for(t=0;t<ks.length;t++)if(null!==(r=(n=ks[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}ks=null}return e}function pl(e,t){for(;;){var n=Nc;try{if(_s(),ho.current=oa,yo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,vo=go=mo=null,wo=!1,bo=0,Cc.current=null,null===n||null===n.return){Lc=1,Fc=t,Nc=null;break}e:{var o=e,a=n.return,c=n,l=t;if(t=Rc,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,h=c,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,c,0,t),1&p.mode&&ga(o,u,t),l=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0===(1&t)){ga(o,u,t),gl();break e}l=Error(s(426))}else if(is&&1&c.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,c,0,t),ps(ua(l,c));break e}}o=l=ua(l,c),4!==Lc&&(Lc=2),null===Bc?Bc=[o]:Bc.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Fs(o,pa(0,l,t));break e;case 1:c=l;var y=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Hc||!Hc.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,Fs(o,ma(o,c,t));break e}}o=o.return}while(null!==o)}_l(n)}catch(b){t=b,Nc===n&&null!==n&&(Nc=n=n.return);continue}break}}function ml(){var e=kc.current;return kc.current=oa,null===e?oa:e}function gl(){0!==Lc&&3!==Lc&&2!==Lc||(Lc=4),null===Pc||0===(268435455&Mc)&&0===(268435455&Uc)||cl(Pc,Rc)}function vl(e,t){var n=xc;xc|=2;var r=ml();for(Pc===e&&Rc===t||(Wc=null,fl(e,t));;)try{yl();break}catch(i){pl(e,i)}if(_s(),xc=n,kc.current=r,null!==Nc)throw Error(s(261));return Pc=null,Rc=0,Lc}function yl(){for(;null!==Nc;)bl(Nc)}function wl(){for(;null!==Nc&&!Je();)bl(Nc)}function bl(e){var t=Sc(e.alternate,e,Dc);e.memoizedProps=e.pendingProps,null===t?_l(e):Nc=t,Cc.current=null}function _l(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Dc)))return void(Nc=n)}else{if(null!==(n=Ja(n,t)))return n.flags&=32767,void(Nc=n);if(null===e)return Lc=6,void(Nc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nc=t);Nc=t=e}while(null!==t);0===Lc&&(Lc=5)}function Il(e,t,n){var r=wt,i=Ac.transition;try{Ac.transition=null,wt=1,function(e,t,n,r){do{El()}while(null!==Jc);if(0!==(6&xc))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Pc&&(Nc=Pc=null,Rc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qc||(Qc=!0,Pl(tt,(function(){return El(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ac.transition,Ac.transition=null;var a=wt;wt=1;var c=xc;xc|=4,Cc.current=null,function(e,t){if(ei=Wt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var a=0,c=-1,l=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(c=a+i),d!==o||0!==r&&3!==d.nodeType||(l=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(c=a),f===o&&++h===r&&(l=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(_){Tl(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=nc,nc=!1}(e,n),vc(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,wc(n,e,i),$e(),xc=c,wt=a,Ac.transition=o}else e.current=n;if(Qc&&(Qc=!1,Jc=e,$c=i),o=e.pendingLanes,0===o&&(Hc=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kc)throw Kc=!1,e=Gc,Gc=null,e;0!==(1&$c)&&0!==e.tag&&El(),o=e.pendingLanes,0!==(1&o)?e===Xc?Yc++:(Yc=0,Xc=e):Yc=0,zi()}(e,t,n,r)}finally{Ac.transition=i,wt=r}return null}function El(){if(null!==Jc){var e=bt($c),t=Ac.transition,n=wt;try{if(Ac.transition=null,wt=16>e?16:e,null===Jc)var r=!1;else{if(e=Jc,Jc=null,$c=0,0!==(6&xc))throw Error(s(331));var i=xc;for(xc|=4,Za=e.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var c=o.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Za=u;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:rc(8,h,o)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var f=(h=Za).sibling,p=h.return;if(oc(h),h===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else e:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:rc(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Za=y;break e}Za=o.return}}var w=e.current;for(Za=w;null!==Za;){var b=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Za=b;else e:for(a=w;null!==Za;){if(0!==(2048&(c=Za).flags))try{switch(c.tag){case 0:case 11:case 15:ic(9,c)}}catch(I){Tl(c,c.return,I)}if(c===a){Za=null;break e}var _=c.sibling;if(null!==_){_.return=c.return,Za=_;break e}Za=c.return}}if(xc=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(I){}r=!0}return r}finally{wt=n,Ac.transition=t}}return!1}function Sl(e,t,n){e=Os(e,t=pa(0,t=ua(n,t),1),1),t=tl(),null!==e&&(vt(e,1,t),il(e,t))}function Tl(e,t,n){if(3===e.tag)Sl(e,e,n);else for(;null!==t;){if(3===t.tag){Sl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hc||!Hc.has(r))){t=Os(t,e=ma(t,e=ua(n,e),1),1),e=tl(),null!==t&&(vt(t,1,e),il(t,e));break}}t=t.return}}function kl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Pc===e&&(Rc&n)===n&&(4===Lc||3===Lc&&(130023424&Rc)===Rc&&500>Ye()-zc?fl(e,0):Vc|=n),il(e,t)}function Cl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tl();null!==(e=xs(e,t))&&(vt(e,t,n),il(e,n))}function Al(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cl(e,n)}function xl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cl(e,n)}function Pl(e,t){return He(e,t)}function Nl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(e,t,n,r){return new Nl(e,t,n,r)}function Dl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ol(e,t){var n=e.alternate;return null===n?((n=Rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ll(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Dl(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case E:return Fl(n.children,i,o,t);case S:a=8,i|=8;break;case T:return(e=Rl(12,n,t,2|i)).elementType=T,e.lanes=o,e;case x:return(e=Rl(13,n,t,i)).elementType=x,e.lanes=o,e;case P:return(e=Rl(19,n,t,i)).elementType=P,e.lanes=o,e;case D:return Ml(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case C:a=9;break e;case A:a=11;break e;case N:a=14;break e;case R:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Rl(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Fl(e,t,n,r){return(e=Rl(7,e,r,t)).lanes=n,e}function Ml(e,t,n,r){return(e=Rl(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Ul(e,t,n){return(e=Rl(6,e,null,t)).lanes=n,e}function Vl(e,t,n){return(t=Rl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jl(e,t,n,r,i,s,o,a,c){return e=new Bl(e,t,n,a,c),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Rl(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ns(s),e}function zl(e){if(!e)return Ci;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function ql(e,t,n,r,i,s,o,a,c){return(e=jl(n,r,!0,e,0,s,0,a,c)).context=zl(null),n=e.current,(s=Ds(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Os(n,s,i),e.current.lanes=i,vt(e,i,r),il(e,r),e}function Wl(e,t,n,r){var i=t.current,s=tl(),o=nl(i);return n=zl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ds(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Os(i,t,o))&&(rl(e,i,o,s),Ls(e,i,o)),o}function Kl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hl(e,t){Gl(e,t),(e=e.alternate)&&Gl(e,t)}Sc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||xi.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Pa(t),fs();break;case 5:so(t);break;case 1:Ri(t.type)&&Fi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(vs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(ao,1&ao.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ua(e,t,n):(ki(ao,1&ao.current),null!==(e=Ka(e,t,n))?e.sibling:null);ki(ao,1&ao.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(ao,ao.current),r)break;return null;case 22:case 23:return t.lanes=0,Ta(e,t,n)}return Ka(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,is&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var i=Ni(t,Ai.current);Ss(t,n),i=So(null,t,r,e,i,n);var o=To();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Fi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ns(t),i.updater=js,t.stateNode=i,i._reactInternals=t,Ks(t,r,e,n),t=xa(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),_a(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===N)return 14}return 2}(r),e=gs(r,e),i){case 0:t=Ca(null,t,r,e,n);break e;case 1:t=Aa(null,t,r,e,n);break e;case 11:t=Ia(null,t,r,e,n);break e;case 14:t=Ea(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,Aa(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(Pa(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Rs(e,t),Ms(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Na(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Na(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=li(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Ys(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ka(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return so(t),null===e&&ls(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),ka(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&ls(t),null;case 13:return Ua(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$s(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ki(vs,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!xi.current){t=Ka(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var c=o.dependencies;if(null!==c){a=o.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Ds(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Es(o.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Es(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}_a(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ss(t,n),r=r(i=Ts(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),Ea(e,t,r,i=gs(r.type,i),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),Wa(e,t),t.tag=1,Ri(r)?(e=!0,Fi(t)):e=!1,Ss(t,n),qs(t,r,i),Ks(t,r,i,n),xa(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return Ta(e,t,n)}throw Error(s(156,t.tag))};var Ql="function"===typeof reportError?reportError:function(e){console.error(e)};function Jl(e){this._internalRoot=e}function $l(e){this._internalRoot=e}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Kl(o);a.call(e)}}Wl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Kl(o);s.call(e)}}var o=ql(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),hl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Kl(c);a.call(e)}}var c=jl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=c,e[pi]=c.current,zr(8===e.nodeType?e.parentNode:e),hl((function(){Wl(t,c,n,r)})),c}(n,t,e,i,r);return Kl(o)}$l.prototype.render=Jl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wl(e,t,null,null)},$l.prototype.unmount=Jl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hl((function(){Wl(null,e,null,null)})),t[pi]=null}},$l.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Mt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),il(t,Ye()),0===(6&xc)&&(qc=Ye()+500,zi()))}break;case 13:hl((function(){var t=xs(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Hl(e,1)}},It=function(e){if(13===e.tag){var t=xs(e,134217728);if(null!==t)rl(t,e,134217728,tl());Hl(e,134217728)}},Et=function(e){if(13===e.tag){var t=nl(e),n=xs(e,t);if(null!==n)rl(n,e,t,tl());Hl(e,t)}},St=function(){return wt},Tt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Ie=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));H(r),X(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=ul,xe=hl;var tu={usingClientEntryPoint:!1,Events:[wi,bi,_i,ke,Ce,ul]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yl(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yl(e))throw Error(s(299));var n=!1,r="",i=Ql;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Jl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return hl(e)},t.hydrate=function(e,t,n){if(!Xl(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yl(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Ql;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=ql(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $l(t)},t.render=function(e,t,n){if(!Xl(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(s(40));return!!e._reactRootContainer&&(hl((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ul,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xl(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,s={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!c.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:u,props:s,_owner:a.current}}t.jsx=l,t.jsxs=l},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var _=Array.isArray,I=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)I.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===s[i]&&(s[i]=c[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:E.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c=!1;if(null===e)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return o=o(c=e),e=""===s?"."+A(c,0):s,_(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),x(o,t,i,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(c=0,s=""===s?".":s+":",_(e))for(var l=0;l<e.length;l++){var u=s+A(a=e[l],l);c+=x(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(a=e.next()).done;)c+=x(a=a.value,t,i,u=s+A(a,l++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function P(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},D={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:D,ReactCurrentOwner:E};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=E.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)I.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,c=e[a],l=a+1,u=e[l];if(0>s(c,n))l<i&&0>s(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[a]=n,r=a);else{if(!(l<i&&0>s(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var l=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function _(e){if(g=!1,b(e),!m)if(null!==r(l))m=!0,D(I);else{var t=r(u);null!==t&&O(_,t.startTime-e)}}function I(e,n){m=!1,g&&(g=!1,y(k),k=-1),p=!0;var s=f;try{for(b(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!x());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(l)&&i(l),b(n)}else i(l);d=r(l)}if(null!==d)var c=!0;else{var h=r(u);null!==h&&O(_,h.startTime-n),c=!1}return c}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,T=null,k=-1,C=5,A=-1;function x(){return!(t.unstable_now()-A<C)}function P(){if(null!==T){var e=t.unstable_now();A=e;var n=!0;try{n=T(!0,e)}finally{n?E():(S=!1,T=null)}}else S=!1}if("function"===typeof w)E=function(){w(P)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,R=N.port2;N.port1.onmessage=P,E=function(){R.postMessage(null)}}else E=function(){v(P,0)};function D(e){T=e,S||(S=!0,E())}function O(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(I))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(l)&&e===r(u)&&(g?(y(k),k=-1):g=!0,O(_,s-o))):(e.sortIndex=a,n(l,e),m||p||(m=!0,D(I))),e},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},324:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var s=Object.keys(e),o=Object.keys(t);if(s.length!==o.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),c=0;c<s.length;c++){var l=s[c];if(!a(l))return!1;var u=e[l],h=t[l];if(!1===(i=n?n.call(r,u,h,l):void 0)||void 0===i&&u!==h)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0,(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>ui,SDK_VERSION:()=>ys,_DEFAULT_ENTRY_NAME:()=>ns,_addComponent:()=>as,_addOrOverwriteComponent:()=>cs,_apps:()=>is,_clearComponents:()=>ps,_components:()=>os,_getProvider:()=>us,_isFirebaseApp:()=>ds,_isFirebaseServerApp:()=>fs,_registerComponent:()=>ls,_removeServiceInstance:()=>hs,_serverApps:()=>ss,deleteApp:()=>Es,getApp:()=>_s,getApps:()=>Is,initializeApp:()=>ws,initializeServerApp:()=>bs,onLog:()=>Ts,registerVersion:()=>Ss,setLogLevel:()=>ks});var t,r=n(43),i=n.t(r,2),s=n(391),o=n(950),a=n.t(o,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const l="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,n,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,a=s.history,h=t.Pop,m=null,g=v();function v(){return(a.state||{idx:null}).idx}function y(){h=t.Pop;let e=v(),n=null==e?null:e-g;g=e,m&&m({action:h,location:b.location,delta:n})}function w(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,a.replaceState(c({},a.state,{idx:g}),""));let b={get action(){return h},get location(){return e(s,a)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(l,y),m=e,()=>{s.removeEventListener(l,y),m=null}},createHref:e=>n(s,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){h=t.Push;let i=f(b.location,e,n);r&&r(i,e),g=v()+1;let c=d(i,g),l=b.createHref(i);try{a.pushState(c,"",l)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(l)}o&&m&&m({action:h,location:b.location,delta:1})},replace:function(e,n){h=t.Replace;let i=f(b.location,e,n);r&&r(i,e),g=v();let s=d(i,g),c=b.createHref(i);a.replaceState(s,"",c),o&&m&&m({action:h,location:b.location,delta:0})},go:e=>a.go(e)};return b}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){void 0===n&&(n="/");let r=R(("string"===typeof t?m(t):t).pathname||"/",n);if(null==r)return null;let i=w(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=N(r);s=x(i[o],e)}return s}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(u(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=M([r,o.relativePath]),c=n.concat(o);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),w(e.children,t,c,a)),(null!=e.path||e.index)&&t.push({path:a,score:A(a,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))i(e,t,r);else i(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=b(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const _=/^:[\w-]+$/,I=3,E=2,S=1,T=10,k=-2,C=e=>"*"===e;function A(e,t){let n=e.split("/"),r=n.length;return n.some(C)&&(r+=k),t&&(r+=E),n.filter((e=>!C(e))).reduce(((e,t)=>e+(_.test(t)?I:""===t?S:T)),r)}function x(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],a=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},c);if(!l)return null;Object.assign(r,l.params);let u=e.route;s.push({params:r,pathname:M([i,l.pathname]),pathnameBase:U(M([i,l.pathnameBase])),route:u}),"/"!==l.pathnameBase&&(i=M([i,l.pathnameBase]))}return s}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const c=a[n];return e[r]=i&&!c?void 0:(c||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function N(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function L(e,t){let n=O(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function F(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=c({},e),u(!i.pathname||!i.pathname.includes("?"),D("?","pathname","search",i)),u(!i.pathname||!i.pathname.includes("#"),D("#","pathname","hash",i)),u(!i.search||!i.search.includes("#"),D("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:V(r),hash:B(i)}}(i,s),h=a&&"/"!==a&&a.endsWith("/"),d=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!h&&!d||(l.pathname+="/"),l}const M=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function j(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const z=["post","put","patch","delete"],q=(new Set(z),["get",...z]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const K=r.createContext(null);const G=r.createContext(null);const H=r.createContext(null);const Q=r.createContext(null);const J=r.createContext({outlet:null,matches:[],isDataRoute:!1});const $=r.createContext(null);function Y(){return null!=r.useContext(Q)}function X(){return Y()||u(!1),r.useContext(Q).location}function Z(e){r.useContext(H).static||r.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=r.useContext(J);return e?function(){let{router:e}=ue(ce.UseNavigateStable),t=de(le.UseNavigateStable),n=r.useRef(!1);Z((()=>{n.current=!0}));let i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,W({fromRouteId:t},i)))}),[e,t]);return i}():function(){Y()||u(!1);let e=r.useContext(K),{basename:t,future:n,navigator:i}=r.useContext(H),{matches:s}=r.useContext(J),{pathname:o}=X(),a=JSON.stringify(L(s,n.v7_relativeSplatPath)),c=r.useRef(!1);return Z((()=>{c.current=!0})),r.useCallback((function(n,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof n)return void i.go(n);let s=F(n,JSON.parse(a),o,"path"===r.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:M([t,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[t,i,a,o,e])}()}function te(e,t){let{relative:n}=void 0===t?{}:t,{future:i}=r.useContext(H),{matches:s}=r.useContext(J),{pathname:o}=X(),a=JSON.stringify(L(s,i.v7_relativeSplatPath));return r.useMemo((()=>F(e,JSON.parse(a),o,"path"===n)),[e,a,o,n])}function ne(e,n,i,s){Y()||u(!1);let{navigator:o}=r.useContext(H),{matches:a}=r.useContext(J),c=a[a.length-1],l=c?c.params:{},h=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let d,f=X();if(n){var p;let e="string"===typeof n?m(n):n;"/"===h||(null==(p=e.pathname)?void 0:p.startsWith(h))||u(!1),d=e}else d=f;let g=d.pathname||"/",v=g;if("/"!==h){let e=h.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=y(e,{pathname:v});let b=ae(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:M([h,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:M([h,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,i,s);return n&&b?r.createElement(Q.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:t.Pop}},b):b}function re(){let e=function(){var e;let t=r.useContext($),n=he(le.UseRouteError),i=de(le.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=j(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,null)}const ie=r.createElement(re,null);class se extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(J.Provider,{value:this.props.routeContext},r.createElement($.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:n,children:i}=e,s=r.useContext(K);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(J.Provider,{value:t},i)}function ae(e,t,n,i){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var o;if(null==(o=n)||!o.errors)return null;e=n.matches}let a=e,c=null==(s=n)?void 0:s.errors;if(null!=c){let e=a.findIndex((e=>e.route.id&&(null==c?void 0:c[e.route.id])));e>=0||u(!1),a=a.slice(0,Math.min(a.length,e+1))}let l=!1,h=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<a.length;r++){let e=a[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){l=!0,a=h>=0?a.slice(0,h+1):[a[0]];break}}}return a.reduceRight(((e,i,s)=>{let o,u=!1,d=null,f=null;var p;n&&(o=c&&i.route.id?c[i.route.id]:void 0,d=i.route.errorElement||ie,l&&(h<0&&0===s?(p="route-fallback",!1||fe[p]||(fe[p]=!0),u=!0,f=null):h===s&&(u=!0,f=i.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,s+1)),g=()=>{let t;return t=o?d:u?f:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(oe,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?r.createElement(se,{location:n.location,revalidation:n.revalidation,component:d,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),le=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(le||{});function ue(e){let t=r.useContext(K);return t||u(!1),t}function he(e){let t=r.useContext(G);return t||u(!1),t}function de(e){let t=function(e){let t=r.useContext(J);return t||u(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||u(!1),n.route.id}const fe={};i.startTransition;function pe(e){u(!1)}function me(e){let{basename:n="/",children:i=null,location:s,navigationType:o=t.Pop,navigator:a,static:c=!1,future:l}=e;Y()&&u(!1);let h=n.replace(/^\/*/,"/"),d=r.useMemo((()=>({basename:h,navigator:a,static:c,future:W({v7_relativeSplatPath:!1},l)})),[h,l,a,c]);"string"===typeof s&&(s=m(s));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:y="default"}=s,w=r.useMemo((()=>{let e=R(f,h);return null==e?null:{location:{pathname:e,search:p,hash:g,state:v,key:y},navigationType:o}}),[h,f,p,g,v,y,o]);return null==w?null:r.createElement(H.Provider,{value:d},r.createElement(Q.Provider,{children:i,value:w}))}function ge(e){let{children:t,location:n}=e;return ne(ve(t),n)}new Promise((()=>{}));r.Component;function ve(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let s=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,ve(e.props.children,s));e.type!==pe&&u(!1),e.props.index&&e.props.children&&u(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ve(e.props.children,s)),n.push(o)})),n}function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye.apply(this,arguments)}function we(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const be=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(yA){}new Map;const _e=i.startTransition;a.flushSync,i.useId;function Ie(e){let{basename:t,children:n,future:i,window:s}=e,o=r.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),g((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:p(t)}),null,a)));let c=o.current,[l,u]=r.useState({action:c.action,location:c.location}),{v7_startTransition:h}=i||{},d=r.useCallback((e=>{h&&_e?_e((()=>u(e))):u(e)}),[u,h]);return r.useLayoutEffect((()=>c.listen(d)),[c,d]),r.createElement(me,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:c,future:i})}const Ee="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Se=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=r.forwardRef((function(e,t){let n,{onClick:i,relative:s,reloadDocument:o,replace:a,state:c,target:l,to:h,preventScrollReset:d,unstable_viewTransition:f}=e,m=we(e,be),{basename:g}=r.useContext(H),v=!1;if("string"===typeof h&&Se.test(h)&&(n=h,Ee))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=R(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:v=!0}catch(yA){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Y()||u(!1);let{basename:i,navigator:s}=r.useContext(H),{hash:o,pathname:a,search:c}=te(e,{relative:n}),l=a;return"/"!==i&&(l="/"===a?i:M([i,a])),s.createHref({pathname:l,search:c,hash:o})}(h,{relative:s}),w=function(e,t){let{target:n,replace:i,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:c}=void 0===t?{}:t,l=ee(),u=X(),h=te(e,{relative:a});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:p(u)===p(h);l(e,{replace:n,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:c})}}),[u,l,h,i,s,n,e,o,a,c])}(h,{replace:a,state:c,target:l,preventScrollReset:d,relative:s,unstable_viewTransition:f});return r.createElement("a",ye({},m,{href:n||y,onClick:v||o?i:function(e){i&&i(e),e.defaultPrevented||w(e)},ref:t,target:l}))}));var ke,Ce;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ke||(ke={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ce||(Ce={}));function Ae(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var xe=function(){return xe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},xe.apply(this,arguments)};Object.create;function Pe(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var Ne=n(324),Re=n.n(Ne),De="-ms-",Oe="-moz-",Le="-webkit-",Fe="comm",Me="rule",Ue="decl",Ve="@import",Be="@keyframes",je="@layer",ze=Math.abs,qe=String.fromCharCode,We=Object.assign;function Ke(e){return e.trim()}function Ge(e,t){return(e=t.exec(e))?e[0]:e}function He(e,t,n){return e.replace(t,n)}function Qe(e,t,n){return e.indexOf(t,n)}function Je(e,t){return 0|e.charCodeAt(t)}function $e(e,t,n){return e.slice(t,n)}function Ye(e){return e.length}function Xe(e){return e.length}function Ze(e,t){return t.push(e),e}function et(e,t){return e.filter((function(e){return!Ge(e,t)}))}var tt=1,nt=1,rt=0,it=0,st=0,ot="";function at(e,t,n,r,i,s,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:tt,column:nt,length:o,return:"",siblings:a}}function ct(e,t){return We(at("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function lt(e){for(;e.root;)e=ct(e.root,{children:[e]});Ze(e,e.siblings)}function ut(){return st=it>0?Je(ot,--it):0,nt--,10===st&&(nt=1,tt--),st}function ht(){return st=it<rt?Je(ot,it++):0,nt++,10===st&&(nt=1,tt++),st}function dt(){return Je(ot,it)}function ft(){return it}function pt(e,t){return $e(ot,e,t)}function mt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function gt(e){return tt=nt=1,rt=Ye(ot=e),it=0,[]}function vt(e){return ot="",e}function yt(e){return Ke(pt(it-1,_t(91===e?e+2:40===e?e+1:e)))}function wt(e){for(;(st=dt())&&st<33;)ht();return mt(e)>2||mt(st)>3?"":" "}function bt(e,t){for(;--t&&ht()&&!(st<48||st>102||st>57&&st<65||st>70&&st<97););return pt(e,ft()+(t<6&&32==dt()&&32==ht()))}function _t(e){for(;ht();)switch(st){case e:return it;case 34:case 39:34!==e&&39!==e&&_t(st);break;case 40:41===e&&_t(e);break;case 92:ht()}return it}function It(e,t){for(;ht()&&e+st!==57&&(e+st!==84||47!==dt()););return"/*"+pt(t,it-1)+"*"+qe(47===e?e:ht())}function Et(e){for(;!mt(dt());)ht();return pt(e,it)}function St(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function Tt(e,t,n,r){switch(e.type){case je:if(e.children.length)break;case Ve:case Ue:return e.return=e.return||e.value;case Fe:return"";case Be:return e.return=e.value+"{"+St(e.children,r)+"}";case Me:if(!Ye(e.value=e.props.join(",")))return""}return Ye(n=St(e.children,r))?e.return=e.value+"{"+n+"}":""}function kt(e,t,n){switch(function(e,t){return 45^Je(e,0)?(((t<<2^Je(e,0))<<2^Je(e,1))<<2^Je(e,2))<<2^Je(e,3):0}(e,t)){case 5103:return Le+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Le+e+e;case 4789:return Oe+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Le+e+Oe+e+De+e+e;case 5936:switch(Je(e,t+11)){case 114:return Le+e+De+He(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Le+e+De+He(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Le+e+De+He(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Le+e+De+e+e;case 6165:return Le+e+De+"flex-"+e+e;case 5187:return Le+e+He(e,/(\w+).+(:[^]+)/,Le+"box-$1$2"+De+"flex-$1$2")+e;case 5443:return Le+e+De+"flex-item-"+He(e,/flex-|-self/g,"")+(Ge(e,/flex-|baseline/)?"":De+"grid-row-"+He(e,/flex-|-self/g,""))+e;case 4675:return Le+e+De+"flex-line-pack"+He(e,/align-content|flex-|-self/g,"")+e;case 5548:return Le+e+De+He(e,"shrink","negative")+e;case 5292:return Le+e+De+He(e,"basis","preferred-size")+e;case 6060:return Le+"box-"+He(e,"-grow","")+Le+e+De+He(e,"grow","positive")+e;case 4554:return Le+He(e,/([^-])(transform)/g,"$1"+Le+"$2")+e;case 6187:return He(He(He(e,/(zoom-|grab)/,Le+"$1"),/(image-set)/,Le+"$1"),e,"")+e;case 5495:case 3959:return He(e,/(image-set\([^]*)/,Le+"$1$`$1");case 4968:return He(He(e,/(.+:)(flex-)?(.*)/,Le+"box-pack:$3"+De+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Le+e+e;case 4200:if(!Ge(e,/flex-|baseline/))return De+"grid-column-align"+$e(e,t)+e;break;case 2592:case 3360:return De+He(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,Ge(e.props,/grid-\w+-end/)}))?~Qe(e+(n=n[t].value),"span",0)?e:De+He(e,"-start","")+e+De+"grid-row-span:"+(~Qe(n,"span",0)?Ge(n,/\d+/):+Ge(n,/\d+/)-+Ge(e,/\d+/))+";":De+He(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return Ge(e.props,/grid-\w+-start/)}))?e:De+He(He(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return He(e,/(.+)-inline(.+)/,Le+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ye(e)-1-t>6)switch(Je(e,t+1)){case 109:if(45!==Je(e,t+4))break;case 102:return He(e,/(.+:)(.+)-([^]+)/,"$1"+Le+"$2-$3$1"+Oe+(108==Je(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Qe(e,"stretch",0)?kt(He(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return He(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,i,s,o,a){return De+n+":"+r+a+(i?De+n+"-span:"+(s?o:+o-+r)+a:"")+e}));case 4949:if(121===Je(e,t+6))return He(e,":",":"+Le)+e;break;case 6444:switch(Je(e,45===Je(e,14)?18:11)){case 120:return He(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Le+(45===Je(e,14)?"inline-":"")+"box$3$1"+Le+"$2$3$1"+De+"$2box$3")+e;case 100:return He(e,":",":"+De)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return He(e,"scroll-","scroll-snap-")+e}return e}function Ct(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Ue:return void(e.return=kt(e.value,e.length,n));case Be:return St([ct(e,{value:He(e.value,"@","@"+Le)})],r);case Me:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,(function(t){switch(Ge(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":lt(ct(e,{props:[He(t,/:(read-\w+)/,":"+Oe+"$1")]})),lt(ct(e,{props:[t]})),We(e,{props:et(n,r)});break;case"::placeholder":lt(ct(e,{props:[He(t,/:(plac\w+)/,":"+Le+"input-$1")]})),lt(ct(e,{props:[He(t,/:(plac\w+)/,":"+Oe+"$1")]})),lt(ct(e,{props:[He(t,/:(plac\w+)/,De+"input-$1")]})),lt(ct(e,{props:[t]})),We(e,{props:et(n,r)})}return""}))}}function At(e){return vt(xt("",null,null,null,[""],e=gt(e),0,[0],e))}function xt(e,t,n,r,i,s,o,a,c){for(var l=0,u=0,h=o,d=0,f=0,p=0,m=1,g=1,v=1,y=0,w="",b=i,_=s,I=r,E=w;g;)switch(p=y,y=ht()){case 40:if(108!=p&&58==Je(E,h-1)){-1!=Qe(E+=He(yt(y),"&","&\f"),"&\f",ze(l?a[l-1]:0))&&(v=-1);break}case 34:case 39:case 91:E+=yt(y);break;case 9:case 10:case 13:case 32:E+=wt(p);break;case 92:E+=bt(ft()-1,7);continue;case 47:switch(dt()){case 42:case 47:Ze(Nt(It(ht(),ft()),t,n,c),c);break;default:E+="/"}break;case 123*m:a[l++]=Ye(E)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(E=He(E,/\f/g,"")),f>0&&Ye(E)-h&&Ze(f>32?Rt(E+";",r,n,h-1,c):Rt(He(E," ","")+";",r,n,h-2,c),c);break;case 59:E+=";";default:if(Ze(I=Pt(E,t,n,l,u,i,a,w,b=[],_=[],h,s),s),123===y)if(0===u)xt(E,t,I,I,b,s,h,a,_);else switch(99===d&&110===Je(E,3)?100:d){case 100:case 108:case 109:case 115:xt(e,I,I,r&&Ze(Pt(e,I,I,0,0,i,a,w,i,b=[],h,_),_),i,_,h,a,r?b:_);break;default:xt(E,I,I,I,[""],_,0,a,_)}}l=u=f=0,m=v=1,w=E="",h=o;break;case 58:h=1+Ye(E),f=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==ut())continue;switch(E+=qe(y),y*m){case 38:v=u>0?1:(E+="\f",-1);break;case 44:a[l++]=(Ye(E)-1)*v,v=1;break;case 64:45===dt()&&(E+=yt(ht())),d=dt(),u=h=Ye(w=E+=Et(ft())),y++;break;case 45:45===p&&2==Ye(E)&&(m=0)}}return s}function Pt(e,t,n,r,i,s,o,a,c,l,u,h){for(var d=i-1,f=0===i?s:[""],p=Xe(f),m=0,g=0,v=0;m<r;++m)for(var y=0,w=$e(e,d+1,d=ze(g=o[m])),b=e;y<p;++y)(b=Ke(g>0?f[y]+" "+w:He(w,/&\f/g,f[y])))&&(c[v++]=b);return at(e,t,n,0===i?Me:a,c,l,u,h)}function Nt(e,t,n,r){return at(e,t,n,Fe,qe(st),$e(e,2,-2),0,r)}function Rt(e,t,n,r,i){return at(e,t,n,Ue,$e(e,0,r),$e(e,r+1,-1),r,i)}const Dt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Ot="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API_ID:"1:1051822520467:web:b4b0819232c8b3d7d47566",REACT_APP_FB_API_KEY:"AIzaSyAciSRIhaWirwnvxxiNJvtpJv8e-W76fD8",REACT_APP_FB_AUTH_DOMAIN:"mini-blog-7c4db.firebaseapp.com",REACT_APP_FB_MESSAGING_SENDER_ID:"1051822520467",REACT_APP_FB_PROJECT_ID:"mini-blog-7c4db",REACT_APP_FB_STORAGE_BUCKET:"mini-blog-7c4db.appspot.com"}&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API_ID:"1:1051822520467:web:b4b0819232c8b3d7d47566",REACT_APP_FB_API_KEY:"AIzaSyAciSRIhaWirwnvxxiNJvtpJv8e-W76fD8",REACT_APP_FB_AUTH_DOMAIN:"mini-blog-7c4db.firebaseapp.com",REACT_APP_FB_MESSAGING_SENDER_ID:"1051822520467",REACT_APP_FB_PROJECT_ID:"mini-blog-7c4db",REACT_APP_FB_STORAGE_BUCKET:"mini-blog-7c4db.appspot.com"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API_ID:"1:1051822520467:web:b4b0819232c8b3d7d47566",REACT_APP_FB_API_KEY:"AIzaSyAciSRIhaWirwnvxxiNJvtpJv8e-W76fD8",REACT_APP_FB_AUTH_DOMAIN:"mini-blog-7c4db.firebaseapp.com",REACT_APP_FB_MESSAGING_SENDER_ID:"1051822520467",REACT_APP_FB_PROJECT_ID:"mini-blog-7c4db",REACT_APP_FB_STORAGE_BUCKET:"mini-blog-7c4db.appspot.com"}.SC_ATTR)||"data-styled",Lt="active",Ft="data-styled-version",Mt="6.1.8",Ut="/*!sc*/\n",Vt="undefined"!=typeof window&&"HTMLElement"in window,Bt=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API_ID:"1:1051822520467:web:b4b0819232c8b3d7d47566",REACT_APP_FB_API_KEY:"AIzaSyAciSRIhaWirwnvxxiNJvtpJv8e-W76fD8",REACT_APP_FB_AUTH_DOMAIN:"mini-blog-7c4db.firebaseapp.com",REACT_APP_FB_MESSAGING_SENDER_ID:"1051822520467",REACT_APP_FB_PROJECT_ID:"mini-blog-7c4db",REACT_APP_FB_STORAGE_BUCKET:"mini-blog-7c4db.appspot.com"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API_ID:"1:1051822520467:web:b4b0819232c8b3d7d47566",REACT_APP_FB_API_KEY:"AIzaSyAciSRIhaWirwnvxxiNJvtpJv8e-W76fD8",REACT_APP_FB_AUTH_DOMAIN:"mini-blog-7c4db.firebaseapp.com",REACT_APP_FB_MESSAGING_SENDER_ID:"1051822520467",REACT_APP_FB_PROJECT_ID:"mini-blog-7c4db",REACT_APP_FB_STORAGE_BUCKET:"mini-blog-7c4db.appspot.com"}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API_ID:"1:1051822520467:web:b4b0819232c8b3d7d47566",REACT_APP_FB_API_KEY:"AIzaSyAciSRIhaWirwnvxxiNJvtpJv8e-W76fD8",REACT_APP_FB_AUTH_DOMAIN:"mini-blog-7c4db.firebaseapp.com",REACT_APP_FB_MESSAGING_SENDER_ID:"1051822520467",REACT_APP_FB_PROJECT_ID:"mini-blog-7c4db",REACT_APP_FB_STORAGE_BUCKET:"mini-blog-7c4db.appspot.com"}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API_ID:"1:1051822520467:web:b4b0819232c8b3d7d47566",REACT_APP_FB_API_KEY:"AIzaSyAciSRIhaWirwnvxxiNJvtpJv8e-W76fD8",REACT_APP_FB_AUTH_DOMAIN:"mini-blog-7c4db.firebaseapp.com",REACT_APP_FB_MESSAGING_SENDER_ID:"1051822520467",REACT_APP_FB_PROJECT_ID:"mini-blog-7c4db",REACT_APP_FB_STORAGE_BUCKET:"mini-blog-7c4db.appspot.com"}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API_ID:"1:1051822520467:web:b4b0819232c8b3d7d47566",REACT_APP_FB_API_KEY:"AIzaSyAciSRIhaWirwnvxxiNJvtpJv8e-W76fD8",REACT_APP_FB_AUTH_DOMAIN:"mini-blog-7c4db.firebaseapp.com",REACT_APP_FB_MESSAGING_SENDER_ID:"1051822520467",REACT_APP_FB_PROJECT_ID:"mini-blog-7c4db",REACT_APP_FB_STORAGE_BUCKET:"mini-blog-7c4db.appspot.com"}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API_ID:"1:1051822520467:web:b4b0819232c8b3d7d47566",REACT_APP_FB_API_KEY:"AIzaSyAciSRIhaWirwnvxxiNJvtpJv8e-W76fD8",REACT_APP_FB_AUTH_DOMAIN:"mini-blog-7c4db.firebaseapp.com",REACT_APP_FB_MESSAGING_SENDER_ID:"1051822520467",REACT_APP_FB_PROJECT_ID:"mini-blog-7c4db",REACT_APP_FB_STORAGE_BUCKET:"mini-blog-7c4db.appspot.com"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API_ID:"1:1051822520467:web:b4b0819232c8b3d7d47566",REACT_APP_FB_API_KEY:"AIzaSyAciSRIhaWirwnvxxiNJvtpJv8e-W76fD8",REACT_APP_FB_AUTH_DOMAIN:"mini-blog-7c4db.firebaseapp.com",REACT_APP_FB_MESSAGING_SENDER_ID:"1051822520467",REACT_APP_FB_PROJECT_ID:"mini-blog-7c4db",REACT_APP_FB_STORAGE_BUCKET:"mini-blog-7c4db.appspot.com"}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API_ID:"1:1051822520467:web:b4b0819232c8b3d7d47566",REACT_APP_FB_API_KEY:"AIzaSyAciSRIhaWirwnvxxiNJvtpJv8e-W76fD8",REACT_APP_FB_AUTH_DOMAIN:"mini-blog-7c4db.firebaseapp.com",REACT_APP_FB_MESSAGING_SENDER_ID:"1051822520467",REACT_APP_FB_PROJECT_ID:"mini-blog-7c4db",REACT_APP_FB_STORAGE_BUCKET:"mini-blog-7c4db.appspot.com"}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API_ID:"1:1051822520467:web:b4b0819232c8b3d7d47566",REACT_APP_FB_API_KEY:"AIzaSyAciSRIhaWirwnvxxiNJvtpJv8e-W76fD8",REACT_APP_FB_AUTH_DOMAIN:"mini-blog-7c4db.firebaseapp.com",REACT_APP_FB_MESSAGING_SENDER_ID:"1051822520467",REACT_APP_FB_PROJECT_ID:"mini-blog-7c4db",REACT_APP_FB_STORAGE_BUCKET:"mini-blog-7c4db.appspot.com"}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API_ID:"1:1051822520467:web:b4b0819232c8b3d7d47566",REACT_APP_FB_API_KEY:"AIzaSyAciSRIhaWirwnvxxiNJvtpJv8e-W76fD8",REACT_APP_FB_AUTH_DOMAIN:"mini-blog-7c4db.firebaseapp.com",REACT_APP_FB_MESSAGING_SENDER_ID:"1051822520467",REACT_APP_FB_PROJECT_ID:"mini-blog-7c4db",REACT_APP_FB_STORAGE_BUCKET:"mini-blog-7c4db.appspot.com"}.SC_DISABLE_SPEEDY)),jt=(new Set,Object.freeze([])),zt=Object.freeze({});function qt(e,t,n){return void 0===n&&(n=zt),e.theme!==n.theme&&e.theme||t||n.theme}var Wt=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Kt=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Gt=/(^-|-$)/g;function Ht(e){return e.replace(Kt,"-").replace(Gt,"")}var Qt=/(a)(d)/gi,Jt=52,$t=function(e){return String.fromCharCode(e+(e>25?39:97))};function Yt(e){var t,n="";for(t=Math.abs(e);t>Jt;t=t/Jt|0)n=$t(t%Jt)+n;return($t(t%Jt)+n).replace(Qt,"$1-$2")}var Xt,Zt=5381,en=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},tn=function(e){return en(Zt,e)};function nn(e){return Yt(tn(e)>>>0)}function rn(e){return e.displayName||e.name||"Component"}function sn(e){return"string"==typeof e&&!0}var on="function"==typeof Symbol&&Symbol.for,an=on?Symbol.for("react.memo"):60115,cn=on?Symbol.for("react.forward_ref"):60112,ln={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},un={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},hn={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},dn=((Xt={})[cn]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Xt[an]=hn,Xt);function fn(e){return("type"in(t=e)&&t.type.$$typeof)===an?hn:"$$typeof"in e?dn[e.$$typeof]:ln;var t}var pn=Object.defineProperty,mn=Object.getOwnPropertyNames,gn=Object.getOwnPropertySymbols,vn=Object.getOwnPropertyDescriptor,yn=Object.getPrototypeOf,wn=Object.prototype;function bn(e,t,n){if("string"!=typeof t){if(wn){var r=yn(t);r&&r!==wn&&bn(e,r,n)}var i=mn(t);gn&&(i=i.concat(gn(t)));for(var s=fn(e),o=fn(t),a=0;a<i.length;++a){var c=i[a];if(!(c in un||n&&n[c]||o&&c in o||s&&c in s)){var l=vn(t,c);try{pn(e,c,l)}catch(e){}}}}return e}function _n(e){return"function"==typeof e}function In(e){return"object"==typeof e&&"styledComponentId"in e}function En(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Sn(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function Tn(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function kn(e,t,n){if(void 0===n&&(n=!1),!n&&!Tn(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=kn(e[r],t[r]);else if(Tn(t))for(var r in t)e[r]=kn(e[r],t[r]);return e}function Cn(e,t){Object.defineProperty(e,"toString",{value:t})}function An(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var xn=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw An(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var s=r;s<i;s++)this.groupSizes[s]=0}for(var o=this.indexOfGroup(e+1),a=(s=0,t.length);s<a;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,s=r;s<i;s++)t+="".concat(this.tag.getRule(s)).concat(Ut);return t},e}(),Pn=new Map,Nn=new Map,Rn=1,Dn=function(e){if(Pn.has(e))return Pn.get(e);for(;Nn.has(Rn);)Rn++;var t=Rn++;return Pn.set(e,t),Nn.set(t,e),t},On=function(e,t){Rn=t+1,Pn.set(e,t),Nn.set(t,e)},Ln="style[".concat(Ot,"][").concat(Ft,'="').concat(Mt,'"]'),Fn=new RegExp("^".concat(Ot,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Mn=function(e,t,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&e.registerName(t,r)},Un=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split(Ut),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var c=a.match(Fn);if(c){var l=0|parseInt(c[1],10),u=c[2];0!==l&&(On(u,l),Mn(e,u,c[3]),e.getTag().insertRules(l,i)),i.length=0}else i.push(a)}}};function Vn(){return n.nc}var Bn=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){var t=Array.from(e.querySelectorAll("style[".concat(Ot,"]")));return t[t.length-1]}(n),s=void 0!==i?i.nextSibling:null;r.setAttribute(Ot,Lt),r.setAttribute(Ft,Mt);var o=Vn();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},jn=function(){function e(e){this.element=Bn(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw An(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),zn=function(){function e(e){this.element=Bn(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),qn=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Wn=Vt,Kn={isServer:!Vt,useCSSOMInjection:!Bt},Gn=function(){function e(e,t,n){void 0===e&&(e=zt),void 0===t&&(t={});var r=this;this.options=xe(xe({},Kn),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Vt&&Wn&&(Wn=!1,function(e){for(var t=document.querySelectorAll(Ln),n=0,r=t.length;n<r;n++){var i=t[n];i&&i.getAttribute(Ot)!==Lt&&(Un(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this)),Cn(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=function(n){var i=function(e){return Nn.get(e)}(n);if(void 0===i)return"continue";var s=e.names.get(i),o=t.getGroup(n);if(void 0===s||0===o.length)return"continue";var a="".concat(Ot,".g").concat(n,'[id="').concat(i,'"]'),c="";void 0!==s&&s.forEach((function(e){e.length>0&&(c+="".concat(e,","))})),r+="".concat(o).concat(a,'{content:"').concat(c,'"}').concat(Ut)},s=0;s<n;s++)i(s);return r}(r)}))}return e.registerId=function(e){return Dn(e)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(xe(xe({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new qn(n):t?new jn(n):new zn(n)}(this.options),new xn(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(Dn(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Dn(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(Dn(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),Hn=/&/g,Qn=/^\s*\/\/.*$/gm;function Jn(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=Jn(e.children,t)),e}))}function $n(e){var t,n,r,i=void 0===e?zt:e,s=i.options,o=void 0===s?zt:s,a=i.plugins,c=void 0===a?jt:a,l=function(e,r,i){return i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(t):e},u=c.slice();u.push((function(e){e.type===Me&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(Hn,n).replace(r,l))})),o.prefix&&u.push(Ct),u.push(Tt);var h=function(e,i,s,a){void 0===i&&(i=""),void 0===s&&(s=""),void 0===a&&(a="&"),t=a,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var c=e.replace(Qn,""),l=At(s||i?"".concat(s," ").concat(i," { ").concat(c," }"):c);o.namespace&&(l=Jn(l,o.namespace));var h,d=[];return St(l,function(e){var t=Xe(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}(u.concat((h=function(e){return d.push(e)},function(e){e.root||(e=e.return)&&h(e)})))),d};return h.hash=c.length?c.reduce((function(e,t){return t.name||An(15),en(e,t.name)}),Zt).toString():"",h}var Yn=new Gn,Xn=$n(),Zn=r.createContext({shouldForwardProp:void 0,styleSheet:Yn,stylis:Xn}),er=(Zn.Consumer,r.createContext(void 0));function tr(){return(0,r.useContext)(Zn)}function nr(e){var t=(0,r.useState)(e.stylisPlugins),n=t[0],i=t[1],s=tr().styleSheet,o=(0,r.useMemo)((function(){var t=s;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target,s]),a=(0,r.useMemo)((function(){return $n({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:n})}),[e.enableVendorPrefixes,e.namespace,n]);(0,r.useEffect)((function(){Re()(n,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]);var c=(0,r.useMemo)((function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:o,stylis:a}}),[e.shouldForwardProp,o,a]);return r.createElement(Zn.Provider,{value:c},r.createElement(er.Provider,{value:a},e.children))}var rr=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Xn);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,Cn(this,(function(){throw An(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=Xn),this.name+e.hash},e}(),ir=function(e){return e>="A"&&e<="Z"};function sr(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;ir(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var or=function(e){return null==e||!1===e||""===e},ar=function(e){var t,n,r=[];for(var i in e){var s=e[i];e.hasOwnProperty(i)&&!or(s)&&(Array.isArray(s)&&s.isCss||_n(s)?r.push("".concat(sr(i),":"),s,";"):Tn(s)?r.push.apply(r,Pe(Pe(["".concat(i," {")],ar(s),!1),["}"],!1)):r.push("".concat(sr(i),": ").concat((t=i,null==(n=s)||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||t in Dt||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function cr(e,t,n,r){return or(e)?[]:In(e)?[".".concat(e.styledComponentId)]:_n(e)?!_n(i=e)||i.prototype&&i.prototype.isReactComponent||!t?[e]:cr(e(t),t,n,r):e instanceof rr?n?(e.inject(n,r),[e.getName(r)]):[e]:Tn(e)?ar(e):Array.isArray(e)?Array.prototype.concat.apply(jt,e.map((function(e){return cr(e,t,n,r)}))):[e.toString()];var i}function lr(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(_n(n)&&!In(n))return!1}return!0}var ur=tn(Mt),hr=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&lr(e),this.componentId=t,this.baseHash=en(ur,t),this.baseStyle=n,Gn.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=En(r,this.staticRulesId);else{var i=Sn(cr(this.rules,e,t,n)),s=Yt(en(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,s)){var o=n(i,".".concat(s),void 0,this.componentId);t.insertRules(this.componentId,s,o)}r=En(r,s),this.staticRulesId=s}else{for(var a=en(this.baseHash,n.hash),c="",l=0;l<this.rules.length;l++){var u=this.rules[l];if("string"==typeof u)c+=u;else if(u){var h=Sn(cr(u,e,t,n));a=en(a,h+l),c+=h}}if(c){var d=Yt(a>>>0);t.hasNameForId(this.componentId,d)||t.insertRules(this.componentId,d,n(c,".".concat(d),void 0,this.componentId)),r=En(r,d)}}return r},e}(),dr=r.createContext(void 0);dr.Consumer;var fr={};new Set;function pr(e,t,n){var i=In(e),s=e,o=!sn(e),a=t.attrs,c=void 0===a?jt:a,l=t.componentId,u=void 0===l?function(e,t){var n="string"!=typeof e?"sc":Ht(e);fr[n]=(fr[n]||0)+1;var r="".concat(n,"-").concat(nn(Mt+n+fr[n]));return t?"".concat(t,"-").concat(r):r}(t.displayName,t.parentComponentId):l,h=t.displayName,d=void 0===h?function(e){return sn(e)?"styled.".concat(e):"Styled(".concat(rn(e),")")}(e):h,f=t.displayName&&t.componentId?"".concat(Ht(t.displayName),"-").concat(t.componentId):t.componentId||u,p=i&&s.attrs?s.attrs.concat(c).filter(Boolean):c,m=t.shouldForwardProp;if(i&&s.shouldForwardProp){var g=s.shouldForwardProp;if(t.shouldForwardProp){var v=t.shouldForwardProp;m=function(e,t){return g(e,t)&&v(e,t)}}else m=g}var y=new hr(n,f,i?s.componentStyle:void 0);function w(e,t){return function(e,t,n){var i=e.attrs,s=e.componentStyle,o=e.defaultProps,a=e.foldedComponentIds,c=e.styledComponentId,l=e.target,u=r.useContext(dr),h=tr(),d=e.shouldForwardProp||h.shouldForwardProp,f=qt(t,u,o)||zt,p=function(e,t,n){for(var r,i=xe(xe({},t),{className:void 0,theme:n}),s=0;s<e.length;s+=1){var o=_n(r=e[s])?r(i):r;for(var a in o)i[a]="className"===a?En(i[a],o[a]):"style"===a?xe(xe({},i[a]),o[a]):o[a]}return t.className&&(i.className=En(i.className,t.className)),i}(i,t,f),m=p.as||l,g={};for(var v in p)void 0===p[v]||"$"===v[0]||"as"===v||"theme"===v&&p.theme===f||("forwardedAs"===v?g.as=p.forwardedAs:d&&!d(v,m)||(g[v]=p[v]));var y=function(e,t){var n=tr();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(s,p),w=En(a,c);return y&&(w+=" "+y),p.className&&(w+=" "+p.className),g[sn(m)&&!Wt.has(m)?"class":"className"]=w,g.ref=n,(0,r.createElement)(m,g)}(b,e,t)}w.displayName=d;var b=r.forwardRef(w);return b.attrs=p,b.componentStyle=y,b.displayName=d,b.shouldForwardProp=m,b.foldedComponentIds=i?En(s.foldedComponentIds,s.styledComponentId):"",b.styledComponentId=f,b.target=i?s.target:e,Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)kn(e,i[r],!0);return e}({},s.defaultProps,e):e}}),Cn(b,(function(){return".".concat(b.styledComponentId)})),o&&bn(b,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),b}function mr(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var gr=function(e){return Object.assign(e,{isCss:!0})};function vr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(_n(e)||Tn(e))return gr(cr(mr(jt,Pe([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?cr(r):gr(cr(mr(r,t)))}function yr(e,t,n){if(void 0===n&&(n=zt),!t)throw An(1,t);var r=function(r){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return e(t,n,vr.apply(void 0,Pe([r],i,!1)))};return r.attrs=function(r){return yr(e,t,xe(xe({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return yr(e,t,xe(xe({},n),r))},r}var wr=function(e){return yr(pr,e)},br=wr;Wt.forEach((function(e){br[e]=wr(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=lr(e),Gn.registerId(this.componentId+1)}e.prototype.createStyles=function(e,t,n,r){var i=r(Sn(cr(this.rules,t,n,r)),""),s=this.componentId+e;n.insertRules(s,s,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&Gn.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=Vn(),r=Sn([n&&'nonce="'.concat(n,'"'),"".concat(Ot,'="true"'),"".concat(Ft,'="').concat(Mt,'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw An(2);return e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)throw An(2);var n=((t={})[Ot]="",t[Ft]=Mt,t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),i=Vn();return i&&(n.nonce=i),[r.createElement("style",xe({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Gn({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw An(2);return r.createElement(nr,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw An(3)}})(),"__sc-".concat(Ot,"__");var _r,Ir=n(579);const Er=br.button(_r||(_r=Ae(["\n   padding: ",";\n   width: ",";\n   height: ",";\n   font-size: ",";\n   font-weight: 300;\n   border: none;\n   border-radius: ",";\n   cursor: pointer;\n   background-color: ",";\n   color: #fff;\n   position: ",";\n   right: ",";\n}\n"])),(e=>e.customPadding||"12px"),(e=>e.customWidth||"136px"),(e=>e.customHeight||"auto"),(e=>e.customFontSize||"18px"),(e=>e.customFontSize||"80px"),(e=>e.customBgColor||"#5E6371"),(e=>e.customPosition||"none"),(e=>e.customRight||"0"));const Sr=function(e){const{title:t,onClick:n,customBgColor:r,customRight:i,customPosition:s,customWidth:o,customHeight:a,customPadding:c,customMarginLeft:l,customFontSize:u}=e;return(0,Ir.jsx)(Er,{onClick:n,customRight:i,customPosition:s,customWidth:o,customHeight:a,customPadding:c,customFontSize:u,customBgColor:r,customMarginLeft:l,children:t||"button"})};var Tr;const kr=br.textarea(Tr||(Tr=Ae(["\n  width:  ",";\n   height: ","px;\n   padding: 16px; \n   \n   font-size: 16px;\n   line-Height: 20px;\n   background: #3C3F48;\n   border: none;\n \n   border-radius: ",";\n   color: #fff;\n   resize: none;\n"])),(e=>e.customWidth||"calc(80vw - 32px)"),(e=>e.height),(e=>e.customRadius||"4px"));const Cr=function(e){const{height:t,value:n,onChange:r,customTextInput:i,customRadius:s,customWidth:o}=e;return(0,Ir.jsx)(kr,{height:t||20,customRadius:s,customTextInput:i,customWidth:o,value:n,onChange:r})};var Ar,xr,Pr,Nr,Rr,Dr;const Or=br.div(Ar||(Ar=Ae(["\n   width: 40vw;\n   min-width: 360px;\n   max-width: 600px;\n  \n   padding-right: 24px;\n   padding-left: 24px;\n   \n   display: flex;\n   flex-direction: column;\n\n   border: 1px solid grey;\n   border-radius: 8px;\n   cursor: pointer;\n   background: #4D77FF;\n   color: #fff;\n   border: none;\n\n   \n   ","\n   &:hover{\n   background: #4B4E57;\n   }\n"])),(e=>e.even&&vr(xr||(xr=Ae(["\n    background: #3C3F48;\n    "]))))),Lr=br.p(Pr||(Pr=Ae(["\n   font-size: 22px;\n   width: 32vw;\n   min-width: 240px;\n   height: 28px;\n   overflow: hidden;\n   max-width: 400px;\n   font-weight: 500;\n   line-height: 150%;\n   color: #f6f6f6;\n   ","\n"])),(e=>e.even&&vr(Nr||(Nr=Ae(["\n       color: #4D77FF;\n    "]))))),Fr=br.p(Rr||(Rr=Ae(["\n   font-size: 18px;\n   font-weight: 300;\n   line-height: 150%;\n   color: #E8E8E8;\n   width: 40vw;\n   min-width: 360px;\n   height: 78px;\n   overflow: hidden;\n   margin-top: 0;\n   ","\n"])),(e=>e.even&&vr(Dr||(Dr=Ae(["\n       color: #f6f6f6;\n    "])))));const Mr=function(e){const{post:t,onClick:n,index:r}=e;return(0,Ir.jsxs)(Or,{even:r%2===0,onClick:n,children:[(0,Ir.jsx)(Lr,{even:r%2===0,children:t.title}),(0,Ir.jsx)(Fr,{even:r%2===0,children:t.content})]})};var Ur,Vr;const Br=br.div(Ur||(Ur=Ae(["\n   \n  \n"]))),jr=br.p(Vr||(Vr=Ae(["\n   font-size: 16px;\n\n"])));const zr=function(e){const{comment:t}=e,n={comments:{width:"80vw",display:"flex",justifyContent:"space-between"},profileImg:{width:"60px",height:"60px"},text:{display:"flex",alignItem:"center",justifyContent:"space-between",padding:" 8px 20px",borderRadius:"400px",height:"46px",backgroundColor:"#3C3F48",width:"calc(80vw - 130px)"},p:{fontSize:"14px",fontWeight:"300"}};return(0,Ir.jsx)(Br,{children:(0,Ir.jsxs)("div",{style:n.comments,children:[(0,Ir.jsx)("img",{src:"../profile.png",alt:"profile.png",style:n.profileImg}),(0,Ir.jsxs)("div",{style:n.text,children:[(0,Ir.jsx)(jr,{style:n.contentText,children:t.content}),(0,Ir.jsx)("p",{style:n.p,children:"4\uc2dc\uac04 \uc804"})]})]})})};var qr;const Wr=br.div(qr||(qr=Ae(["\n    display: flex;\n    flex-direction: ",";\n    flex-wrap: ",";\n    \n    gap: 28px; /* \uae30\uc874\uc758 gap \uc81c\uac70 */\n    position: absolute;\n    right: ",";\n    width: fit-content;\n    justify-content: center;\n    top: ",";\n    margin-top: ",";\n    margin-bottom: auto;\n    overflow: hidden;\n\n    & > *{\n        :not(:last-child){\n            margin-bottom: 16px;\n        }\n    }\n"])),(e=>e.customDirection||"row"),(e=>e.customWrap||"wrap"),(e=>e.customRight||"0"),(e=>e.customTop||"calc(50% - 220px)"),(e=>e.customMarginTop||"auto"));const Kr=function(e){const{posts:t,onClickItem:n,customRight:r,customTop:i,customDirection:s,customMarginTop:o,customMarginLeft:a,customWidth:c,customContent:l}=e;return(0,Ir.jsx)(Wr,{customDirection:s,customRight:r,customTop:i,customContent:l,customMarginTop:o,customWidth:c,customMarginLeft:a,children:t.map(((e,t)=>(0,Ir.jsx)(Mr,{post:e,index:t,onClick:()=>n(e)},e.id)))})},Gr=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Hr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,l=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|c>>6,d=63&c;a||(d=64,s||(h=64)),r.push(n[l],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Gr(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Qr;const c=t<<2|s>>4;if(r.push(c),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Qr extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jr=function(e){return function(e){const t=Gr(e);return Hr.encodeByteArray(t,!0)}(e).replace(/\./g,"")},$r=function(e){try{return Hr.decodeString(e,!0)}catch(yA){console.error("base64Decode failed: ",yA)}return null};function Yr(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Yr(e[n],t[n]));return e}const Xr=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Zr=()=>{try{return Xr()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API_ID:"1:1051822520467:web:b4b0819232c8b3d7d47566",REACT_APP_FB_API_KEY:"AIzaSyAciSRIhaWirwnvxxiNJvtpJv8e-W76fD8",REACT_APP_FB_AUTH_DOMAIN:"mini-blog-7c4db.firebaseapp.com",REACT_APP_FB_MESSAGING_SENDER_ID:"1051822520467",REACT_APP_FB_PROJECT_ID:"mini-blog-7c4db",REACT_APP_FB_STORAGE_BUCKET:"mini-blog-7c4db.appspot.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(yA){return}const t=e&&$r(e[1]);return t&&JSON.parse(t)})()}catch(yA){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(yA))}},ei=()=>{var e;return null===(e=Zr())||void 0===e?void 0:e.config};class ti{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function ni(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ri(){var e;const t=null===(e=Zr())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(yA){return!1}}function ii(){return"object"===typeof self&&self.self===self}function si(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function oi(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ai(){const e=ni();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ci(){return!ri()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function li(){try{return"object"===typeof indexedDB}catch(yA){return!1}}class ui extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hi.prototype.create)}}class hi{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(di,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new ui(n,s,t)}}const di=/\{\$([^}]+)}/g;function fi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function pi(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(mi(n)&&mi(s)){if(!pi(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function mi(e){return null!==e&&"object"===typeof e}function gi(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function vi(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function yi(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function wi(e,t){const n=new bi(e,t);return n.subscribe.bind(n)}class bi{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=_i),void 0===r.error&&(r.error=_i),void 0===r.complete&&(r.complete=_i);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(yA){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(yA){"undefined"!==typeof console&&console.error&&console.error(yA)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function _i(){}function Ii(e){return e&&e._delegate?e._delegate:e}class Ei{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Si="[DEFAULT]";class Ti{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new ti;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(yA){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(yA){if(r)return null;throw yA}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Si})}catch(yA){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(yA){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Si;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Si;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Si;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ki(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Si;return this.component?this.component.multipleInstances?e:Si:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function ki(e){return e===Si?void 0:e}class Ci{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ti(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Ai=[];var xi;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(xi||(xi={}));const Pi={debug:xi.DEBUG,verbose:xi.VERBOSE,info:xi.INFO,warn:xi.WARN,error:xi.ERROR,silent:xi.SILENT},Ni=xi.INFO,Ri={[xi.DEBUG]:"log",[xi.VERBOSE]:"log",[xi.INFO]:"info",[xi.WARN]:"warn",[xi.ERROR]:"error"},Di=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Ri[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class Oi{constructor(e){this.name=e,this._logLevel=Ni,this._logHandler=Di,this._userLogHandler=null,Ai.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xi))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Pi[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xi.DEBUG,...t),this._logHandler(this,xi.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xi.VERBOSE,...t),this._logHandler(this,xi.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xi.INFO,...t),this._logHandler(this,xi.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xi.WARN,...t),this._logHandler(this,xi.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xi.ERROR,...t),this._logHandler(this,xi.ERROR,...t)}}const Li=(e,t)=>t.some((t=>e instanceof t));let Fi,Mi;const Ui=new WeakMap,Vi=new WeakMap,Bi=new WeakMap,ji=new WeakMap,zi=new WeakMap;let qi={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Vi.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Bi.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gi(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Wi(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Mi||(Mi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Hi(this),n),Gi(Ui.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Gi(e.apply(Hi(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Hi(this),t,...r);return Bi.set(s,t.sort?t.sort():[t]),Gi(s)}}function Ki(e){return"function"===typeof e?Wi(e):(e instanceof IDBTransaction&&function(e){if(Vi.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Vi.set(e,t)}(e),Li(e,Fi||(Fi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,qi):e)}function Gi(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Gi(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Ui.set(t,e)})).catch((()=>{})),zi.set(t,e),t}(e);if(ji.has(e))return ji.get(e);const t=Ki(e);return t!==e&&(ji.set(e,t),zi.set(t,e)),t}const Hi=e=>zi.get(e);const Qi=["get","getKey","getAll","getAllKeys","count"],Ji=["put","add","delete","clear"],$i=new Map;function Yi(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if($i.get(t))return $i.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ji.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Qi.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return $i.set(t,s),s}qi=(e=>({...e,get:(t,n,r)=>Yi(t,n)||e.get(t,n,r),has:(t,n)=>!!Yi(t,n)||e.has(t,n)}))(qi);class Xi{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Zi="@firebase/app",es="0.10.2",ts=new Oi("@firebase/app"),ns="[DEFAULT]",rs={[Zi]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},is=new Map,ss=new Map,os=new Map;function as(e,t){try{e.container.addComponent(t)}catch(yA){ts.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),yA)}}function cs(e,t){e.container.addOrOverwriteComponent(t)}function ls(e){const t=e.name;if(os.has(t))return ts.debug("There were multiple attempts to register component ".concat(t,".")),!1;os.set(t,e);for(const n of is.values())as(n,e);for(const n of ss.values())as(n,e);return!0}function us(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function hs(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ns;us(e,t).clearInstance(n)}function ds(e){return void 0!==e.options}function fs(e){return void 0!==e.settings}function ps(){os.clear()}const ms=new hi("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class gs{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ei("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}class vs extends gs{constructor(e,t,n,r){const i=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,s={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,s,r);else{super(e.options,s,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Ss(Zi,es,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Es(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ms.create("server-app-deleted")}}const ys="10.11.1";function ws(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:ns,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ms.create("bad-app-name",{appName:String(i)});if(n||(n=ei()),!n)throw ms.create("no-options");const s=is.get(i);if(s){if(pi(n,s.options)&&pi(r,s.config))return s;throw ms.create("duplicate-app",{appName:i})}const o=new Ci(i);for(const c of os.values())o.addComponent(c);const a=new gs(n,r,o);return is.set(i,a),a}function bs(e,t){if(ii())throw ms.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=ds(e)?e.options:e;const r=Object.assign(Object.assign({},t),n);void 0!==r.releaseOnDeref&&delete r.releaseOnDeref;if(void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw ms.create("finalization-registry-not-supported",{});const i=""+(s=JSON.stringify(r),[...s].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0));var s;const o=ss.get(i);if(o)return o.incRefCount(t.releaseOnDeref),o;const a=new Ci(i);for(const l of os.values())a.addComponent(l);const c=new vs(n,t,i,a);return ss.set(i,c),c}function _s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ns;const t=is.get(e);if(!t&&e===ns&&ei())return ws();if(!t)throw ms.create("no-app",{appName:e});return t}function Is(){return Array.from(is.values())}async function Es(e){let t=!1;const n=e.name;if(is.has(n))t=!0,is.delete(n);else if(ss.has(n)){e.decRefCount()<=0&&(ss.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Ss(e,t,n){var r;let i=null!==(r=rs[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ts.warn(e.join(" "))}ls(new Ei("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function Ts(e,t){if(null!==e&&"function"!==typeof e)throw ms.create("invalid-log-argument");!function(e,t){for(const n of Ai){let r=null;t&&t.level&&(r=Pi[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];const a=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:xi[n].toLowerCase(),message:a,args:s,type:t.name})}}}(e,t)}function ks(e){var t;t=e,Ai.forEach((e=>{e.setLogLevel(t)}))}const Cs="firebase-heartbeat-database",As=1,xs="firebase-heartbeat-store";let Ps=null;function Ns(){return Ps||(Ps=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=Gi(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Gi(o.result),e.oldVersion,e.newVersion,Gi(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Cs,As,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(xs)}catch(yA){console.warn(yA)}}}).catch((e=>{throw ms.create("idb-open",{originalErrorMessage:e.message})}))),Ps}async function Rs(e,t){try{const n=(await Ns()).transaction(xs,"readwrite"),r=n.objectStore(xs);await r.put(t,Ds(e)),await n.done}catch(yA){if(yA instanceof ui)ts.warn(yA.message);else{const t=ms.create("idb-set",{originalErrorMessage:null===yA||void 0===yA?void 0:yA.message});ts.warn(t.message)}}}function Ds(e){return"".concat(e.name,"!").concat(e.options.appId)}class Os{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Fs(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ls();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ls(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Ms(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ms(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Jr(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Ls(){return(new Date).toISOString().substring(0,10)}class Fs{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!li()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Ns()).transaction(xs),n=await t.objectStore(xs).get(Ds(e));return await t.done,n}catch(yA){if(yA instanceof ui)ts.warn(yA.message);else{const t=ms.create("idb-get",{originalErrorMessage:null===yA||void 0===yA?void 0:yA.message});ts.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Rs(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Rs(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ms(e){return Jr(JSON.stringify({version:2,heartbeats:e})).length}var Us;Us="",ls(new Ei("platform-logger",(e=>new Xi(e)),"PRIVATE")),ls(new Ei("heartbeat",(e=>new Os(e)),"PRIVATE")),Ss(Zi,es,Us),Ss(Zi,es,"esm2017"),Ss("fire-js","");class Vs{constructor(e,t){this._delegate=e,this.firebase=t,as(e,new Ei("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Es(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ns;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ns;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){as(this._delegate,e)}_addOrOverwriteComponent(e){cs(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Bs=new hi("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const js=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=ws(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(fi(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:Ss,setLogLevel:ks,onLog:Ts,apps:null,SDK_VERSION:ys,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(ls(e)&&"PUBLIC"===e.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw Bs.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&Yr(o,e.serviceProps),r[s]=o,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!fi(n,e=e||ns))throw Bs.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(Vs);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Yr(n,e)},createSubscribe:wi,ErrorFactory:hi,deepExtend:Yr}),n}(),zs=new Oi("@firebase/app-compat");if(ii()&&void 0!==self.firebase){zs.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&zs.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const qs=js;!function(e){Ss("@firebase/app-compat","0.2.32",e)}();qs.registerVersion("firebase","10.11.1","app-compat");function Ws(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Ks={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Gs="EMAIL_SIGNIN",Hs="PASSWORD_RESET",Qs="RECOVER_EMAIL",Js="REVERT_SECOND_FACTOR_ADDITION",$s="VERIFY_AND_CHANGE_EMAIL",Ys="VERIFY_EMAIL";function Xs(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zs=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},eo=Xs,to=new hi("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),no=new Oi("@firebase/auth");function ro(e){if(no.logLevel<=xi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];no.error("Auth (".concat(ys,"): ").concat(e),...n)}}function io(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw lo(e,...n)}function so(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return lo(e,...n)}function oo(e,t,n){const r=Object.assign(Object.assign({},eo()),{[t]:n});return new hi("auth","Firebase",r).create(t,{appName:e.name})}function ao(e){return oo(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function co(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&io(e,"argument-error"),oo(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function lo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return to.create(e,...n)}function uo(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw lo(t,...r)}}function ho(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ro(t),new Error(t)}function fo(e,t){e||ho(t)}function po(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function mo(){return"http:"===go()||"https:"===go()}function go(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class vo{constructor(e,t){this.shortDelay=e,this.longDelay=t,fo(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ni())||oi()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(mo()||si()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function yo(e,t){fo(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class wo{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void ho("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void ho("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void ho("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bo={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},_o=new vo(3e4,6e4);function Io(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Eo(e,t,n,r){return So(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=gi(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),wo.fetch()(ko(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function So(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},bo),t);try{const t=new Ao(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw xo(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw xo(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw xo(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw xo(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw oo(e,a,o);io(e,a)}}catch(yA){if(yA instanceof ui)throw yA;io(e,"network-request-failed",{message:String(yA)})}}async function To(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Eo(e,t,n,r,i);return"mfaPendingCredential"in s&&io(e,"multi-factor-auth-required",{_serverResponse:s}),s}function ko(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?yo(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Co(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ao{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(so(this.auth,"network-request-failed"))),_o.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function xo(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=so(e,t,r);return i.customData._tokenResponse=n,i}function Po(e){return void 0!==e&&void 0!==e.getResponse}function No(e){return void 0!==e&&void 0!==e.enterprise}class Ro{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Co(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Do(e,t){return Eo(e,"GET","/v2/recaptchaConfig",Io(e,t))}async function Oo(e,t){return Eo(e,"POST","/v1/accounts:lookup",t)}function Lo(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(yA){}}function Fo(e){return 1e3*Number(e)}function Mo(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ro("JWT malformed, contained fewer than 3 sections"),null;try{const e=$r(n);return e?JSON.parse(e):(ro("Failed to decode base64 JWT payload"),null)}catch(yA){return ro("Caught error parsing JWT payload as JSON",null===yA||void 0===yA?void 0:yA.toString()),null}}function Uo(e){const t=Mo(e);return uo(t,"internal-error"),uo("undefined"!==typeof t.exp,"internal-error"),uo("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Vo(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(yA){throw yA instanceof ui&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(yA)&&e.auth.currentUser===e&&await e.auth.signOut(),yA}}class Bo{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(yA){return void((null===yA||void 0===yA?void 0:yA.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class jo{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lo(this.lastLoginAt),this.creationTime=Lo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function zo(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Vo(e,Oo(n,{idToken:r}));uo(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?qo(s.providerUserInfo):[],a=(c=e.providerData,l=o,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new jo(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function qo(e){return e.map((e=>{var{providerId:t}=e,n=Ws(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){uo(e.idToken,"internal-error"),uo("undefined"!==typeof e.idToken,"internal-error"),uo("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Uo(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){uo(0!==e.length,"internal-error");const t=Uo(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(uo(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await So(e,{},(async()=>{const n=gi({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=ko(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",wo.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Wo;return n&&(uo("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(uo("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(uo("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wo,this.toJSON())}_performRefresh(){return ho("not implemented")}}function Ko(e,t){uo("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Go{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Ws(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new jo(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Vo(this,this.stsTokenManager.getToken(this.auth,e));return uo(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Ii(e),r=await n.getIdToken(t),i=Mo(r);uo(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Lo(Fo(i.auth_time)),issuedAtTime:Lo(Fo(i.iat)),expirationTime:Lo(Fo(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Ii(e);await zo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(uo(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Go(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){uo(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await zo(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fs(this.auth.app))return Promise.reject(ao(this.auth));const e=await this.getIdToken();return await Vo(this,async function(e,t){return Eo(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:I}=t;uo(y&&I,e,"internal-error");const E=Wo.fromJSON(this.name,I);uo("string"===typeof y,e,"internal-error"),Ko(u,e.name),Ko(h,e.name),uo("boolean"===typeof w,e,"internal-error"),uo("boolean"===typeof b,e,"internal-error"),Ko(d,e.name),Ko(f,e.name),Ko(p,e.name),Ko(m,e.name),Ko(g,e.name),Ko(v,e.name);const S=new Go({uid:y,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(S.providerData=_.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Wo;r.updateFromServerResponse(t);const i=new Go({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await zo(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];uo(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?qo(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new Wo;o.updateFromIdToken(n);const a=new Go({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new jo(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,c),a}}const Ho=new Map;function Qo(e){fo(e instanceof Function,"Expected a class definition");let t=Ho.get(e);return t?(fo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ho.set(e,t),t)}class Jo{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Jo.type="NONE";const $o=Jo;function Yo(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Xo{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Yo(this.userKey,r.apiKey,i),this.fullPersistenceKey=Yo("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Go._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Xo(Qo($o),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Qo($o);const s=Yo(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(s);if(t){const n=Go._fromJSON(e,t);l!==i&&(o=n),i=l;break}}catch(c){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(c){}}))),new Xo(i,e,n)):new Xo(i,e,n)}}function Zo(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ra(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ea(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(sa(t))return"Blackberry";if(oa(t))return"Webos";if(ta(t))return"Safari";if((t.includes("chrome/")||na(t))&&!t.includes("edge/"))return"Chrome";if(ia(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ea(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni();return/firefox\//i.test(e)}function ta(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function na(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni();return/crios\//i.test(e)}function ra(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni();return/iemobile/i.test(e)}function ia(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni();return/android/i.test(e)}function sa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni();return/blackberry/i.test(e)}function oa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni();return/webos/i.test(e)}function aa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ca(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni();return aa(e)||ia(e)||oa(e)||sa(e)||/windows phone/i.test(e)||ra(e)}function la(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Zo(ni());break;case"Worker":t="".concat(Zo(ni()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ys,"/").concat(r)}class ua{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(yA){r(yA)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(yA){t.reverse();for(const n of t)try{n()}catch(jt){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===yA||void 0===yA?void 0:yA.message})}}}class ha{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class da{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pa(this),this.idTokenSubscription=new pa(this),this.beforeStateQueue=new ua(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=to,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Qo(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Xo.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(yA){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Oo(this,{idToken:e}),n=await Go._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(fs(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(yA){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(yA)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return uo(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(yA){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zo(e)}catch(yA){if((null===yA||void 0===yA?void 0:yA.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fs(this.app))return Promise.reject(ao(this));const t=e?Ii(e):null;return t&&uo(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&uo(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return fs(this.app)?Promise.reject(ao(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fs(this.app)?Promise.reject(ao(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Qo(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Eo(e,"GET","/v2/passwordPolicy",Io(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ha(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new hi("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Eo(e,"POST","/v2/accounts:revokeToken",Io(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Qo(e)||this._popupRedirectResolver;uo(t,this,"argument-error"),this.redirectPersistenceManager=await Xo.create(this,[Qo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(uo(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return uo(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=la(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(no.logLevel<=xi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];no.warn("Auth (".concat(ys,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function fa(e){return Ii(e)}class pa{constructor(e){this.auth=e,this.observer=null,this.addObserver=wi((e=>this.observer=e))}get next(){return uo(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ma={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ga(e){return ma.loadJS(e)}function va(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class ya{constructor(e){this.type="recaptcha-enterprise",this.auth=fa(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;No(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Do(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Ro(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&No(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=ma.recaptchaEnterpriseScript;0!==t.length&&(t+=i),ga(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function wa(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new ya(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ba(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await wa(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await wa(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function _a(e,t,n){const r=fa(e);uo(r._canInitEmulator,r,"emulator-config-failed"),uo(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Ia(t),{host:o,port:a}=function(e){const t=Ia(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ea(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ea(t)}}}(t),c=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ia(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ea(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Sa{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ho("not implemented")}_getIdTokenResponse(e){return ho("not implemented")}_linkToIdToken(e,t){return ho("not implemented")}_getReauthenticationResolver(e){return ho("not implemented")}}async function Ta(e,t){return Eo(e,"POST","/v1/accounts:resetPassword",Io(e,t))}async function ka(e,t){return Eo(e,"POST","/v1/accounts:signUp",t)}async function Ca(e,t){return To(e,"POST","/v1/accounts:signInWithPassword",Io(e,t))}async function Aa(e,t){return Eo(e,"POST","/v1/accounts:sendOobCode",Io(e,t))}async function xa(e,t){return Aa(e,t)}async function Pa(e,t){return Aa(e,t)}class Na extends Sa{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Na(e,t,"password")}static _fromEmailAndCode(e,t){return new Na(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ba(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ca);case"emailLink":return async function(e,t){return To(e,"POST","/v1/accounts:signInWithEmailLink",Io(e,t))}(e,{email:this._email,oobCode:this._password});default:io(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ba(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ka);case"emailLink":return async function(e,t){return To(e,"POST","/v1/accounts:signInWithEmailLink",Io(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:io(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ra(e,t){return To(e,"POST","/v1/accounts:signInWithIdp",Io(e,t))}class Da extends Sa{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):io("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Ws(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Da(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Ra(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ra(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ra(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gi(t)}return e}}const Oa={USER_NOT_FOUND:"user-not-found"};class La extends Sa{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new La({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new La({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return To(e,"POST","/v1/accounts:signInWithPhoneNumber",Io(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await To(e,"POST","/v1/accounts:signInWithPhoneNumber",Io(e,t));if(n.temporaryProof)throw xo(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return To(e,"POST","/v1/accounts:signInWithPhoneNumber",Io(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Oa)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new La({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Fa{constructor(e){var t,n,r,i,s,o;const a=vi(yi(e)),c=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);uo(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=vi(yi(e)).link,n=t?vi(yi(t)).deep_link_id:null,r=vi(yi(e)).deep_link_id;return(r?vi(yi(r)).link:null)||r||n||t||e}(e);try{return new Fa(t)}catch(n){return null}}}class Ma{constructor(){this.providerId=Ma.PROVIDER_ID}static credential(e,t){return Na._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Fa.parseLink(t);return uo(n,"argument-error"),Na._fromEmailAndCode(e,n.code,n.tenantId)}}Ma.PROVIDER_ID="password",Ma.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ma.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ua{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Va extends Ua{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ba extends Va{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return uo("providerId"in t&&"signInMethod"in t,"argument-error"),Da._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return uo(e.idToken||e.accessToken,"argument-error"),Da._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ba.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ba.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=t;if(!r&&!i&&!n&&!s)return null;if(!a)return null;try{return new Ba(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch(yA){return null}}}class ja extends Va{constructor(){super("facebook.com")}static credential(e){return Da._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ja.credential(t.oauthAccessToken)}catch(n){return null}}}ja.FACEBOOK_SIGN_IN_METHOD="facebook.com",ja.PROVIDER_ID="facebook.com";class za extends Va{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Da._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return za.credentialFromTaggedObject(e)}static credentialFromError(e){return za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return za.credential(n,r)}catch(i){return null}}}za.GOOGLE_SIGN_IN_METHOD="google.com",za.PROVIDER_ID="google.com";class qa extends Va{constructor(){super("github.com")}static credential(e){return Da._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qa.credentialFromTaggedObject(e)}static credentialFromError(e){return qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return qa.credential(t.oauthAccessToken)}catch(n){return null}}}qa.GITHUB_SIGN_IN_METHOD="github.com",qa.PROVIDER_ID="github.com";class Wa extends Sa{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Ra(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ra(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ra(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Wa(n,i):null}static _create(e,t){return new Wa(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ka extends Ua{constructor(e){uo(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Ka.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Ka.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Wa.fromJSON(e);return uo(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return Wa._create(r,n)}catch(yA){return null}}}class Ga extends Va{constructor(){super("twitter.com")}static credential(e,t){return Da._fromParams({providerId:Ga.PROVIDER_ID,signInMethod:Ga.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ga.credentialFromTaggedObject(e)}static credentialFromError(e){return Ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ga.credential(n,r)}catch(i){return null}}}async function Ha(e,t){return To(e,"POST","/v1/accounts:signUp",Io(e,t))}Ga.TWITTER_SIGN_IN_METHOD="twitter.com",Ga.PROVIDER_ID="twitter.com";class Qa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Go._fromIdTokenResponse(e,n,r),s=Ja(n);return new Qa({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ja(n);return new Qa({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ja(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class $a extends ui{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,$a.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new $a(e,t,n,r)}}function Ya(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw $a._fromErrorAndOperation(e,n,t,r);throw n}))}function Xa(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function Za(e,t){const n=Ii(e);await tc(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Eo(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Xa(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function ec(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Vo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Qa._forOperation(e,"link",r)}async function tc(e,t,n){await zo(t);const r=!1===e?"provider-already-linked":"no-such-provider";uo(Xa(t.providerData).has(n)===e,t.auth,r)}async function nc(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(fs(r.app))return Promise.reject(ao(r));const i="reauthenticate";try{const s=await Vo(e,Ya(r,i,t,e),n);uo(s.idToken,r,"internal-error");const o=Mo(s.idToken);uo(o,r,"internal-error");const{sub:a}=o;return uo(e.uid===a,r,"user-mismatch"),Qa._forOperation(e,i,s)}catch(yA){throw(null===yA||void 0===yA?void 0:yA.code)==="auth/".concat("user-not-found")&&io(r,"user-mismatch"),yA}}async function rc(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(fs(e.app))return Promise.reject(ao(e));const r="signIn",i=await Ya(e,r,t),s=await Qa._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function ic(e,t){return rc(fa(e),t)}async function sc(e,t){const n=Ii(e);return await tc(!1,n,t.providerId),ec(n,t)}async function oc(e,t){return nc(Ii(e),t)}async function ac(e,t){if(fs(e.app))return Promise.reject(ao(e));const n=fa(e),r=await async function(e,t){return To(e,"POST","/v1/accounts:signInWithCustomToken",Io(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Qa._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class cc{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?lc._fromServerResponse(e,t):"totpInfo"in t?uc._fromServerResponse(e,t):io(e,"internal-error")}}class lc extends cc{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new lc(t)}}class uc extends cc{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new uc(t)}}function hc(e,t,n){var r;uo((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),uo("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(uo(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(uo(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function dc(e){const t=fa(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function fc(e,t){await async function(e,t){return Eo(e,"POST","/v1/accounts:update",Io(e,t))}(Ii(e),{oobCode:t})}async function pc(e,t){const n=Ii(e),r=await Ta(n,{oobCode:t}),i=r.requestType;switch(uo(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":uo(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":uo(r.mfaInfo,n,"internal-error");default:uo(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=cc._fromServerResponse(fa(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function mc(e,t){const n={identifier:t,continueUri:mo()?po():"http://localhost"},{signinMethods:r}=await async function(e,t){return Eo(e,"POST","/v1/accounts:createAuthUri",Io(e,t))}(Ii(e),n);return r||[]}async function gc(e,t){const n=Ii(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&hc(n.auth,r,t);const{email:i}=await async function(e,t){return Aa(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function vc(e,t,n){const r=Ii(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&hc(r.auth,i,n);const{email:s}=await async function(e,t){return Aa(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function yc(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=Ii(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await Vo(i,async function(e,t){return Eo(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}async function wc(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await Vo(e,async function(e,t){return Eo(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}class bc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class _c extends bc{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Ic extends bc{constructor(e,t){super(e,"facebook.com",t)}}class Ec extends _c{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Sc extends bc{constructor(e,t){super(e,"google.com",t)}}class Tc extends _c{constructor(e,t,n){super(e,"twitter.com",t,n)}}function kc(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=Mo(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new bc(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Ic(s,i);case"github.com":return new Ec(s,i);case"google.com":return new Sc(s,i);case"twitter.com":return new Tc(s,i,e.screenName||null);case"custom":case"anonymous":return new bc(s,null);default:return new bc(s,r,i)}}(n)}class Cc{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new Cc("enroll",e,t)}static _fromMfaPendingCredential(e){return new Cc("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Cc._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Cc._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Ac{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=fa(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>cc._fromServerResponse(n,e)));uo(r.mfaPendingCredential,n,"internal-error");const s=Cc._fromMfaPendingCredential(r.mfaPendingCredential);return new Ac(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const o=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Qa._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return uo(t.user,n,"internal-error"),Qa._forOperation(t.user,t.operationType,o);default:io(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class xc{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>cc._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new xc(e)}async getSession(){return Cc._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await Vo(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await Vo(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},Eo(r,"POST","/v2/accounts/mfaEnrollment:withdraw",Io(r,i))));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(yA){throw yA}var r,i}}const Pc=new WeakMap;const Nc="__sak";class Rc{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Nc,"1"),this.storage.removeItem(Nc),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Dc extends Rc{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=ni();return ta(e)||aa(e)}()&&function(){try{return!(!window||window===window.top)}catch(yA){return!1}}(),this.fallbackToPolling=ca(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);ai()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Dc.type="LOCAL";const Oc=Dc;class Lc extends Rc{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Lc.type="SESSION";const Fc=Lc;class Mc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Mc(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Uc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Mc.receivers=[];class Vc{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const c=Uc("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Bc(){return window}function jc(){return"undefined"!==typeof Bc().WorkerGlobalScope&&"function"===typeof Bc().importScripts}const zc="firebaseLocalStorageDb",qc="firebaseLocalStorage",Wc="fbase_key";class Kc{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Gc(e,t){return e.transaction([qc],t?"readwrite":"readonly").objectStore(qc)}function Hc(){const e=indexedDB.open(zc,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(qc,{keyPath:Wc})}catch(yA){n(yA)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(qc)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(zc);return new Kc(e).toPromise()}(),t(await Hc()))}))}))}async function Qc(e,t,n){const r=Gc(e,!0).put({[Wc]:t,value:n});return new Kc(r).toPromise()}function Jc(e,t){const n=Gc(e,!0).delete(t);return new Kc(n).toPromise()}class $c{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Hc()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(yA){if(t++>3)throw yA;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jc()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mc._getInstance(jc()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Vc(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hc();return await Qc(e,Nc,"1"),await Jc(e,Nc),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Qc(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Gc(e,!1).get(t),r=await new Kc(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Jc(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Gc(e,!1).getAll();return new Kc(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}$c.type="LOCAL";const Yc=$c;const Xc=1e12;class Zc{constructor(e){this.auth=e,this.counter=Xc,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new el(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Xc;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Xc;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Xc;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class el{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;uo(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(yA){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(yA){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const tl=va("rcb"),nl=new vo(3e4,6e4);class rl{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Bc().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return uo(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Po(Bc().grecaptcha)?Promise.resolve(Bc().grecaptcha):new Promise(((n,r)=>{const i=Bc().setTimeout((()=>{r(so(e,"network-request-failed"))}),nl.get());Bc()[tl]=()=>{Bc().clearTimeout(i),delete Bc()[tl];const s=Bc().grecaptcha;if(!s||!Po(s))return void r(so(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};ga("".concat(ma.recaptchaV2Script,"?").concat(gi({onload:tl,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(so(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Bc().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class il{async load(e){return new Zc(e)}clearedOneInstance(){}}const sl="recaptcha",ol={theme:"light",type:"image"};class al{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},ol);this.parameters=n,this.type=sl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fa(e),this.isInvisible="invisible"===this.parameters.size,uo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;uo(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new il:new rl,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(yA){return Promise.reject(yA)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){uo(!this.parameters.sitekey,this.auth,"argument-error"),uo(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),uo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Bc()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){uo(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){uo(mo()&&!jc(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Eo(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);uo(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return uo(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class cl{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=La._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function ll(e,t,n){var r;const i=await n.verify();try{let s;if(uo("string"===typeof i,e,"argument-error"),uo(n.type===sl,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){uo("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Eo(e,"POST","/v2/accounts/mfaEnrollment:start",Io(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{uo("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;uo(n,e,"missing-multi-factor-info");const o=await function(e,t){return Eo(e,"POST","/v2/accounts/mfaSignIn:start",Io(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Eo(e,"POST","/v1/accounts:sendVerificationCode",Io(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class ul{constructor(e){this.providerId=ul.PROVIDER_ID,this.auth=fa(e)}verifyPhoneNumber(e,t){return ll(this.auth,e,Ii(t))}static credential(e,t){return La._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ul.credentialFromTaggedObject(t)}static credentialFromError(e){return ul.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?La._fromTokenResponse(n,r):null}}function hl(e,t){return t?Qo(t):(uo(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ul.PROVIDER_ID="phone",ul.PHONE_SIGN_IN_METHOD="phone";class dl extends Sa{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ra(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ra(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ra(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function fl(e){return rc(e.auth,new dl(e),e.bypassAuthState)}function pl(e){const{auth:t,user:n}=e;return uo(n,t,"internal-error"),nc(n,new dl(e),e.bypassAuthState)}async function ml(e){const{auth:t,user:n}=e;return uo(n,t,"internal-error"),ec(n,new dl(e),e.bypassAuthState)}class gl{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(yA){this.reject(yA)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(yA){this.reject(yA)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fl;case"linkViaPopup":case"linkViaRedirect":return ml;case"reauthViaPopup":case"reauthViaRedirect":return pl;default:io(this.auth,"internal-error")}}resolve(e){fo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vl=new vo(2e3,1e4);class yl extends gl{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,yl.currentPopupAction&&yl.currentPopupAction.cancel(),yl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return uo(e,this.auth,"internal-error"),e}async onExecution(){fo(1===this.filter.length,"Popup operations only handle one event");const e=Uc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(so(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(so(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(so(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,vl.get())};e()}}yl.currentPopupAction=null;const wl="pendingRedirect",bl=new Map;class _l extends gl{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=bl.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Tl(t),r=Sl(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(yA){e=()=>Promise.reject(yA)}bl.set(this.auth._key(),e)}return this.bypassAuthState||bl.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Il(e,t){return Sl(e)._set(Tl(t),"true")}function El(e,t){bl.set(e._key(),t)}function Sl(e){return Qo(e._redirectPersistence)}function Tl(e){return Yo(wl,e.config.apiKey,e.name)}function kl(e,t,n){return async function(e,t,n){if(fs(e.app))return Promise.reject(ao(e));const r=fa(e);co(e,t,Ua),await r._initializationPromise;const i=hl(r,n);return await Il(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function Cl(e,t,n){return async function(e,t,n){const r=Ii(e);if(co(r.auth,t,Ua),fs(r.auth.app))return Promise.reject(ao(r.auth));await r.auth._initializationPromise;const i=hl(r.auth,n);await Il(i,r.auth);const s=await Pl(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function Al(e,t,n){return async function(e,t,n){const r=Ii(e);co(r.auth,t,Ua),await r.auth._initializationPromise;const i=hl(r.auth,n);await tc(!1,r,t.providerId),await Il(i,r.auth);const s=await Pl(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function xl(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(fs(e.app))return Promise.reject(ao(e));const r=fa(e),i=hl(r,t),s=new _l(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function Pl(e){const t=Uc("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Nl{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Dl(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Dl(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(so(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rl(e))}saveEventToCache(e){this.cachedEventUids.add(Rl(e)),this.lastProcessedEventTime=Date.now()}}function Rl(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Dl(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function Ol(e){return Eo(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const Ll=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fl=/^https?/;function Ml(e){const t=po(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Fl.test(n))return!1;if(Ll.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Ul=new vo(3e4,6e4);function Vl(){const e=Bc().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Bl(e){return new Promise(((t,n)=>{var r,i,s;function o(){Vl(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Vl(),n(so(e,"network-request-failed"))},timeout:Ul.get()})}if(null===(i=null===(r=Bc().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Bc().gapi)||void 0===s?void 0:s.load)){const t=va("iframefcb");return Bc()[t]=()=>{gapi.load?o():n(so(e,"network-request-failed"))},ga("".concat(ma.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw jl=null,e}))}let jl=null;const zl=new vo(5e3,15e3),ql="__/auth/iframe",Wl="emulator/auth/iframe",Kl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hl(e){const t=e.config;uo(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?yo(t,Wl):"https://".concat(e.config.authDomain,"/").concat(ql),r={apiKey:t.apiKey,appName:e.name,v:ys},i=Gl.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(gi(r).slice(1))}async function Ql(e){const t=await function(e){return jl=jl||Bl(e),jl}(e),n=Bc().gapi;return uo(n,e,"internal-error"),t.open({where:document.body,url:Hl(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kl,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=so(e,"network-request-failed"),s=Bc().setTimeout((()=>{r(i)}),zl.get());function o(){Bc().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const Jl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $l{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(yA){}}}function Yl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Jl),{width:r.toString(),height:i.toString(),top:s,left:o}),l=ni().toLowerCase();n&&(a=na(l)?"_blank":n),ea(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return aa(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new $l(null);const h=window.open(t||"",a,u);uo(h,e,"popup-blocked");try{h.focus()}catch(yA){}return new $l(h)}const Xl="__/auth/handler",Zl="emulator/auth/handler",eu=encodeURIComponent("fac");async function tu(e,t,n,r,i,s){uo(e.config.authDomain,e,"auth-domain-config-required"),uo(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ys,eventId:i};if(t instanceof Ua){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Va){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=await e._getAppCheckToken(),l=c?"#".concat(eu,"=").concat(encodeURIComponent(c)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Xl);return yo(t,Zl)}(e),"?").concat(gi(a).slice(1)).concat(l)}const nu="webStorageSupport";const ru=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fc,this._completeRedirectFn=xl,this._overrideRedirectResult=El}async _openPopup(e,t,n,r){var i;fo(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Yl(e,await tu(e,t,n,po(),r),Uc())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Bc().location.href=e}(await tu(e,t,n,po(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(fo(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Ql(e),n=new Nl(e);return t.register("authEvent",(t=>{uo(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(nu,{type:nu},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[nu];void 0!==i&&t(!!i),io(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Ol(e);for(const r of t)try{if(Ml(r))return}catch(n){}io(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ca()||ta()||aa()}};class iu{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ho("unexpected MultiFactorSessionType")}}}class su extends iu{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new su(e)}_finalizeEnroll(e,t,n){return function(e,t){return Eo(e,"POST","/v2/accounts/mfaEnrollment:finalize",Io(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Eo(e,"POST","/v2/accounts/mfaSignIn:finalize",Io(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class ou{constructor(){}static assertion(e){return su._fromCredential(e)}}ou.FACTOR_ID="phone";var au="@firebase/auth",cu="1.7.2";class lu{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){uo(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=Zr())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var uu;function hu(){return window}!function(e){ma=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=so("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),uu="Browser",ls(new Ei("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;uo(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:uu,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:la(uu)},l=new da(r,i,s,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Qo);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),ls(new Ei("auth-internal",(e=>(e=>new lu(e))(fa(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Ss(au,cu,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(uu)),Ss(au,cu,"esm2017");async function du(e,t,n){var r;const{BuildInfo:i}=hu();fo(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(fo(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),o={};return aa()?o.ibi=i.packageName:ia()?o.apn=i.packageName:io(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,tu(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}function fu(e){const{cordova:t}=hu();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const pu=20;class mu extends Nl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function gu(e){const t=await wu()._get(bu(e));return t&&await wu()._remove(bu(e)),t}function vu(e,t){var n,r;const i=function(e){const t=_u(e),n=t.link?decodeURIComponent(t.link):void 0,r=_u(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return _u(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=_u(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(yA){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?so(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function yu(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<pu;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function wu(){return Qo(Oc)}function bu(e){return Yo("authEvent",e.config.apiKey,e.name)}function _u(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return vi(n.join("?"))}const Iu=class{constructor(){this._redirectPersistence=Fc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=xl,this._overrideRedirectResult=El}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new mu(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){io(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,o,a,c,l,u;const h=hu();uo("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),uo("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),uo("function"===typeof(null===(s=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),uo("function"===typeof(null===(c=null===(a=null===(o=null===h||void 0===h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),uo("function"===typeof(null===(u=null===(l=null===h||void 0===h?void 0:h.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),bl.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:yu(),postBody:null,tenantId:e.tenantId,error:so(e,"no-auth-event")}}(e,n,r);await function(e,t){return wu()._set(bu(e),t)}(e,s);const o=await du(e,s,t);return async function(e,t,n){const{cordova:r}=hu();let i=()=>{};try{await new Promise(((s,o)=>{let a=null;function c(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function l(){a||(a=window.setTimeout((()=>{o(so(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}t.addPassiveListener(c),document.addEventListener("resume",l,!1),ia()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await fu(o))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=hu(),n={};aa()?n.iosBundleId=t.packageName:ia()?n.androidPackageName=t.packageName:io(e,"operation-not-supported-in-this-environment"),await Ol(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=hu(),s=setTimeout((async()=>{await gu(e),t.onEvent(Eu())}),500),o=async n=>{clearTimeout(s);const r=await gu(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=vu(r,n.url)),t.onEvent(i||Eu())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,o);const a=r,c="".concat(i.packageName.toLowerCase(),"://");hu().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&o({url:e}),"function"===typeof a)try{a(e)}catch(yA){console.error(yA)}}}};function Eu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:so("no-auth-event")}}function Su(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Tu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni();return!("file:"!==Su()&&"ionic:"!==Su()&&"capacitor:"!==Su()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function ku(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni();return ai()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni();return/Edge\/\d+/.test(e)}(e)}function Cu(){try{const e=self.localStorage,t=Uc();if(e)return e.setItem(t,"1"),e.removeItem(t),!ku()||li()}catch(yA){return Au()&&li()}return!1}function Au(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function xu(){return("http:"===Su()||"https:"===Su()||si()||Tu())&&!(oi()||ri())&&Cu()&&!Au()}function Pu(){return Tu()&&"undefined"!==typeof document}const Nu={LOCAL:"local",NONE:"none",SESSION:"session"},Ru=uo,Du="persistence";async function Ou(e){await e._initializationPromise;const t=Lu(),n=Yo(Du,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Lu(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(yA){return null}}const Fu=uo;class Mu{constructor(){this.browserResolver=Qo(ru),this.cordovaResolver=Qo(Iu),this.underlyingResolver=null,this._redirectPersistence=Fc,this._completeRedirectFn=xl,this._overrideRedirectResult=El}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Pu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Fu(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Pu()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Uu(e){return e.unwrap()}function Vu(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new qu(e,function(e,t){var n;const r=Ii(e),i=t;return uo(t.customData.operationType,r,"argument-error"),uo(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ac._fromError(r,i)}(e,t))}else if(r){const e=Bu(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Bu(e){const{_tokenResponse:t}=e instanceof ui?e.customData:e;if(!t)return null;if(!(e instanceof ui)&&"temporaryProof"in t&&"phoneNumber"in t)return ul.credentialFromResult(e);const n=t.providerId;if(!n||n===Ks.PASSWORD)return null;let r;switch(n){case Ks.GOOGLE:r=za;break;case Ks.FACEBOOK:r=ja;break;case Ks.GITHUB:r=qa;break;case Ks.TWITTER:r=Ga;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?Wa._create(n,o):Da._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new Ba(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof ui?r.credentialFromError(e):r.credentialFromResult(e)}function ju(e,t){return t.catch((t=>{throw t instanceof ui&&Vu(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,Bu(r)),additionalUserInfo:kc(e),user:Wu.getOrCreate(n)};var r}))}async function zu(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>ju(e,n.confirm(t))}}class qu{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ju(Uu(this.auth),this.resolver.resolveSignIn(e))}}class Wu{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=Ii(e);return Pc.has(t)||Pc.set(t,xc._fromUser(t)),Pc.get(t)}(e)}static getOrCreate(e){return Wu.USER_MAP.has(e)||Wu.USER_MAP.set(e,new Wu(e)),Wu.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ju(this.auth,sc(this._delegate,e))}async linkWithPhoneNumber(e,t){return zu(this.auth,async function(e,t,n){const r=Ii(e);await tc(!1,r,"phone");const i=await ll(r.auth,t,Ii(n));return new cl(i,(e=>sc(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return ju(this.auth,async function(e,t,n){const r=Ii(e);co(r.auth,t,Ua);const i=hl(r.auth,n);return new yl(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Mu))}async linkWithRedirect(e){return await Ou(fa(this.auth)),Al(this._delegate,e,Mu)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ju(this.auth,oc(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return zu(this.auth,async function(e,t,n){const r=Ii(e);if(fs(r.auth.app))return Promise.reject(ao(r.auth));const i=await ll(r.auth,t,Ii(n));return new cl(i,(e=>oc(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return ju(this.auth,async function(e,t,n){const r=Ii(e);if(fs(r.auth.app))return Promise.reject(so(r.auth,"operation-not-supported-in-this-environment"));co(r.auth,t,Ua);const i=hl(r.auth,n);return new yl(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Mu))}async reauthenticateWithRedirect(e){return await Ou(fa(this.auth)),Cl(this._delegate,e,Mu)}sendEmailVerification(e){return gc(this._delegate,e)}async unlink(e){return await Za(this._delegate,e),this}updateEmail(e){return function(e,t){const n=Ii(e);return fs(n.auth.app)?Promise.reject(ao(n.auth)):wc(n,t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return wc(Ii(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){const n=Ii(e);if(fs(n.auth.app))return Promise.reject(ao(n.auth));await ec(n,t)}(this._delegate,e)}updateProfile(e){return yc(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return vc(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Wu.USER_MAP=new WeakMap;const Ku=uo;class Gu{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Ku(n,"invalid-api-key",{appName:e.name}),Ku(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?Mu:void 0;this._delegate=t.initialize({options:{persistence:Qu(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Zs),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Wu.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){_a(this._delegate,e,t)}applyActionCode(e){return fc(this._delegate,e)}checkActionCode(e){return pc(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Ta(Ii(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&dc(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return ju(this._delegate,async function(e,t,n){if(fs(e.app))return Promise.reject(ao(e));const r=fa(e),i=ba(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ha),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&dc(e),t})),o=await Qa._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return mc(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Fa.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){Ku(xu(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await fa(e)._initializationPromise,xl(e,t,!1)}(this._delegate,Mu);return e?ju(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){fa(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=Hu(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=Hu(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=fa(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){uo(t.handleCodeInApp,r,"argument-error"),t&&hc(r,e,t)}(i,n),await ba(r,i,"getOobCode",Pa)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=fa(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&hc(r,i,n),await ba(r,i,"getOobCode",xa)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Ru(Object.values(Nu).includes(t),e,"invalid-persistence-type"),oi()?Ru(t!==Nu.SESSION,e,"unsupported-persistence-type"):ri()?Ru(t===Nu.NONE,e,"unsupported-persistence-type"):Au()?Ru(t===Nu.NONE||t===Nu.LOCAL&&li(),e,"unsupported-persistence-type"):Ru(t===Nu.NONE||Cu(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Nu.SESSION:t=Fc;break;case Nu.LOCAL:t=await Qo(Yc)._isAvailable()?Yc:Oc;break;case Nu.NONE:t=$o;break;default:return io("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ju(this._delegate,async function(e){var t;if(fs(e.app))return Promise.reject(ao(e));const n=fa(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Qa({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Ha(n,{returnSecureToken:!0}),i=await Qa._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return ju(this._delegate,ic(this._delegate,e))}signInWithCustomToken(e){return ju(this._delegate,ac(this._delegate,e))}signInWithEmailAndPassword(e,t){return ju(this._delegate,function(e,t,n){return fs(e.app)?Promise.reject(ao(e)):ic(Ii(e),Ma.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&dc(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return ju(this._delegate,async function(e,t,n){if(fs(e.app))return Promise.reject(ao(e));const r=Ii(e),i=Ma.credentialWithLink(t,n||po());return uo(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),ic(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return zu(this._delegate,async function(e,t,n){if(fs(e.app))return Promise.reject(ao(e));const r=fa(e),i=await ll(r,t,Ii(n));return new cl(i,(e=>ic(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return Ku(xu(),this._delegate,"operation-not-supported-in-this-environment"),ju(this._delegate,async function(e,t,n){if(fs(e.app))return Promise.reject(so(e,"operation-not-supported-in-this-environment"));const r=fa(e);co(e,t,Ua);const i=hl(r,n);return new yl(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,Mu))}async signInWithRedirect(e){return Ku(xu(),this._delegate,"operation-not-supported-in-this-environment"),await Ou(this._delegate),kl(this._delegate,e,Mu)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await pc(Ii(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function Hu(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Wu.getOrCreate(e)),error:t,complete:n}}function Qu(e,t){const n=function(e,t){const n=Lu();if(!n)return[];const r=Yo(Du,e,t);switch(n.getItem(r)){case Nu.NONE:return[$o];case Nu.LOCAL:return[Yc,Fc];case Nu.SESSION:return[Fc];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Yc)||n.push(Yc),"undefined"!==typeof window)for(const r of[Oc,Fc])n.includes(r)||n.push(r);return n.includes($o)||n.push($o),n}Gu.Persistence=Nu;class Ju{constructor(){this.providerId="phone",this._delegate=new ul(Uu(qs.auth()))}static credential(e,t){return ul.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Ju.PHONE_SIGN_IN_METHOD=ul.PHONE_SIGN_IN_METHOD,Ju.PROVIDER_ID=ul.PROVIDER_ID;const $u=uo;class Yu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qs.app();var r;$u(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new al(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var Xu;(Xu=qs).INTERNAL.registerComponent(new Ei("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Gu(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Gs,PASSWORD_RESET:Hs,RECOVER_EMAIL:Qs,REVERT_SECOND_FACTOR_ADDITION:Js,VERIFY_AND_CHANGE_EMAIL:$s,VERIFY_EMAIL:Ys}},EmailAuthProvider:Ma,FacebookAuthProvider:ja,GithubAuthProvider:qa,GoogleAuthProvider:za,OAuthProvider:Ba,SAMLAuthProvider:Ka,PhoneAuthProvider:Ju,PhoneMultiFactorGenerator:ou,RecaptchaVerifier:Yu,TwitterAuthProvider:Ga,Auth:Gu,AuthCredential:Sa,Error:ui}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Xu.registerVersion("@firebase/auth-compat","0.5.7");var Zu,eh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},th={},nh=nh||{},rh=eh||self;function ih(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function sh(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var oh="closure_uid_"+(1e9*Math.random()>>>0),ah=0;function ch(e,t,n){return e.call.apply(e.bind,arguments)}function lh(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function uh(e,t,n){return(uh=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ch:lh).apply(null,arguments)}function hh(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function dh(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function fh(){this.s=this.s,this.o=this.o}fh.prototype.s=!1,fh.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,oh)&&e[oh]||(e[oh]=++ah))},fh.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ph=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function mh(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function gh(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(ih(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function vh(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}vh.prototype.h=function(){this.defaultPrevented=!0};var yh=function(){if(!rh.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};rh.addEventListener("test",e,t),rh.removeEventListener("test",e,t)}catch(n){}return e}();function wh(e){return/^[\s\xa0]*$/.test(e)}function bh(){var e=rh.navigator;return e&&(e=e.userAgent)?e:""}function _h(e){return-1!=bh().indexOf(e)}function Ih(e){return Ih[" "](e),e}Ih[" "]=function(){};var Eh,Sh,Th=_h("Opera"),kh=_h("Trident")||_h("MSIE"),Ch=_h("Edge"),Ah=Ch||kh,xh=_h("Gecko")&&!(-1!=bh().toLowerCase().indexOf("webkit")&&!_h("Edge"))&&!(_h("Trident")||_h("MSIE"))&&!_h("Edge"),Ph=-1!=bh().toLowerCase().indexOf("webkit")&&!_h("Edge");function Nh(){var e=rh.document;return e?e.documentMode:void 0}e:{var Rh="",Dh=function(){var e=bh();return xh?/rv:([^\);]+)(\)|;)/.exec(e):Ch?/Edge\/([\d\.]+)/.exec(e):kh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ph?/WebKit\/(\S+)/.exec(e):Th?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Dh&&(Rh=Dh?Dh[1]:""),kh){var Oh=Nh();if(null!=Oh&&Oh>parseFloat(Rh)){Eh=String(Oh);break e}}Eh=Rh}if(rh.document&&kh){var Lh=Nh();Sh=Lh||(parseInt(Eh,10)||void 0)}else Sh=void 0;var Fh=Sh;function Mh(e,t){if(vh.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(xh){e:{try{Ih(t.nodeName);var i=!0;break e}catch(Ot){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Uh[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Mh.$.h.call(this)}}dh(Mh,vh);var Uh={2:"touch",3:"pen",4:"mouse"};Mh.prototype.h=function(){Mh.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Vh="closure_listenable_"+(1e6*Math.random()|0),Bh=0;function jh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Bh,this.fa=this.ia=!1}function zh(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function qh(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Wh(e){const t={};for(const n in e)t[n]=e[n];return t}const Kh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gh(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Kh.length;t++)n=Kh[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Hh(e){this.src=e,this.g={},this.h=0}function Qh(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=ph(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(zh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Jh(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}Hh.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Jh(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new jh(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var $h="closure_lm_"+(1e6*Math.random()|0),Yh={};function Xh(e,t,n,r,i){if(r&&r.once)return ed(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Xh(e,t[s],n,r,i);return null}return n=ad(n),e&&e[Vh]?e.O(t,n,sh(r)?!!r.capture:!!r,i):Zh(e,t,n,!1,r,i)}function Zh(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=sh(i)?!!i.capture:!!i,a=sd(e);if(a||(e[$h]=a=new Hh(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=id;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)yh||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(rd(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ed(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ed(e,t[s],n,r,i);return null}return n=ad(n),e&&e[Vh]?e.P(t,n,sh(r)?!!r.capture:!!r,i):Zh(e,t,n,!0,r,i)}function td(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)td(e,t[s],n,r,i);else r=sh(r)?!!r.capture:!!r,n=ad(n),e&&e[Vh]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Jh(s=e.g[t],n,r,i))&&(zh(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=sd(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Jh(t,n,r,i)),(n=-1<e?t[e]:null)&&nd(n))}function nd(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Vh])Qh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(rd(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=sd(t))?(Qh(n,e),0==n.h&&(n.src=null,t[$h]=null)):zh(e)}}}function rd(e){return e in Yh?Yh[e]:Yh[e]="on"+e}function id(e,t){if(e.fa)e=!0;else{t=new Mh(t,this);var n=e.listener,r=e.la||e.src;e.ia&&nd(e),e=n.call(r,t)}return e}function sd(e){return(e=e[$h])instanceof Hh?e:null}var od="__closure_events_fn_"+(1e9*Math.random()>>>0);function ad(e){return"function"===typeof e?e:(e[od]||(e[od]=function(t){return e.handleEvent(t)}),e[od])}function cd(){fh.call(this),this.i=new Hh(this),this.S=this,this.J=null}function ld(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new vh(t,e);else if(t instanceof vh)t.target=t.target||e;else{var i=t;Gh(t=new vh(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ud(o,r,!0,t)&&i}if(i=ud(o=t.g=e,r,!0,t)&&i,i=ud(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ud(o=t.g=n[s],r,!1,t)&&i}function ud(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Qh(e.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}dh(cd,fh),cd.prototype[Vh]=!0,cd.prototype.removeEventListener=function(e,t,n,r){td(this,e,t,n,r)},cd.prototype.N=function(){if(cd.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)zh(n[r]);delete t.g[e],t.h--}}this.J=null},cd.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},cd.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var hd=rh.JSON.stringify;function dd(){var e=wd;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var fd=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new pd),(e=>e.reset()));class pd{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function md(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function gd(e){rh.setTimeout((()=>{throw e}),0)}let vd,yd=!1,wd=new class{constructor(){this.h=this.g=null}add(e,t){const n=fd.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},bd=()=>{const e=rh.Promise.resolve(void 0);vd=()=>{e.then(_d)}};var _d=()=>{for(var e;e=dd();){try{e.h.call(e.g)}catch(n){gd(n)}var t=fd;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}yd=!1};function Id(e,t){cd.call(this),this.h=e||1,this.g=t||rh,this.j=uh(this.qb,this),this.l=Date.now()}function Ed(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Sd(e,t,n){if("function"===typeof e)n&&(e=uh(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=uh(e.handleEvent,e)}return 2147483647<Number(t)?-1:rh.setTimeout(e,t||0)}function Td(e){e.g=Sd((()=>{e.g=null,e.i&&(e.i=!1,Td(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}dh(Id,cd),(Zu=Id.prototype).ga=!1,Zu.T=null,Zu.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ld(this,"tick"),this.ga&&(Ed(this),this.start()))}},Zu.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Zu.N=function(){Id.$.N.call(this),Ed(this),delete this.g};class kd extends fh{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Td(this)}N(){super.N(),this.g&&(rh.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cd(e){fh.call(this),this.h=e,this.g={}}dh(Cd,fh);var Ad=[];function xd(e,t,n,r){Array.isArray(n)||(n&&(Ad[0]=n.toString()),n=Ad);for(var i=0;i<n.length;i++){var s=Xh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Pd(e){qh(e.g,(function(e,t){this.g.hasOwnProperty(t)&&nd(e)}),e),e.g={}}function Nd(){this.g=!0}function Rd(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return hd(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Cd.prototype.N=function(){Cd.$.N.call(this),Pd(this)},Cd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Nd.prototype.Ea=function(){this.g=!1},Nd.prototype.info=function(){};var Dd={},Od=null;function Ld(){return Od=Od||new cd}function Fd(e){vh.call(this,Dd.Ta,e)}function Md(e){const t=Ld();ld(t,new Fd(t))}function Ud(e,t){vh.call(this,Dd.STAT_EVENT,e),this.stat=t}function Vd(e){const t=Ld();ld(t,new Ud(t,e))}function Bd(e,t){vh.call(this,Dd.Ua,e),this.size=t}function jd(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return rh.setTimeout((function(){e()}),t)}Dd.Ta="serverreachability",dh(Fd,vh),Dd.STAT_EVENT="statevent",dh(Ud,vh),Dd.Ua="timingevent",dh(Bd,vh);var zd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},qd={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Wd(){}function Kd(e){return e.h||(e.h=e.i())}function Gd(){}Wd.prototype.h=null;var Hd,Qd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Jd(){vh.call(this,"d")}function $d(){vh.call(this,"c")}function Yd(){}function Xd(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Cd(this),this.P=ef,e=Ah?125:void 0,this.V=new Id(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Zd}function Zd(){this.i=null,this.g="",this.h=!1}dh(Jd,vh),dh($d,vh),dh(Yd,Wd),Yd.prototype.g=function(){return new XMLHttpRequest},Yd.prototype.i=function(){return{}},Hd=new Yd;var ef=45e3,tf={},nf={};function rf(e,t,n){e.L=1,e.A=Ef(yf(t)),e.u=n,e.S=!0,sf(e,null)}function sf(e,t){e.G=Date.now(),lf(e),e.B=yf(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Ff(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Zd,e.g=Mp(e.l,n?t:null,!e.u),0<e.O&&(e.M=new kd(uh(e.Pa,e,e.g),e.O)),xd(e.U,e.g,"readystatechange",e.nb),t=e.I?Wh(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Md(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function of(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function af(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=cf(e,n),r==nf){4==t&&(e.s=4,Vd(14),i=!1),Rd(e.j,e.m,null,"[Incomplete Response]");break}if(r==tf){e.s=4,Vd(15),Rd(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Rd(e.j,e.m,r,null),pf(e,r)}of(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Vd(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),xp(t),t.M=!0,Vd(11))):(Rd(e.j,e.m,n,"[Invalid Chunked Response]"),ff(e),df(e))}function cf(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?nf:(n=Number(t.substring(n,r)),isNaN(n)?tf:(r+=1)+n>t.length?nf:(t=t.slice(r,r+n),e.o=r+n,t))}function lf(e){e.Y=Date.now()+e.P,uf(e,e.P)}function uf(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=jd(uh(e.lb,e),t)}function hf(e){e.C&&(rh.clearTimeout(e.C),e.C=null)}function df(e){0==e.l.H||e.J||Rp(e.l,e)}function ff(e){hf(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Ed(e.V),Pd(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function pf(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||qf(n.i,e)))if(!e.K&&qf(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(Lt){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Np(n),_p(n)}Ap(n),Vd(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=jd(uh(n.ib,n),6e3));if(1>=zf(n.i)&&n.oa){try{n.oa()}catch(Lt){}n.oa=void 0}}else Op(n,11)}else if((e.K||n.g==e)&&Np(n),!wh(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const t=l[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=l[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=l[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Wf(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,If(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=Fp(r,r.J?r.pa:null,r.Y),o.K){Kf(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(hf(a),lf(a)),r.g=o}else Cp(r);0<n.j.length&&Ep(n)}else"stop"!=l[0]&&"close"!=l[0]||Op(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Op(n,7):bp(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}Md()}catch(Lt){}}function mf(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ih(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(ih(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(ih(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Zu=Xd.prototype).setTimeout=function(e){this.P=e},Zu.nb=function(e){e=e.target;const t=this.M;t&&3==pp(e)?t.l():this.Pa(e)},Zu.Pa=function(e){try{if(e==this.g)e:{const u=pp(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Ah||this.g&&(this.h.h||this.g.ja()||mp(this.g)))){this.J||4!=u||7==t||Md(),hf(this);var n=this.g.da();this.ca=n;t:if(of(this)){var r=mp(this.g);e="";var i=r.length,s=4==pp(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ff(this),df(this);var o="";break t}this.h.i=new rh.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wh(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.s=3,Vd(12),ff(this),df(this);break e}Rd(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pf(this,n)}this.S?(af(this,u,o),Ah&&this.i&&3==u&&(xd(this.U,this.V,"tick",this.mb),this.V.start())):(Rd(this.j,this.m,o,null),pf(this,o)),4==u&&ff(this),this.i&&!this.J&&(4==u?Rp(this.l,this):(this.i=!1,lf(this)))}else(function(e){const t={};e=(e.g&&2<=pp(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(wh(e[r]))continue;var n=md(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Vd(12)):(this.s=0,Vd(13)),ff(this),df(this)}}}catch(u){}},Zu.mb=function(){if(this.g){var e=pp(this.g),t=this.g.ja();this.o<t.length&&(hf(this),af(this,e,t),this.i&&4!=e&&lf(this))}},Zu.cancel=function(){this.J=!0,ff(this)},Zu.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(Md(),Vd(17)),ff(this),this.s=2,df(this)):uf(this,this.Y-e)};var gf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vf(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof vf){this.h=e.h,wf(this,e.j),this.s=e.s,this.g=e.g,bf(this,e.m),this.l=e.l;var t=e.i,n=new Rf;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),_f(this,n),this.o=e.o}else e&&(t=String(e).match(gf))?(this.h=!1,wf(this,t[1]||"",!0),this.s=Sf(t[2]||""),this.g=Sf(t[3]||"",!0),bf(this,t[4]),this.l=Sf(t[5]||"",!0),_f(this,t[6]||"",!0),this.o=Sf(t[7]||"")):(this.h=!1,this.i=new Rf(null,this.h))}function yf(e){return new vf(e)}function wf(e,t,n){e.j=n?Sf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function bf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function _f(e,t,n){t instanceof Rf?(e.i=t,function(e,t){t&&!e.j&&(Df(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Of(this,t),Ff(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Tf(t,Pf)),e.i=new Rf(t,e.h))}function If(e,t,n){e.i.set(t,n)}function Ef(e){return If(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Sf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Tf(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,kf),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function kf(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}vf.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Tf(t,Cf,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Tf(t,Cf,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Tf(n,"/"==n.charAt(0)?xf:Af,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Tf(n,Nf)),e.join("")};var Cf=/[#\/\?@]/g,Af=/[#\?:]/g,xf=/[#\?]/g,Pf=/[#\?@]/g,Nf=/#/g;function Rf(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Df(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Of(e,t){Df(e),t=Mf(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Lf(e,t){return Df(e),t=Mf(e,t),e.g.has(t)}function Ff(e,t,n){Of(e,t),0<n.length&&(e.i=null,e.g.set(Mf(e,t),mh(n)),e.h+=n.length)}function Mf(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Zu=Rf.prototype).add=function(e,t){Df(this),this.i=null,e=Mf(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Zu.forEach=function(e,t){Df(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Zu.ta=function(){Df(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Zu.Z=function(e){Df(this);let t=[];if("string"===typeof e)Lf(this,e)&&(t=t.concat(this.g.get(Mf(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Zu.set=function(e,t){return Df(this),this.i=null,Lf(this,e=Mf(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Zu.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Zu.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var Uf=class{constructor(e,t){this.g=e,this.map=t}};function Vf(e){this.l=e||Bf,rh.PerformanceNavigationTiming?e=0<(e=rh.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(rh.g&&rh.g.Ka&&rh.g.Ka()&&rh.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Bf=10;function jf(e){return!!e.h||!!e.g&&e.g.size>=e.j}function zf(e){return e.h?1:e.g?e.g.size:0}function qf(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Wf(e,t){e.g?e.g.add(t):e.h=t}function Kf(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Gf(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return mh(e.i)}Vf.prototype.cancel=function(){if(this.i=Gf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Hf,Qf=class{stringify(e){return rh.JSON.stringify(e,void 0)}parse(e){return rh.JSON.parse(e,void 0)}};function Jf(){this.g=new Qf}function $f(e,t,n){const r=n||"";try{mf(e,(function(e,n){let i=e;sh(e)&&(i=hd(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(yA){throw t.push(r+"type="+encodeURIComponent("_badmap")),yA}}function Yf(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(Ot){}}function Xf(e){this.l=e.ec||null,this.j=e.ob||!1}function Zf(e,t){cd.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=ep,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dh(Xf,Wd),Xf.prototype.g=function(){return new Zf(this.l,this.j)},Xf.prototype.i=(Hf={},function(){return Hf}),dh(Zf,cd);var ep=0;function tp(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function np(e){e.readyState=4,e.l=null,e.j=null,e.A=null,rp(e)}function rp(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Zu=Zf.prototype).open=function(e,t){if(this.readyState!=ep)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,rp(this)},Zu.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||rh).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Zu.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,np(this)),this.readyState=ep},Zu.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,rp(this)),this.g&&(this.readyState=3,rp(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof rh.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tp(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Zu.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?np(this):rp(this),3==this.readyState&&tp(this)}},Zu.Za=function(e){this.g&&(this.response=this.responseText=e,np(this))},Zu.Ya=function(e){this.g&&(this.response=e,np(this))},Zu.ka=function(){this.g&&np(this)},Zu.setRequestHeader=function(e,t){this.v.append(e,t)},Zu.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Zu.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Zf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ip=rh.JSON.parse;function sp(e){cd.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=op,this.L=this.M=!1}dh(sp,cd);var op="",ap=/^https?$/i,cp=["POST","PUT"];function lp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,up(e),dp(e)}function up(e){e.F||(e.F=!0,ld(e,"complete"),ld(e,"error"))}function hp(e){if(e.h&&"undefined"!=typeof nh&&(!e.C[1]||4!=pp(e)||2!=e.da()))if(e.v&&4==pp(e))Sd(e.La,0,e);else if(ld(e,"readystatechange"),4==pp(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(gf)[1]||null;!i&&rh.self&&rh.self.location&&(i=rh.self.location.protocol.slice(0,-1)),r=!ap.test(i?i.toLowerCase():"")}n=r}if(n)ld(e,"complete"),ld(e,"success");else{e.m=6;try{var s=2<pp(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",up(e)}}finally{dp(e)}}}function dp(e,t){if(e.g){fp(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ld(e,"ready");try{n.onreadystatechange=r}catch(yA){}}}function fp(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(rh.clearTimeout(e.A),e.A=null)}function pp(e){return e.g?e.g.readyState:0}function mp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case op:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function gp(e){let t="";return qh(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function vp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=gp(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):If(e,t,n))}function yp(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function wp(e){this.Ga=0,this.j=[],this.l=new Nd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=yp("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=yp("baseRetryDelayMs",5e3,e),this.hb=yp("retryDelaySeedMs",1e4,e),this.eb=yp("forwardChannelMaxRetries",2,e),this.xa=yp("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Vf(e&&e.concurrentRequestLimit),this.Ja=new Jf,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function bp(e){if(Ip(e),3==e.H){var t=e.W++,n=yf(e.I);if(If(n,"SID",e.K),If(n,"RID",t),If(n,"TYPE","terminate"),Tp(e,n),(t=new Xd(e,e.l,t)).L=2,t.A=Ef(yf(n)),n=!1,rh.navigator&&rh.navigator.sendBeacon)try{n=rh.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&rh.Image&&((new Image).src=t.A,n=!0),n||(t.g=Mp(t.l,null),t.g.ha(t.A)),t.G=Date.now(),lf(t)}Lp(e)}function _p(e){e.g&&(xp(e),e.g.cancel(),e.g=null)}function Ip(e){_p(e),e.u&&(rh.clearTimeout(e.u),e.u=null),Np(e),e.i.cancel(),e.m&&("number"===typeof e.m&&rh.clearTimeout(e.m),e.m=null)}function Ep(e){if(!jf(e.i)&&!e.m){e.m=!0;var t=e.Na;vd||bd(),yd||(vd(),yd=!0),wd.add(t,e),e.C=0}}function Sp(e,t){var n;n=t?t.m:e.W++;const r=yf(e.I);If(r,"SID",e.K),If(r,"RID",n),If(r,"AID",e.V),Tp(e,r),e.o&&e.s&&vp(r,e.o,e.s),n=new Xd(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=kp(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Wf(e.i,n),rf(n,r,t)}function Tp(e,t){e.na&&qh(e.na,(function(e,n){If(t,n,e)})),e.h&&mf({},(function(e,n){If(t,n,e)}))}function kp(e,t,n){n=Math.min(e.j.length,n);var r=e.h?uh(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{$f(a,e,"req"+n+"_")}catch(sn){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Cp(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;vd||bd(),yd||(vd(),yd=!0),wd.add(t,e),e.A=0}}function Ap(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=jd(uh(e.Ma,e),Dp(e,e.A)),e.A++,!0)}function xp(e){null!=e.B&&(rh.clearTimeout(e.B),e.B=null)}function Pp(e){e.g=new Xd(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=yf(e.wa);If(t,"RID","rpc"),If(t,"SID",e.K),If(t,"AID",e.V),If(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&If(t,"TO",e.qa),If(t,"TYPE","xmlhttp"),Tp(e,t),e.o&&e.s&&vp(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Ef(yf(t)),n.u=null,n.S=!0,sf(n,e)}function Np(e){null!=e.v&&(rh.clearTimeout(e.v),e.v=null)}function Rp(e,t){var n=null;if(e.g==t){Np(e),xp(e),e.g=null;var r=2}else{if(!qf(e.i,t))return;n=t.F,Kf(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;ld(r=Ld(),new Bd(r,n)),Ep(e)}else Cp(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(zf(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=jd(uh(e.Na,e,t),Dp(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ap(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Op(e,5);break;case 4:Op(e,10);break;case 3:Op(e,6);break;default:Op(e,2)}}function Dp(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Op(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=uh(e.pb,e);n||(n=new vf("//www.google.com/images/cleardot.gif"),rh.location&&"http"==rh.location.protocol||wf(n,"https"),Ef(n)),function(e,t){const n=new Nd;if(rh.Image){const r=new Image;r.onload=hh(Yf,n,r,"TestLoadImage: loaded",!0,t),r.onerror=hh(Yf,n,r,"TestLoadImage: error",!1,t),r.onabort=hh(Yf,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=hh(Yf,n,r,"TestLoadImage: timeout",!1,t),rh.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Vd(2);e.H=0,e.h&&e.h.za(t),Lp(e),Ip(e)}function Lp(e){if(e.H=0,e.ma=[],e.h){const t=Gf(e.i);0==t.length&&0==e.j.length||(gh(e.ma,t),gh(e.ma,e.j),e.i.i.length=0,mh(e.j),e.j.length=0),e.h.ya()}}function Fp(e,t,n){var r=n instanceof vf?yf(n):new vf(n);if(""!=r.g)t&&(r.g=t+"."+r.g),bf(r,r.m);else{var i=rh.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new vf(null);r&&wf(s,r),t&&(s.g=t),i&&bf(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&If(r,n,t),If(r,"VER",e.ra),Tp(e,r),r}function Mp(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new sp(new Xf({ob:n})):new sp(e.va)).Oa(e.J),t}function Up(){}function Vp(){if(kh&&!(10<=Number(Fh)))throw Error("Environmental error: no available transport.")}function Bp(e,t){cd.call(this),this.g=new wp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!wh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!wh(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new qp(this)}function jp(e){Jd.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function zp(){$d.call(this),this.status=1}function qp(e){this.g=e}function Wp(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Kp(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function Gp(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Zu=sp.prototype).Oa=function(e){this.M=e},Zu.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Hd.g(),this.C=this.u?Kd(this.u):Kd(Hd),this.g.onreadystatechange=uh(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(Ot){return void lp(this,Ot)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=rh.FormData&&e instanceof rh.FormData,!(0<=ph(cp,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{fp(this),0<this.B&&((this.L=function(e){return kh&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=uh(this.ua,this)):this.A=Sd(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(Ot){lp(this,Ot)}},Zu.ua=function(){"undefined"!=typeof nh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ld(this,"timeout"),this.abort(8))},Zu.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ld(this,"complete"),ld(this,"abort"),dp(this))},Zu.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dp(this,!0)),sp.$.N.call(this)},Zu.La=function(){this.s||(this.G||this.v||this.l?hp(this):this.kb())},Zu.kb=function(){hp(this)},Zu.isActive=function(){return!!this.g},Zu.da=function(){try{return 2<pp(this)?this.g.status:-1}catch(Hf){return-1}},Zu.ja=function(){try{return this.g?this.g.responseText:""}catch(Hf){return""}},Zu.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ip(t)}},Zu.Ia=function(){return this.m},Zu.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Zu=wp.prototype).ra=8,Zu.H=1,Zu.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Xd(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Wh(s),Gh(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=kp(this,i,t),If(n=yf(this.I),"RID",e),If(n,"CVER",22),this.F&&If(n,"X-HTTP-Session-Id",this.F),Tp(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(gp(s)))+"&"+t:this.o&&vp(n,this.o,s)),Wf(this.i,i),this.bb&&If(n,"TYPE","init"),this.P?(If(n,"$req",t),If(n,"SID","null"),i.aa=!0,rf(i,n,null)):rf(i,n,t),this.H=2}}else 3==this.H&&(e?Sp(this,e):0==this.j.length||jf(this.i)||Sp(this))},Zu.Ma=function(){if(this.u=null,Pp(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=jd(uh(this.jb,this),e)}},Zu.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Vd(10),_p(this),Pp(this))},Zu.ib=function(){null!=this.v&&(this.v=null,_p(this),Ap(this),Vd(19))},Zu.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Vd(2)):(this.l.info("Failed to ping google.com"),Vd(1))},Zu.isActive=function(){return!!this.h&&this.h.isActive(this)},(Zu=Up.prototype).Ba=function(){},Zu.Aa=function(){},Zu.za=function(){},Zu.ya=function(){},Zu.isActive=function(){return!0},Zu.Va=function(){},Vp.prototype.g=function(e,t){return new Bp(e,t)},dh(Bp,cd),Bp.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Vd(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Fp(e,null,e.Y),Ep(e)},Bp.prototype.close=function(){bp(this.g)},Bp.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=hd(e),e=n);t.j.push(new Uf(t.fb++,e)),3==t.H&&Ep(t)},Bp.prototype.N=function(){this.g.h=null,delete this.j,bp(this.g),delete this.g,Bp.$.N.call(this)},dh(jp,Jd),dh(zp,$d),dh(qp,Up),qp.prototype.Ba=function(){ld(this.g,"a")},qp.prototype.Aa=function(e){ld(this.g,new jp(e))},qp.prototype.za=function(e){ld(this.g,new zp)},qp.prototype.ya=function(){ld(this.g,"b")},dh(Wp,(function(){this.blockSize=-1})),Wp.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Wp.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)Kp(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Kp(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Kp(this,r),i=0;break}}this.h=i,this.i+=t},Wp.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Hp={};function Qp(e){return-128<=e&&128>e?function(e,t){var n=Hp;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Gp([0|e],0>e?-1:0)})):new Gp([0|e],0>e?-1:0)}function Jp(e){if(isNaN(e)||!isFinite(e))return Yp;if(0>e)return nm(Jp(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=$p;return new Gp(t,0)}var $p=4294967296,Yp=Qp(0),Xp=Qp(1),Zp=Qp(16777216);function em(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function tm(e){return-1==e.h}function nm(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Gp(n,~e.h).add(Xp)}function rm(e,t){return e.add(nm(t))}function im(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function sm(e,t){this.g=e,this.h=t}function om(e,t){if(em(t))throw Error("division by zero");if(em(e))return new sm(Yp,Yp);if(tm(e))return t=om(nm(e),t),new sm(nm(t.g),nm(t.h));if(tm(t))return t=om(e,nm(t)),new sm(nm(t.g),t.h);if(30<e.g.length){if(tm(e)||tm(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Xp,r=t;0>=r.X(e);)n=am(n),r=am(r);var i=cm(n,1),s=cm(r,1);for(r=cm(r,2),n=cm(n,2);!em(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=cm(r,1),n=cm(n,1)}return t=rm(e,i.R(t)),new sm(i,t)}for(i=Yp;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Jp(n)).R(t);tm(o)||0<o.X(e);)o=(s=Jp(n-=r)).R(t);em(s)&&(s=Xp),i=i.add(s),e=rm(e,o)}return new sm(i,e)}function am(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Gp(n,e.h)}function cm(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Gp(i,e.h)}(Zu=Gp.prototype).ea=function(){if(tm(this))return-nm(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:$p+r)*t,t*=$p}return e},Zu.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(em(this))return"0";if(tm(this))return"-"+nm(this).toString(e);for(var t=Jp(Math.pow(e,6)),n=this,r="";;){var i=om(n,t).g,s=((0<(n=rm(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(em(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Zu.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Zu.X=function(e){return tm(e=rm(this,e))?-1:em(e)?0:1},Zu.abs=function(){return tm(this)?nm(this):this},Zu.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Gp(n,-2147483648&n[n.length-1]?-1:0)},Zu.R=function(e){if(em(this)||em(e))return Yp;if(tm(this))return tm(e)?nm(this).R(nm(e)):nm(nm(this).R(e));if(tm(e))return nm(this.R(nm(e)));if(0>this.X(Zp)&&0>e.X(Zp))return Jp(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,c=65535&e.D(i);n[2*r+2*i]+=o*c,im(n,2*r+2*i),n[2*r+2*i+1]+=s*c,im(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,im(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,im(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Gp(n,0)},Zu.gb=function(e){return om(this,e).h},Zu.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Gp(n,this.h&e.h)},Zu.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Gp(n,this.h|e.h)},Zu.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Gp(n,this.h^e.h)},Vp.prototype.createWebChannel=Vp.prototype.g,Bp.prototype.send=Bp.prototype.u,Bp.prototype.open=Bp.prototype.m,Bp.prototype.close=Bp.prototype.close,zd.NO_ERROR=0,zd.TIMEOUT=8,zd.HTTP_ERROR=6,qd.COMPLETE="complete",Gd.EventType=Qd,Qd.OPEN="a",Qd.CLOSE="b",Qd.ERROR="c",Qd.MESSAGE="d",cd.prototype.listen=cd.prototype.O,sp.prototype.listenOnce=sp.prototype.P,sp.prototype.getLastError=sp.prototype.Sa,sp.prototype.getLastErrorCode=sp.prototype.Ia,sp.prototype.getStatus=sp.prototype.da,sp.prototype.getResponseJson=sp.prototype.Wa,sp.prototype.getResponseText=sp.prototype.ja,sp.prototype.send=sp.prototype.ha,sp.prototype.setWithCredentials=sp.prototype.Oa,Wp.prototype.digest=Wp.prototype.l,Wp.prototype.reset=Wp.prototype.reset,Wp.prototype.update=Wp.prototype.j,Gp.prototype.add=Gp.prototype.add,Gp.prototype.multiply=Gp.prototype.R,Gp.prototype.modulo=Gp.prototype.gb,Gp.prototype.compare=Gp.prototype.X,Gp.prototype.toNumber=Gp.prototype.ea,Gp.prototype.toString=Gp.prototype.toString,Gp.prototype.getBits=Gp.prototype.D,Gp.fromNumber=Jp,Gp.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return nm(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Jp(Math.pow(n,8)),i=Yp,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=Jp(Math.pow(n,o)),i=i.R(o).add(Jp(a))):i=(i=i.R(r)).add(Jp(a))}return i};var lm=th.createWebChannelTransport=function(){return new Vp},um=th.getStatEventTarget=function(){return Ld()},hm=th.ErrorCode=zd,dm=th.EventType=qd,fm=th.Event=Dd,pm=th.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},mm=th.FetchXmlHttpFactory=Xf,gm=th.WebChannel=Gd,vm=th.XhrIo=sp,ym=th.Md5=Wp,wm=th.Integer=Gp;const bm="@firebase/firestore";class _m{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_m.UNAUTHENTICATED=new _m(null),_m.GOOGLE_CREDENTIALS=new _m("google-credentials-uid"),_m.FIRST_PARTY=new _m("first-party-uid"),_m.MOCK_USER=new _m("mock-user");let Im="10.11.1";const Em=new Oi("@firebase/firestore");function Sm(){return Em.logLevel}function Tm(e){if(Em.logLevel<=xi.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Am);Em.debug("Firestore (".concat(Im,"): ").concat(e),...i)}}function km(e){if(Em.logLevel<=xi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Am);Em.error("Firestore (".concat(Im,"): ").concat(e),...i)}}function Cm(e){if(Em.logLevel<=xi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Am);Em.warn("Firestore (".concat(Im,"): ").concat(e),...i)}}function Am(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function xm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Im,") INTERNAL ASSERTION FAILED: ")+e;throw km(t),new Error(t)}function Pm(e,t){e||xm()}function Nm(e,t){return e}const Rm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Dm extends ui{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Om{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Lm{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Fm{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(_m.UNAUTHENTICATED)))}shutdown(){}}class Mm{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Um{constructor(e){this.t=e,this.currentUser=_m.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Om;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Om,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Tm("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Tm("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Om)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Tm("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Pm("string"==typeof t.accessToken),new Lm(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pm(null===e||"string"==typeof e),new _m(e)}}class Vm{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=_m.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Bm{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Vm(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(_m.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class jm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zm{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Tm("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Tm("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Tm("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Tm("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Pm("string"==typeof e.token),this.R=e.token,new jm(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function qm(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Wm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=qm(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Km(e,t){return e<t?-1:e>t?1:0}function Gm(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Hm(e){return e+"\0"}class Qm{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Dm(Rm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Dm(Rm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Dm(Rm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Dm(Rm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qm.fromMillis(Date.now())}static fromDate(e){return Qm.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Qm(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Km(this.nanoseconds,e.nanoseconds):Km(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Jm{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Jm(e)}static min(){return new Jm(new Qm(0,0))}static max(){return new Jm(new Qm(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class $m{constructor(e,t,n){void 0===t?t=0:t>e.length&&xm(),void 0===n?n=e.length-t:n>e.length-t&&xm(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===$m.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $m?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ym extends $m{construct(e,t,n){return new Ym(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Dm(Rm.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Ym(e)}static emptyPath(){return new Ym([])}}const Xm=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zm extends $m{construct(e,t,n){return new Zm(e,t,n)}static isValidIdentifier(e){return Xm.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zm.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Zm(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Dm(Rm.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Dm(Rm.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Dm(Rm.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Dm(Rm.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zm(t)}static emptyPath(){return new Zm([])}}class eg{constructor(e){this.path=e}static fromPath(e){return new eg(Ym.fromString(e))}static fromName(e){return new eg(Ym.fromString(e).popFirst(5))}static empty(){return new eg(Ym.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ym.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ym.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new eg(new Ym(e.slice()))}}class tg{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function ng(e){return e.fields.find((e=>2===e.kind))}function rg(e){return e.fields.filter((e=>2!==e.kind))}tg.UNKNOWN_ID=-1;class ig{constructor(e,t){this.fieldPath=e,this.kind=t}}class sg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new sg(0,cg.min())}}function og(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Jm.fromTimestamp(1e9===r?new Qm(n+1,0):new Qm(n,r));return new cg(i,eg.empty(),t)}function ag(e){return new cg(e.readTime,e.key,-1)}class cg{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new cg(Jm.min(),eg.empty(),-1)}static max(){return new cg(Jm.max(),eg.empty(),-1)}}function lg(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=eg.comparator(e.documentKey,t.documentKey),0!==n?n:Km(e.largestBatchId,t.largestBatchId))}const ug="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function dg(e){if(e.code!==Rm.FAILED_PRECONDITION||e.message!==ug)throw e;Tm("LocalStore","Unexpectedly lost primary lease")}class fg{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xm(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fg(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof fg?t:fg.resolve(t)}catch(e){return fg.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):fg.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):fg.reject(t)}static resolve(e){return new fg(((t,n)=>{t(e)}))}static reject(e){return new fg(((t,n)=>{n(e)}))}static waitFor(e){return new fg(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=fg.resolve(!1);for(const n of e)t=t.next((e=>e?fg.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new fg(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next((e=>{s[c]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new fg(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class pg{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Om,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new yg(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Eg(t.target.error);this.V.reject(new yg(e,n))}}static open(e,t,n,r){try{return new pg(t,e.transaction(r,n))}catch(e){throw new yg(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Tm("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new bg(t)}}class mg{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===mg.S(ni())&&km("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Tm("SimpleDb","Removing database:",e),_g(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!li())return!1;if(mg.C())return!0;const e=ni(),t=mg.S(e),n=0<t&&t<10,r=gg(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(Tm("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new yg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Dm(Rm.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Dm(Rm.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new yg(e,r))},r.onupgradeneeded=e=>{Tm("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.O(t,r.transaction,e.oldVersion,this.version).next((()=>{Tm("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=e=>this.N(e)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.M(e);const t=pg.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),fg.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(Tm("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function gg(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class vg{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return _g(this.B.delete())}}class yg extends Dm{constructor(e,t){super(Rm.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function wg(e){return"IndexedDbTransactionError"===e.name}class bg{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Tm("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Tm("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),_g(n)}add(e){return Tm("SimpleDb","ADD",this.store.name,e,e),_g(this.store.add(e))}get(e){return _g(this.store.get(e)).next((t=>(void 0===t&&(t=null),Tm("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Tm("SimpleDb","DELETE",this.store.name,e),_g(this.store.delete(e))}count(){return Tm("SimpleDb","COUNT",this.store.name),_g(this.store.count())}U(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new fg(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}}G(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new fg(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}j(e,t){Tm("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.H=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}J(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Y(e){const t=this.cursor({});return new fg(((n,r)=>{t.onerror=e=>{const t=Eg(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new fg(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new vg(i),o=t(i.primaryKey,i.value,s);if(o instanceof fg){const e=o.catch((e=>(s.done(),fg.reject(e))));n.push(e)}s.isDone?r():null===s.K?i.continue():i.continue(s.K)}})).next((()=>fg.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function _g(e){return new fg(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Eg(e.target.error);n(t)}}))}let Ig=!1;function Eg(e){const t=mg.S(ni());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Dm("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Ig||(Ig=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Sg{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){Tm("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Tm("IndexBackfiller","Documents written: ".concat(await this.Z.ee()))}catch(e){wg(e)?Tm("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await dg(e)}await this.X(6e4)}))}}class Tg{constructor(e,t){this.localStore=e,this.persistence=t}async ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.te(t,e)))}te(e,t){const n=new Set;let r=t,i=!0;return fg.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Tm("IndexBackfiller","Processing collection: ".concat(t)),this.ne(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}ne(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.re(r,n))).next((n=>(Tm("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}re(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=ag(t);lg(r,n)>0&&(n=r)})),new cg(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class kg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Cg(e){return null==e}function Ag(e){return 0===e&&1/e==-1/0}function xg(e){return"number"==typeof e&&Number.isInteger(e)&&!Ag(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Pg(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Rg(t)),t=Ng(e.get(n),t);return Rg(t)}function Ng(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Rg(e){return e+"\x01\x01"}function Dg(e){const t=e.length;if(Pm(t>=2),2===t)return Pm("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Ym.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&xm(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:xm()}s=t+2}return new Ym(r)}kg.oe=-1;const Og=["userId","batchId"];function Lg(e,t){return[e,Pg(t)]}function Fg(e,t,n){return[e,Pg(t),n]}const Mg={},Ug=["prefixPath","collectionGroup","readTime","documentId"],Vg=["prefixPath","collectionGroup","documentId"],Bg=["collectionGroup","readTime","prefixPath","documentId"],jg=["canonicalId","targetId"],zg=["targetId","path"],qg=["path","targetId"],Wg=["collectionId","parent"],Kg=["indexId","uid"],Gg=["uid","sequenceNumber"],Hg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Qg=["indexId","uid","orderedDocumentKey"],Jg=["userId","collectionPath","documentId"],$g=["userId","collectionPath","largestBatchId"],Yg=["userId","collectionGroup","largestBatchId"],Xg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Zg=[...Xg,"documentOverlays"],ev=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],tv=ev,nv=[...tv,"indexConfiguration","indexState","indexEntries"],rv=nv;class iv extends hg{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function sv(e,t){const n=Nm(e);return mg.F(n._e,t)}function ov(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function av(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function cv(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class lv{constructor(e,t){this.comparator=e,this.root=t||hv.EMPTY}insert(e,t){return new lv(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,hv.BLACK,null,null))}remove(e){return new lv(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hv.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uv(this.root,e,this.comparator,!1)}getReverseIterator(){return new uv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uv(this.root,e,this.comparator,!0)}}class uv{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hv{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:hv.RED,this.left=null!=r?r:hv.EMPTY,this.right=null!=i?i:hv.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new hv(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return hv.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return hv.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hv.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hv.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xm();if(this.right.isRed())throw xm();const e=this.left.check();if(e!==this.right.check())throw xm();return e+(this.isRed()?0:1)}}hv.EMPTY=null,hv.RED=!0,hv.BLACK=!1,hv.EMPTY=new class{constructor(){this.size=0}get key(){throw xm()}get value(){throw xm()}get color(){throw xm()}get left(){throw xm()}get right(){throw xm()}copy(e,t,n,r,i){return this}insert(e,t,n){return new hv(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dv{constructor(e){this.comparator=e,this.data=new lv(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fv(this.data.getIterator())}getIteratorFrom(e){return new fv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof dv))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new dv(this.comparator);return t.data=e,t}}class fv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function pv(e){return e.hasNext()?e.getNext():void 0}class mv{constructor(e){this.fields=e,e.sort(Zm.comparator)}static empty(){return new mv([])}unionWith(e){let t=new dv(Zm.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new mv(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Gm(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class gv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vv{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new gv("Invalid base64 string: "+e):e}}(e);return new vv(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new vv(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Km(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vv.EMPTY_BYTE_STRING=new vv("");const yv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wv(e){if(Pm(!!e),"string"==typeof e){let t=0;const n=yv.exec(e);if(Pm(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:bv(e.seconds),nanos:bv(e.nanos)}}function bv(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function _v(e){return"string"==typeof e?vv.fromBase64String(e):vv.fromUint8Array(e)}function Iv(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ev(e){const t=e.mapValue.fields.__previous_value__;return Iv(t)?Ev(t):t}function Sv(e){const t=wv(e.mapValue.fields.__local_write_time__.timestampValue);return new Qm(t.seconds,t.nanos)}class Tv{constructor(e,t,n,r,i,s,o,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=c}}class kv{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new kv("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof kv&&e.projectId===this.projectId&&e.database===this.database}}const Cv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Av={nullValue:"NULL_VALUE"};function xv(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Iv(e)?4:qv(e)?9007199254740991:10:xm()}function Pv(e,t){if(e===t)return!0;const n=xv(e);if(n!==xv(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Sv(e).isEqual(Sv(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=wv(e.timestampValue),r=wv(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return _v(e.bytesValue).isEqual(_v(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return bv(e.geoPointValue.latitude)===bv(t.geoPointValue.latitude)&&bv(e.geoPointValue.longitude)===bv(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return bv(e.integerValue)===bv(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=bv(e.doubleValue),r=bv(t.doubleValue);return n===r?Ag(n)===Ag(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Gm(e.arrayValue.values||[],t.arrayValue.values||[],Pv);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ov(n)!==ov(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Pv(n[i],r[i])))return!1;return!0}(e,t);default:return xm()}}function Nv(e,t){return void 0!==(e.values||[]).find((e=>Pv(e,t)))}function Rv(e,t){if(e===t)return 0;const n=xv(e),r=xv(t);if(n!==r)return Km(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Km(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=bv(e.integerValue||e.doubleValue),r=bv(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Dv(e.timestampValue,t.timestampValue);case 4:return Dv(Sv(e),Sv(t));case 5:return Km(e.stringValue,t.stringValue);case 6:return function(e,t){const n=_v(e),r=_v(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Km(n[i],r[i]);if(0!==e)return e}return Km(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Km(bv(e.latitude),bv(t.latitude));return 0!==n?n:Km(bv(e.longitude),bv(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Rv(n[i],r[i]);if(e)return e}return Km(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Cv.mapValue&&t===Cv.mapValue)return 0;if(e===Cv.mapValue)return 1;if(t===Cv.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Km(r[o],s[o]);if(0!==e)return e;const t=Rv(n[r[o]],i[s[o]]);if(0!==t)return t}return Km(r.length,s.length)}(e.mapValue,t.mapValue);default:throw xm()}}function Dv(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Km(e,t);const n=wv(e),r=wv(t),i=Km(n.seconds,r.seconds);return 0!==i?i:Km(n.nanos,r.nanos)}function Ov(e){return Lv(e)}function Lv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=wv(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return _v(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return eg.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Lv(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Lv(e.fields[i]));return n+"}"}(e.mapValue):xm()}function Fv(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Mv(e){return!!e&&"integerValue"in e}function Uv(e){return!!e&&"arrayValue"in e}function Vv(e){return!!e&&"nullValue"in e}function Bv(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function jv(e){return!!e&&"mapValue"in e}function zv(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return av(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=zv(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=zv(e.arrayValue.values[n]);return t}return Object.assign({},e)}function qv(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Wv(e){return"nullValue"in e?Av:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Fv(kv.empty(),eg.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:xm()}function Kv(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Fv(kv.empty(),eg.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Cv:xm()}function Gv(e,t){const n=Rv(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Hv(e,t){const n=Rv(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Qv{constructor(e){this.value=e}static empty(){return new Qv({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!jv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zv(t)}setAll(e){let t=Zm.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=zv(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());jv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pv(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];jv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){av(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Qv(zv(this.value))}}function Jv(e){const t=[];return av(e.fields,((e,n)=>{const r=new Zm([e]);if(jv(n)){const e=Jv(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new mv(t)}class $v{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new $v(e,0,Jm.min(),Jm.min(),Jm.min(),Qv.empty(),0)}static newFoundDocument(e,t,n,r){return new $v(e,1,t,Jm.min(),n,r,0)}static newNoDocument(e,t){return new $v(e,2,t,Jm.min(),Jm.min(),Qv.empty(),0)}static newUnknownDocument(e,t){return new $v(e,3,t,Jm.min(),Jm.min(),Qv.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Jm.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qv.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qv.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Jm.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $v&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $v(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Yv{constructor(e,t){this.position=e,this.inclusive=t}}function Xv(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?eg.comparator(eg.fromName(o.referenceValue),n.key):Rv(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Zv(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Pv(e.position[n],t.position[n]))return!1;return!0}class ey{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ty(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class ny{}class ry extends ny{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new fy(e,t,n):"array-contains"===t?new vy(e,n):"in"===t?new yy(e,n):"not-in"===t?new wy(e,n):"array-contains-any"===t?new by(e,n):new ry(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new py(e,n):new my(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Rv(t,this.value)):null!==t&&xv(this.value)===xv(t)&&this.matchesComparison(Rv(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xm()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class iy extends ny{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new iy(e,t)}matches(e){return sy(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function sy(e){return"and"===e.op}function oy(e){return"or"===e.op}function ay(e){return cy(e)&&sy(e)}function cy(e){for(const t of e.filters)if(t instanceof iy)return!1;return!0}function ly(e){if(e instanceof ry)return e.field.canonicalString()+e.op.toString()+Ov(e.value);if(ay(e))return e.filters.map((e=>ly(e))).join(",");{const t=e.filters.map((e=>ly(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function uy(e,t){return e instanceof ry?function(e,t){return t instanceof ry&&e.op===t.op&&e.field.isEqual(t.field)&&Pv(e.value,t.value)}(e,t):e instanceof iy?function(e,t){return t instanceof iy&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&uy(n,t.filters[r])),!0)}(e,t):void xm()}function hy(e,t){const n=e.filters.concat(t);return iy.create(n,e.op)}function dy(e){return e instanceof ry?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ov(e.value))}(e):e instanceof iy?function(e){return e.op.toString()+" {"+e.getFilters().map(dy).join(" ,")+"}"}(e):"Filter"}class fy extends ry{constructor(e,t,n){super(e,t,n),this.key=eg.fromName(n.referenceValue)}matches(e){const t=eg.comparator(e.key,this.key);return this.matchesComparison(t)}}class py extends ry{constructor(e,t){super(e,"in",t),this.keys=gy("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class my extends ry{constructor(e,t){super(e,"not-in",t),this.keys=gy("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function gy(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>eg.fromName(e.referenceValue)))}class vy extends ry{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Uv(t)&&Nv(t.arrayValue,this.value)}}class yy extends ry{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Nv(this.value.arrayValue,t)}}class wy extends ry{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Nv(this.value.arrayValue,t)}}class by extends ry{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Uv(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Nv(this.value.arrayValue,e)))}}class _y{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}}function Iy(e){return new _y(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ey(e){const t=Nm(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>ly(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Cg(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ov(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ov(e))).join(",")),t.ue=e}return t.ue}function Sy(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ty(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!uy(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Zv(e.startAt,t.startAt)&&Zv(e.endAt,t.endAt)}function Ty(e){return eg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function ky(e,t){return e.filters.filter((e=>e instanceof ry&&e.field.isEqual(t)))}function Cy(e,t,n){let r=Av,i=!0;for(const s of ky(e,t)){let e=Av,t=!0;switch(s.op){case"<":case"<=":e=Wv(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=Av}Gv({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Gv({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Ay(e,t,n){let r=Cv,i=!0;for(const s of ky(e,t)){let e=Cv,t=!0;switch(s.op){case">=":case">":e=Kv(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=Cv}Hv({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Hv({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class xy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Py(e,t,n,r,i,s,o,a){return new xy(e,t,n,r,i,s,o,a)}function Ny(e){return new xy(e)}function Ry(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Dy(e){return null!==e.collectionGroup}function Oy(e){const t=Nm(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new dv(Zm.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new ey(r,n))})),e.has(Zm.keyField().canonicalString())||t.ce.push(new ey(Zm.keyField(),n))}return t.ce}function Ly(e){const t=Nm(e);return t.le||(t.le=Fy(t,Oy(e))),t.le}function Fy(e,t){if("F"===e.limitType)return Iy(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new ey(e.field,t)}));const n=e.endAt?new Yv(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Yv(e.startAt.position,e.startAt.inclusive):null;return Iy(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function My(e,t){const n=e.filters.concat([t]);return new xy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Uy(e,t,n){return new xy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Vy(e,t){return Sy(Ly(e),Ly(t))&&e.limitType===t.limitType}function By(e){return"".concat(Ey(Ly(e)),"|lt:").concat(e.limitType)}function jy(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>dy(e))).join(", "),"]")),Cg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ov(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ov(e))).join(",")),"Target(".concat(t,")")}(Ly(e)),"; limitType=").concat(e.limitType,")")}function zy(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):eg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Oy(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Xv(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Oy(e),t))&&!(e.endAt&&!function(e,t,n){const r=Xv(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Oy(e),t))}(e,t)}function qy(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Wy(e){return(t,n)=>{let r=!1;for(const i of Oy(e)){const e=Ky(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Ky(e,t,n){const r=e.field.isKeyField()?eg.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Rv(r,i):xm()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return xm()}}class Gy{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){av(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return cv(this.inner)}size(){return this.innerSize}}const Hy=new lv(eg.comparator);function Qy(){return Hy}const Jy=new lv(eg.comparator);function $y(){let e=Jy;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Yy(e){let t=Jy;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Xy(){return ew()}function Zy(){return ew()}function ew(){return new Gy((e=>e.toString()),((e,t)=>e.isEqual(t)))}const tw=new lv(eg.comparator),nw=new dv(eg.comparator);function rw(){let e=nw;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const iw=new dv(Km);function sw(){return iw}function ow(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ag(t)?"-0":t}}function aw(e){return{integerValue:""+e}}function cw(e,t){return xg(t)?aw(t):ow(e,t)}class lw{constructor(){this._=void 0}}function uw(e,t,n){return e instanceof fw?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Iv(t)&&(t=Ev(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof pw?mw(e,t):e instanceof gw?vw(e,t):function(e,t){const n=dw(e,t),r=ww(n)+ww(e.Pe);return Mv(n)&&Mv(e.Pe)?aw(r):ow(e.serializer,r)}(e,t)}function hw(e,t,n){return e instanceof pw?mw(e,t):e instanceof gw?vw(e,t):n}function dw(e,t){return e instanceof yw?function(e){return Mv(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class fw extends lw{}class pw extends lw{constructor(e){super(),this.elements=e}}function mw(e,t){const n=bw(t);for(const r of e.elements)n.some((e=>Pv(e,r)))||n.push(r);return{arrayValue:{values:n}}}class gw extends lw{constructor(e){super(),this.elements=e}}function vw(e,t){let n=bw(t);for(const r of e.elements)n=n.filter((e=>!Pv(e,r)));return{arrayValue:{values:n}}}class yw extends lw{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function ww(e){return bv(e.integerValue||e.doubleValue)}function bw(e){return Uv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class _w{constructor(e,t){this.field=e,this.transform=t}}class Iw{constructor(e,t){this.version=e,this.transformResults=t}}class Ew{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ew}static exists(e){return new Ew(void 0,e)}static updateTime(e){return new Ew(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sw(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Tw{}function kw(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Fw(e.key,Ew.none()):new Nw(e.key,e.data,Ew.none());{const n=e.data,r=Qv.empty();let i=new dv(Zm.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Rw(e.key,r,new mv(i.toArray()),Ew.none())}}function Cw(e,t,n){e instanceof Nw?function(e,t,n){const r=e.value.clone(),i=Ow(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Rw?function(e,t,n){if(!Sw(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ow(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Dw(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Aw(e,t,n,r){return e instanceof Nw?function(e,t,n,r){if(!Sw(e.precondition,t))return n;const i=e.value.clone(),s=Lw(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Rw?function(e,t,n,r){if(!Sw(e.precondition,t))return n;const i=Lw(e.fieldTransforms,r,t),s=t.data;return s.setAll(Dw(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Sw(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function xw(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=dw(r.transform,e||null);null!=i&&(null===n&&(n=Qv.empty()),n.set(r.field,i))}return n||null}function Pw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Gm(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof pw&&t instanceof pw||e instanceof gw&&t instanceof gw?Gm(e.elements,t.elements,Pv):e instanceof yw&&t instanceof yw?Pv(e.Pe,t.Pe):e instanceof fw&&t instanceof fw}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Nw extends Tw{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Rw extends Tw{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Dw(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Ow(e,t,n){const r=new Map;Pm(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,hw(o,a,n[i]))}return r}function Lw(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,uw(e,s,t))}return r}class Fw extends Tw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mw extends Tw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Uw{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Cw(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Aw(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Aw(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Zy();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=kw(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Jm.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),rw())}isEqual(e){return this.batchId===e.batchId&&Gm(this.mutations,e.mutations,((e,t)=>Pw(e,t)))&&Gm(this.baseMutations,e.baseMutations,((e,t)=>Pw(e,t)))}}class Vw{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Pm(e.mutations.length===n.length);let r=tw;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Vw(e,t,n,r)}}class Bw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class jw{constructor(e,t){this.count=e,this.unchangedNames=t}}var zw,qw;function Ww(e){switch(e){default:return xm();case Rm.CANCELLED:case Rm.UNKNOWN:case Rm.DEADLINE_EXCEEDED:case Rm.RESOURCE_EXHAUSTED:case Rm.INTERNAL:case Rm.UNAVAILABLE:case Rm.UNAUTHENTICATED:return!1;case Rm.INVALID_ARGUMENT:case Rm.NOT_FOUND:case Rm.ALREADY_EXISTS:case Rm.PERMISSION_DENIED:case Rm.FAILED_PRECONDITION:case Rm.ABORTED:case Rm.OUT_OF_RANGE:case Rm.UNIMPLEMENTED:case Rm.DATA_LOSS:return!0}}function Kw(e){if(void 0===e)return km("GRPC error has no .code"),Rm.UNKNOWN;switch(e){case zw.OK:return Rm.OK;case zw.CANCELLED:return Rm.CANCELLED;case zw.UNKNOWN:return Rm.UNKNOWN;case zw.DEADLINE_EXCEEDED:return Rm.DEADLINE_EXCEEDED;case zw.RESOURCE_EXHAUSTED:return Rm.RESOURCE_EXHAUSTED;case zw.INTERNAL:return Rm.INTERNAL;case zw.UNAVAILABLE:return Rm.UNAVAILABLE;case zw.UNAUTHENTICATED:return Rm.UNAUTHENTICATED;case zw.INVALID_ARGUMENT:return Rm.INVALID_ARGUMENT;case zw.NOT_FOUND:return Rm.NOT_FOUND;case zw.ALREADY_EXISTS:return Rm.ALREADY_EXISTS;case zw.PERMISSION_DENIED:return Rm.PERMISSION_DENIED;case zw.FAILED_PRECONDITION:return Rm.FAILED_PRECONDITION;case zw.ABORTED:return Rm.ABORTED;case zw.OUT_OF_RANGE:return Rm.OUT_OF_RANGE;case zw.UNIMPLEMENTED:return Rm.UNIMPLEMENTED;case zw.DATA_LOSS:return Rm.DATA_LOSS;default:return xm()}}(qw=zw||(zw={}))[qw.OK=0]="OK",qw[qw.CANCELLED=1]="CANCELLED",qw[qw.UNKNOWN=2]="UNKNOWN",qw[qw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qw[qw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qw[qw.NOT_FOUND=5]="NOT_FOUND",qw[qw.ALREADY_EXISTS=6]="ALREADY_EXISTS",qw[qw.PERMISSION_DENIED=7]="PERMISSION_DENIED",qw[qw.UNAUTHENTICATED=16]="UNAUTHENTICATED",qw[qw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qw[qw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qw[qw.ABORTED=10]="ABORTED",qw[qw.OUT_OF_RANGE=11]="OUT_OF_RANGE",qw[qw.UNIMPLEMENTED=12]="UNIMPLEMENTED",qw[qw.INTERNAL=13]="INTERNAL",qw[qw.UNAVAILABLE=14]="UNAVAILABLE",qw[qw.DATA_LOSS=15]="DATA_LOSS";let Gw=null;function Hw(){return new TextEncoder}const Qw=new wm([4294967295,4294967295],0);function Jw(e){const t=Hw().encode(e),n=new ym;return n.update(t),new Uint8Array(n.digest())}function $w(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new wm([n,r],0),new wm([i,s],0)]}class Yw{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Xw("Invalid padding: ".concat(t));if(n<0)throw new Xw("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Xw("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Xw("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=wm.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(wm.fromNumber(n)));return 1===r.compare(Qw)&&(r=new wm([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Jw(e),[n,r]=$w(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Yw(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=Jw(e),[n,r]=$w(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Xw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zw{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,eb.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Zw(Jm.min(),r,new lv(Km),Qy(),rw())}}class eb{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new eb(n,t,rw(),rw(),rw())}}class tb{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class nb{constructor(e,t){this.targetId=e,this.me=t}}class rb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vv.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ib{constructor(){this.fe=0,this.ge=ab(),this.pe=vv.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=rw(),t=rw(),n=rw();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:xm()}})),new eb(this.pe,this.ye,e,t,n)}ve(){this.we=!1,this.ge=ab()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Pm(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class sb{constructor(e){this.Le=e,this.Be=new Map,this.ke=Qy(),this.qe=ob(),this.Qe=new lv(Km)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:xm()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(Ty(i))if(0===n){const e=new eg(i.path);this.Ue(t,e,$v.newNoDocument(e,Jm.min()))}else Pm(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Gw||Gw.et(function(e,t,n,r,i){var s,o,a,c,l,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(c=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==c?c:0,padding:null!==(u=null===(l=null==d?void 0:d.bits)||void 0===l?void 0:l.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=_v(n).toUint8Array()}catch(e){if(e instanceof gv)return Cm("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Yw(s,r,i)}catch(e){return Cm(e instanceof Xw?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Ie?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&Ty(i.target)){const t=new eg(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,$v.newNoDocument(t,e))}n.be&&(t.set(r,n.Ce()),n.ve())}}));let n=rw();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new Zw(e,t,this.Qe,this.ke,n);return this.ke=Qy(),this.qe=ob(),this.Qe=new lv(Km),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new ib,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new dv(Km),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Tm("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ib),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function ob(){return new lv(eg.comparator)}function ab(){return new lv(eg.comparator)}const cb={asc:"ASCENDING",desc:"DESCENDING"},lb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ub={and:"AND",or:"OR"};class hb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function db(e,t){return e.useProto3Json||Cg(t)?t:{value:t}}function fb(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function pb(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function mb(e,t){return fb(e,t.toTimestamp())}function gb(e){return Pm(!!e),Jm.fromTimestamp(function(e){const t=wv(e);return new Qm(t.seconds,t.nanos)}(e))}function vb(e,t){return yb(e,t).canonicalString()}function yb(e,t){const n=function(e){return new Ym(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function wb(e){const t=Ym.fromString(e);return Pm(jb(t)),t}function bb(e,t){return vb(e.databaseId,t.path)}function _b(e,t){const n=wb(t);if(n.get(1)!==e.databaseId.projectId)throw new Dm(Rm.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Dm(Rm.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new eg(Tb(n))}function Ib(e,t){return vb(e.databaseId,t)}function Eb(e){const t=wb(e);return 4===t.length?Ym.emptyPath():Tb(t)}function Sb(e){return new Ym(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Tb(e){return Pm(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function kb(e,t,n){return{name:bb(e,t),fields:n.value.mapValue.fields}}function Cb(e,t,n){const r=_b(e,t.name),i=gb(t.updateTime),s=t.createTime?gb(t.createTime):Jm.min(),o=new Qv({mapValue:{fields:t.fields}}),a=$v.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Ab(e,t){let n;if(t instanceof Nw)n={update:kb(e,t.key,t.value)};else if(t instanceof Fw)n={delete:bb(e,t.key)};else if(t instanceof Rw)n={update:kb(e,t.key,t.data),updateMask:Bb(t.fieldMask)};else{if(!(t instanceof Mw))return xm();n={verify:bb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof fw)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof pw)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof gw)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof yw)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw xm()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:mb(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:xm()}(e,t.precondition)),n}function xb(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Ew.updateTime(gb(e.updateTime)):void 0!==e.exists?Ew.exists(e.exists):Ew.none()}(t.currentDocument):Ew.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Pm("REQUEST_TIME"===t.setToServerValue),n=new fw;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new pw(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new gw(e)}else"increment"in t?n=new yw(e,t.increment):xm();const r=Zm.fromServerFormat(t.fieldPath);return new _w(r,n)}(e,t))):[];if(t.update){t.update.name;const i=_b(e,t.update.name),s=new Qv({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new mv(t.map((e=>Zm.fromServerFormat(e))))}(t.updateMask);return new Rw(i,s,e,n,r)}return new Nw(i,s,n,r)}if(t.delete){const r=_b(e,t.delete);return new Fw(r,n)}if(t.verify){const r=_b(e,t.verify);return new Mw(r,n)}return xm()}function Pb(e,t){return{documents:[Ib(e,t.path)]}}function Nb(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ib(e,i);const s=function(e){if(0!==e.length)return Vb(iy.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Mb(e.field),direction:Ob(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=db(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function Rb(e){let t=Eb(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Pm(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Db(e);return t instanceof iy&&ay(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new ey(Ub(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Cg(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new Yv(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new Yv(n,t)}(n.endAt)),Py(t,i,o,s,a,"F",c,l)}function Db(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ub(e.unaryFilter.field);return ry.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ub(e.unaryFilter.field);return ry.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ub(e.unaryFilter.field);return ry.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ub(e.unaryFilter.field);return ry.create(i,"!=",{nullValue:"NULL_VALUE"});default:return xm()}}(e):void 0!==e.fieldFilter?function(e){return ry.create(Ub(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xm()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return iy.create(e.compositeFilter.filters.map((e=>Db(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return xm()}}(e.compositeFilter.op))}(e):xm()}function Ob(e){return cb[e]}function Lb(e){return lb[e]}function Fb(e){return ub[e]}function Mb(e){return{fieldPath:e.canonicalString()}}function Ub(e){return Zm.fromServerFormat(e.fieldPath)}function Vb(e){return e instanceof ry?function(e){if("=="===e.op){if(Bv(e.value))return{unaryFilter:{field:Mb(e.field),op:"IS_NAN"}};if(Vv(e.value))return{unaryFilter:{field:Mb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Bv(e.value))return{unaryFilter:{field:Mb(e.field),op:"IS_NOT_NAN"}};if(Vv(e.value))return{unaryFilter:{field:Mb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mb(e.field),op:Lb(e.op),value:e.value}}}(e):e instanceof iy?function(e){const t=e.getFilters().map((e=>Vb(e)));return 1===t.length?t[0]:{compositeFilter:{op:Fb(e.op),filters:t}}}(e):xm()}function Bb(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function jb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class zb{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Jm.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Jm.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:vv.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new zb(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zb(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zb(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zb(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class qb{constructor(e){this.ut=e}}function Wb(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Kb(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:bb(e,t.key),fields:t.data.value.mapValue.fields,updateTime:fb(e,t.version.toTimestamp()),createTime:fb(e,t.createTime.toTimestamp())}}(e.ut,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Gb(t.version)};else{if(!t.isUnknownDocument())return xm();r.unknownDocument={path:n.path.toArray(),version:Gb(t.version)}}return r}function Kb(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Gb(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Hb(e){const t=new Qm(e.seconds,e.nanoseconds);return Jm.fromTimestamp(t)}function Qb(e,t){const n=(t.baseMutations||[]).map((t=>xb(e.ut,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>xb(e.ut,t))),i=Qm.fromMillis(t.localWriteTimeMs);return new Uw(t.batchId,i,n,r)}function Jb(e){const t=Hb(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Hb(e.lastLimboFreeSnapshotVersion):Jm.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return Pm(1===e.documents.length),Ly(Ny(Eb(e.documents[0])))}(e.query):function(e){return Ly(Rb(e))}(e.query),new zb(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,vv.fromBase64String(e.resumeToken))}function $b(e,t){const n=Gb(t.snapshotVersion),r=Gb(t.lastLimboFreeSnapshotVersion);let i;i=Ty(t.target)?Pb(e.ut,t.target):Nb(e.ut,t.target)._t;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ey(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Yb(e){const t=Rb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Uy(t,t.limit,"L"):t}function Xb(e,t){return new Bw(t.largestBatchId,xb(e.ut,t.overlayMutation))}function Zb(e,t){const n=t.path.lastSegment();return[e,Pg(t.path.popLast()),n]}function e_(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:Gb(r.readTime),documentKey:Pg(r.documentKey.path),largestBatchId:r.largestBatchId}}class t_{getBundleMetadata(e,t){return n_(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:Hb(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return n_(e).put(function(e){return{bundleId:e.id,createTime:Gb(gb(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return r_(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:Yb(e.bundledQuery),readTime:Hb(e.readTime)}}(e)}))}saveNamedQuery(e,t){return r_(e).put(function(e){return{name:e.name,readTime:Gb(gb(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function n_(e){return sv(e,"bundles")}function r_(e){return sv(e,"namedQueries")}class i_{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){const n=t.uid||"";return new i_(e,n)}getOverlay(e,t){return s_(e).get(Zb(this.userId,t)).next((e=>e?Xb(this.serializer,e):null))}getOverlays(e,t){const n=Xy();return fg.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new Bw(t,i);r.push(this.lt(e,s))})),fg.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Pg(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(s_(e).j("collectionPathOverlayIndex",r))})),fg.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Xy(),i=Pg(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return s_(e).U("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=Xb(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Xy();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return s_(e).J({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=Xb(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}lt(e,t){return s_(e).put(function(e,t,n){const[r,i,s]=Zb(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Ab(e.ut,n.mutation)}}(this.serializer,this.userId,t))}}function s_(e){return sv(e,"documentOverlays")}class o_{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(bv(e.integerValue));else if("doubleValue"in e){const n=bv(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),Ag(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Tt(t,20),"string"==typeof n&&(n=wv(n)),t.dt("".concat(n.seconds||"")),t.Et(n.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(_v(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?qv(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):xm()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const r of Object.keys(n))this.At(r,t),this.Pt(n[r],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const r of n)this.Pt(r,t)}ft(e,t){this.Tt(t,37),eg.fromName(e).path.forEach((e=>{this.Tt(t,60),this.wt(e,t)}))}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function a_(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function c_(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=a_(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}o_.St=new o_;class l_{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Dt(n.value),n=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ft(n.value),n=t.next();this.Mt()}xt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Dt(e);else if(e<2048)this.Dt(960|e>>>6),this.Dt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e);else{const e=t.codePointAt(0);this.Dt(240|e>>>18),this.Dt(128|63&e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e)}}this.Ct()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ft(e);else if(e<2048)this.Ft(960|e>>>6),this.Ft(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e);else{const e=t.codePointAt(0);this.Ft(240|e>>>18),this.Ft(128|63&e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e)}}this.Mt()}Nt(e){const t=this.Lt(e),n=c_(t);this.Bt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Lt(e),n=c_(t);this.Bt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Bt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Lt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Bt(1),this.buffer[this.position++]=e}$t(e){this.Bt(1),this.buffer[this.position++]=~e}Bt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class u_{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class h_{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class d_{constructor(){this.Wt=new l_,this.Gt=new u_(this.Wt),this.zt=new h_(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class f_{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new f_(this.indexId,this.documentKey,this.arrayValue,n)}}function p_(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=m_(e.arrayValue,t.arrayValue),0!==n?n:(n=m_(e.directionalValue,t.directionalValue),0!==n?n:eg.comparator(e.documentKey,t.documentKey)))}function m_(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class g_{constructor(e){this.Jt=new dv(((e,t)=>Zm.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Jt=this.Jt.add(e):this.Zt.push(e)}}get Xt(){return this.Jt.size>1}en(e){if(Pm(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=ng(e);if(void 0!==t&&!this.tn(t))return!1;const n=rg(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Jt.size>0){const e=this.Jt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.nn(e,t)||!this.rn(this.Yt[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Yt.length||!this.rn(this.Yt[s++],e))return!1}return!0}sn(){if(this.Xt)return null;let e=new dv(Zm.comparator);const t=[];for(const n of this.Zt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new ig(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new ig(n.field,0))}for(const n of this.Yt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new ig(n.field,"asc"===n.dir?0:1)));return new tg(tg.UNKNOWN_ID,this.collectionId,t,sg.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function v_(e){var t,n;if(Pm(e instanceof ry||e instanceof iy),e instanceof ry){if(e instanceof yy){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>ry.create(e.field,"==",t))))||[];return iy.create(r,"or")}return e}const r=e.filters.map((e=>v_(e)));return iy.create(r,e.op)}function y_(e){if(0===e.getFilters().length)return[];const t=I_(v_(e));return Pm(__(t)),w_(t)||b_(t)?[t]:t.getFilters()}function w_(e){return e instanceof ry}function b_(e){return e instanceof iy&&ay(e)}function __(e){return w_(e)||b_(e)||function(e){if(e instanceof iy&&oy(e)){for(const t of e.getFilters())if(!w_(t)&&!b_(t))return!1;return!0}return!1}(e)}function I_(e){if(Pm(e instanceof ry||e instanceof iy),e instanceof ry)return e;if(1===e.filters.length)return I_(e.filters[0]);const t=e.filters.map((e=>I_(e)));let n=iy.create(t,e.op);return n=T_(n),__(n)?n:(Pm(n instanceof iy),Pm(sy(n)),Pm(n.filters.length>1),n.filters.reduce(((e,t)=>E_(e,t))))}function E_(e,t){let n;return Pm(e instanceof ry||e instanceof iy),Pm(t instanceof ry||t instanceof iy),n=e instanceof ry?t instanceof ry?function(e,t){return iy.create([e,t],"and")}(e,t):S_(e,t):t instanceof ry?S_(t,e):function(e,t){if(Pm(e.filters.length>0&&t.filters.length>0),sy(e)&&sy(t))return hy(e,t.getFilters());const n=oy(e)?e:t,r=oy(e)?t:e,i=n.filters.map((e=>E_(e,r)));return iy.create(i,"or")}(e,t),T_(n)}function S_(e,t){if(sy(t))return hy(t,e.getFilters());{const n=t.filters.map((t=>E_(e,t)));return iy.create(n,"or")}}function T_(e){if(Pm(e instanceof ry||e instanceof iy),e instanceof ry)return e;const t=e.getFilters();if(1===t.length)return T_(t[0]);if(cy(e))return e;const n=t.map((e=>T_(e))),r=[];return n.forEach((t=>{t instanceof ry?r.push(t):t instanceof iy&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:iy.create(r,e.op)}class k_{constructor(){this.on=new C_}addToCollectionParentIndex(e,t){return this.on.add(t),fg.resolve()}getCollectionParents(e,t){return fg.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return fg.resolve()}deleteFieldIndex(e,t){return fg.resolve()}deleteAllFieldIndexes(e){return fg.resolve()}createTargetIndexes(e,t){return fg.resolve()}getDocumentsMatchingTarget(e,t){return fg.resolve(null)}getIndexType(e,t){return fg.resolve(0)}getFieldIndexes(e,t){return fg.resolve([])}getNextCollectionGroupToUpdate(e){return fg.resolve(null)}getMinOffset(e,t){return fg.resolve(cg.min())}getMinOffsetFromCollectionGroup(e,t){return fg.resolve(cg.min())}updateCollectionGroup(e,t,n){return fg.resolve()}updateIndexEntries(e,t){return fg.resolve()}}class C_{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new dv(Ym.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new dv(Ym.comparator)).toArray()}}const A_=new Uint8Array(0);class x_{constructor(e,t){this.databaseId=t,this._n=new C_,this.an=new Gy((e=>Ey(e)),((e,t)=>Sy(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this._n.add(t)}));const i={collectionId:n,parent:Pg(r)};return P_(e).put(i)}return fg.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Hm(t),""],!1,!0);return P_(e).U(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Dg(r.parent))}return n}))}addFieldIndex(e,t){const n=R_(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=D_(e);return i.next((e=>{n.put(e_(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=R_(e),r=D_(e),i=N_(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=R_(e),n=N_(e),r=D_(e);return t.j().next((()=>n.j())).next((()=>r.j()))}createTargetIndexes(e,t){return fg.forEach(this.un(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new g_(t).sn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=N_(e);let r=!0;const i=new Map;return fg.forEach(this.un(t),(t=>this.cn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=rw();const r=[];return fg.forEach(i,((i,s)=>{Tm("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(Ey(t)));const o=function(e,t){const n=ng(t);if(void 0===n)return null;for(const r of ky(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),a=function(e,t){const n=new Map;for(const r of rg(t))for(const t of ky(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of rg(t)){const t=0===i.kind?Cy(e,i.fieldPath,e.startAt):Ay(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Yv(n,r)}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of rg(t)){const t=0===i.kind?Ay(e,i.fieldPath,e.endAt):Cy(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Yv(n,r)}(s,i),u=this.ln(i,s,c),h=this.ln(i,s,l),d=this.hn(i,s,a),f=this.Pn(i.indexId,o,u,c.inclusive,h,l.inclusive,d);return fg.forEach(f,(i=>n.G(i,t.limit).next((t=>{t.forEach((t=>{const n=eg.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return fg.resolve(null)}))}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:y_(iy.create(e.filters,"and")).map((t=>Iy(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.an.set(e,t),t)}Pn(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),c=a/(null!=t?t.length:1),l=[];for(let u=0;u<a;++u){const a=t?this.In(t[u/c]):A_,h=this.Tn(e,a,n[u%c],r),d=this.En(e,a,i[u%c],s),f=o.map((t=>this.Tn(e,a,t,!0)));l.push(...this.createRange(h,d,f))}return l}Tn(e,t,n,r){const i=new f_(e,eg.empty(),t,n);return r?i:i.Ht()}En(e,t,n,r){const i=new f_(e,eg.empty(),t,n);return r?i.Ht():i}cn(e,t){const n=new g_(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.en(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.un(t);return fg.forEach(r,(t=>this.cn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new dv(Zm.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}dn(e,t){const n=new d_;for(const r of rg(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.jt(r.kind);o_.St.ht(e,i)}return n.Ut()}In(e){const t=new d_;return o_.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const n=new d_;return o_.St.ht(Fv(this.databaseId,t),n.jt(function(e){const t=rg(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ut()}hn(e,t,n){if(null===n)return[];let r=[];r.push(new d_);let i=0;for(const s of rg(e)){const e=n[i++];for(const n of r)if(this.Rn(t,s.fieldPath)&&Uv(e))r=this.Vn(r,s,e);else{const t=n.jt(s.kind);o_.St.ht(e,t)}}return this.mn(r)}ln(e,t,n){return this.hn(e,t,n.position)}mn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Ut();return t}Vn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new d_;n.seed(e.Ut()),o_.St.ht(s,n.jt(t.kind)),i.push(n)}return i}Rn(e,t){return!!e.filters.find((e=>e instanceof ry&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=R_(e),r=D_(e);return(t?n.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.U()).next((e=>{const t=[];return fg.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new sg(t.sequenceNumber,new cg(Hb(t.readTime),new eg(Dg(t.documentKey)),t.largestBatchId)):sg.empty(),r=e.fields.map((e=>{let[t,n]=e;return new ig(Zm.fromServerFormat(t),n)}));return new tg(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Km(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=R_(e),i=D_(e);return this.fn(e).next((e=>r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>fg.forEach(t,(t=>i.put(e_(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return fg.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?fg.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),fg.forEach(i,(n=>this.gn(e,t,n).next((t=>{const i=this.pn(r,n);return t.isEqual(i)?fg.resolve():this.yn(e,r,n,t,i)})))))))}))}wn(e,t,n,r){return N_(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,n,r){return N_(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}gn(e,t,n){const r=N_(e);let i=new dv(p_);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},((e,r)=>{i=i.add(new f_(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}pn(e,t){let n=new dv(p_);const r=this.dn(t,e);if(null==r)return n;const i=ng(t);if(null!=i){const s=e.data.field(i.fieldPath);if(Uv(s))for(const i of s.arrayValue.values||[])n=n.add(new f_(t.indexId,e.key,this.In(i),r))}else n=n.add(new f_(t.indexId,e.key,A_,r));return n}yn(e,t,n,r,i){Tm("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=pv(s),c=pv(o);for(;a||c;){let e=!1,t=!1;if(a&&c){const r=n(a,c);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(c),c=pv(o)):t?(i(a),a=pv(s)):(a=pv(s),c=pv(o))}}(r,i,p_,(r=>{s.push(this.wn(e,t,n,r))}),(r=>{s.push(this.Sn(e,t,n,r))})),fg.waitFor(s)}fn(e){let t=1;return D_(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>p_(e,t))).filter(((e,t,n)=>!t||0!==p_(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=p_(s,e),i=p_(s,t);if(0===n)r[0]=e.Ht();else if(n>0&&i<0)r.push(s),r.push(s.Ht());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,A_,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,A_,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return p_(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(O_)}getMinOffset(e,t){return fg.mapArray(this.un(t),(t=>this.cn(e,t).next((e=>e||xm())))).next(O_)}}function P_(e){return sv(e,"collectionParents")}function N_(e){return sv(e,"indexEntries")}function R_(e){return sv(e,"indexConfiguration")}function D_(e){return sv(e,"indexState")}function O_(e){Pm(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;lg(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new cg(t.readTime,t.documentKey,n)}const L_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class F_{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new F_(e,F_.DEFAULT_COLLECTION_PERCENTILE,F_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function M_(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const c=r.J({range:o},((e,t,n)=>(a++,n.delete())));s.push(c.next((()=>{Pm(1===a)})));const l=[];for(const u of n.mutations){const e=Fg(t,u.key.path,n.batchId);s.push(i.delete(e)),l.push(u.key)}return fg.waitFor(s).next((()=>l))}function U_(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw xm();t=e.noDocument}return JSON.stringify(t).length}F_.DEFAULT_COLLECTION_PERCENTILE=10,F_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,F_.DEFAULT=new F_(41943040,F_.DEFAULT_COLLECTION_PERCENTILE,F_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),F_.DISABLED=new F_(-1,0,0);class V_{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Dn={}}static ct(e,t,n,r){Pm(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new V_(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return j_(e).J({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=z_(e),s=j_(e);return s.add({}).next((o=>{Pm("number"==typeof o);const a=new Uw(o,t,n,r),c=function(e,t,n){const r=n.baseMutations.map((t=>Ab(e.ut,t))),i=n.mutations.map((t=>Ab(e.ut,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),l=[];let u=new dv(((e,t)=>Km(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Fg(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),l.push(s.put(c)),l.push(i.put(t,Mg))}return u.forEach((t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Dn[o]=a.keys()})),fg.waitFor(l).next((()=>a))}))}lookupMutationBatch(e,t){return j_(e).get(t).next((e=>e?(Pm(e.userId===this.userId),Qb(this.serializer,e)):null))}Cn(e,t){return this.Dn[t]?fg.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Dn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return j_(e).J({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Pm(t.batchId>=n),i=Qb(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return j_(e).J({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return j_(e).U("userMutationsIndex",t).next((e=>e.map((e=>Qb(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Lg(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return z_(e).J({range:r},((n,r,s)=>{const[o,a,c]=n,l=Dg(a);if(o===this.userId&&t.path.isEqual(l))return j_(e).get(c).next((e=>{if(!e)throw xm();Pm(e.userId===this.userId),i.push(Qb(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new dv(Km);const r=[];return t.forEach((t=>{const i=Lg(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=z_(e).J({range:s},((e,r,i)=>{const[s,o,a]=e,c=Dg(o);s===this.userId&&t.path.isEqual(c)?n=n.add(a):i.done()}));r.push(o)})),fg.waitFor(r).next((()=>this.vn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Lg(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new dv(Km);return z_(e).J({range:s},((e,t,i)=>{const[s,a,c]=e,l=Dg(a);s===this.userId&&n.isPrefixOf(l)?l.length===r&&(o=o.add(c)):i.done()})).next((()=>this.vn(e,o)))}vn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(j_(e).get(t).next((e=>{if(null===e)throw xm();Pm(e.userId===this.userId),n.push(Qb(this.serializer,e))})))})),fg.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return M_(e._e,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Fn(t.batchId)})),fg.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return fg.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return z_(e).J({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Dg(e[1]);r.push(t)}else n.done()})).next((()=>{Pm(0===r.length)}))}))}containsKey(e,t){return B_(e,this.userId,t)}Mn(e){return q_(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function B_(e,t,n){const r=Lg(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return z_(e).J({range:s,H:!0},((e,n,r)=>{const[s,a,c]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function j_(e){return sv(e,"mutations")}function z_(e){return sv(e,"documentMutations")}function q_(e){return sv(e,"mutationQueues")}class W_{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new W_(0)}static Nn(){return new W_(-1)}}class K_{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Ln(e).next((t=>{const n=new W_(t.highestTargetId);return t.highestTargetId=n.next(),this.Bn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Ln(e).next((e=>Jm.fromTimestamp(new Qm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Ln(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Ln(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Bn(e,r))))}addTargetData(e,t){return this.kn(e,t).next((()=>this.Ln(e).next((n=>(n.targetCount+=1,this.qn(t,n),this.Bn(e,n))))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>G_(e).delete(t.targetId))).next((()=>this.Ln(e))).next((t=>(Pm(t.targetCount>0),t.targetCount-=1,this.Bn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return G_(e).J(((s,o)=>{const a=Jb(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>fg.waitFor(i))).next((()=>r))}forEachTarget(e,t){return G_(e).J(((e,n)=>{const r=Jb(n);t(r)}))}Ln(e){return H_(e).get("targetGlobalKey").next((e=>(Pm(null!==e),e)))}Bn(e,t){return H_(e).put("targetGlobalKey",t)}kn(e,t){return G_(e).put($b(this.serializer,t))}qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Ln(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Ey(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return G_(e).J({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=Jb(n);Sy(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Q_(e);return t.forEach((t=>{const s=Pg(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),fg.waitFor(r)}removeMatchingKeys(e,t,n){const r=Q_(e);return fg.forEach(t,(t=>{const i=Pg(t.path);return fg.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Q_(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Q_(e);let i=rw();return r.J({range:n,H:!0},((e,t,n)=>{const r=Dg(e[1]),s=new eg(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=Pg(t.path),r=IDBKeyRange.bound([n],[Hm(n)],!1,!0);let i=0;return Q_(e).J({index:"documentTargetsIndex",H:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}ot(e,t){return G_(e).get(t).next((e=>e?Jb(e):null))}}function G_(e){return sv(e,"targets")}function H_(e){return sv(e,"targetGlobal")}function Q_(e){return sv(e,"targetDocuments")}function J_(e,t){let[n,r]=e,[i,s]=t;const o=Km(n,i);return 0===o?Km(r,s):o}class $_{constructor(e){this.Qn=e,this.buffer=new dv(J_),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();J_(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Y_{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){Tm("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){wg(e)?Tm("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await dg(e)}await this.Gn(3e5)}))}}class X_{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return fg.resolve(kg.oe);const n=new $_(t);return this.zn.forEachTarget(e,(e=>n.Un(e.sequenceNumber))).next((()=>this.zn.Hn(e,(e=>n.Un(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Tm("LruGarbageCollector","Garbage collection skipped; disabled"),fg.resolve(L_)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Tm("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),L_):this.Jn(e,t)))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let n,r,i,s,o,a,c;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Tm("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),Sm()<=xi.DEBUG&&Tm("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-a)+"ms\n"+"Total Duration: ".concat(c-l,"ms")),fg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Z_(e,t){return new X_(e,t)}class eI{constructor(e,t){this.db=e,this.garbageCollector=Z_(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Yn(e){let t=0;return this.Hn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,((e,n)=>t(n)))}addReference(e,t,n){return tI(e,n)}removeReference(e,t,n){return tI(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return tI(e,t)}Xn(e,t){return function(e,t){let n=!1;return q_(e).Y((r=>B_(e,r,t).next((e=>(e&&(n=!0),fg.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Zn(e,((s,o)=>{if(o<=t){const t=this.Xn(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,Jm.min()),Q_(e).delete(function(e){return[0,Pg(e.path)]}(s)))))}));r.push(t)}})).next((()=>fg.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return tI(e,t)}Zn(e,t){const n=Q_(e);let r,i=kg.oe;return n.J({index:"documentTargetsIndex"},((e,n)=>{let[s,o]=e,{path:a,sequenceNumber:c}=n;0===s?(i!==kg.oe&&t(new eg(Dg(r)),i),i=c,r=a):i=kg.oe})).next((()=>{i!==kg.oe&&t(new eg(Dg(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function tI(e,t){return Q_(e).put(function(e,t){return{targetId:0,path:Pg(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class nI{constructor(){this.changes=new Gy((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$v.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?fg.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rI{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return aI(e).put(n)}removeEntry(e,t,n){return aI(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Kb(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.er(e,n))))}getEntry(e,t){let n=$v.newInvalidDocument(t);return aI(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(cI(t))},((e,r)=>{n=this.tr(t,r)})).next((()=>n))}nr(e,t){let n={size:0,document:$v.newInvalidDocument(t)};return aI(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(cI(t))},((e,r)=>{n={document:this.tr(t,r),size:U_(r)}})).next((()=>n))}getEntries(e,t){let n=Qy();return this.rr(e,t,((e,t)=>{const r=this.tr(e,t);n=n.insert(e,r)})).next((()=>n))}ir(e,t){let n=Qy(),r=new lv(eg.comparator);return this.rr(e,t,((e,t)=>{const i=this.tr(e,t);n=n.insert(e,i),r=r.insert(e,U_(t))})).next((()=>({documents:n,sr:r})))}rr(e,t,n){if(t.isEmpty())return fg.resolve();let r=new dv(uI);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(cI(r.first()),cI(r.last())),s=r.getIterator();let o=s.getNext();return aI(e).J({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=eg.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&uI(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.$(cI(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),Kb(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return aI(e).U(IDBKeyRange.bound(o,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=Qy();for(const i of e){const e=this.tr(eg.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(zy(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Qy();const s=lI(t,n),o=lI(t,cg.max());return aI(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.tr(eg.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new sI(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return oI(e).get("remoteDocumentGlobalKey").next((e=>(Pm(!!e),e)))}er(e,t){return oI(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Cb(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=eg.fromSegments(t.noDocument.path),r=Hb(t.noDocument.readTime);n=$v.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return xm();{const e=eg.fromSegments(t.unknownDocument.path),r=Hb(t.unknownDocument.version);n=$v.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Qm(e[0],e[1]);return Jm.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Jm.min()))return e}return $v.newInvalidDocument(e)}}function iI(e){return new rI(e)}class sI extends nI{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new Gy((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new dv(((e,t)=>Km(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.ar.get(i);if(t.push(this._r.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=Wb(this._r.serializer,s);r=r.add(i.path.popLast());const c=U_(a);n+=c-o.size,t.push(this._r.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=Wb(this._r.serializer,s.convertToNoDocument(Jm.min()));t.push(this._r.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,n))})),t.push(this._r.updateMetadata(e,n)),fg.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next((e=>(this.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this._r.ir(e,t).next((e=>{let{documents:t,sr:n}=e;return n.forEach(((e,n)=>{this.ar.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function oI(e){return sv(e,"remoteDocumentGlobal")}function aI(e){return sv(e,"remoteDocumentsV14")}function cI(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function lI(e,t){const n=t.documentKey.path.toArray();return[e,Kb(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function uI(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Km(n[s],r[s]),i)return i;return i=Km(n.length,r.length),i||(i=Km(n[n.length-2],r[r.length-2]),i||Km(n[n.length-1],r[r.length-1]))}class hI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class dI{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Aw(n.mutation,e,mv.empty(),Qm.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,rw()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rw();const r=Xy();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=$y();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Xy();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,rw())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Qy();const s=ew(),o=ew();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Rw)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Aw(o.mutation,t,o.mutation.getFieldMask(),Qm.now())):s.set(t.key,mv.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new hI(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=ew();let r=new lv(((e,t)=>e-t)),i=rw();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||mv.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||rw()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,c=r.value,l=Zy();c.forEach((e=>{if(!i.has(e)){const r=kw(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,l))}return fg.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return eg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Dy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):fg.resolve(Xy());let o=-1,a=i;return s.next((t=>fg.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?fg.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,rw()))).next((e=>({batchId:o,changes:Yy(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new eg(t)).next((e=>{let t=$y();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=$y();return this.indexManager.getCollectionParents(e,i).next((o=>fg.forEach(o,(o=>{const a=function(e,t){return new xy(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,$v.newInvalidDocument(r)))}));let n=$y();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Aw(s.mutation,r,mv.empty(),Qm.now()),zy(t,r)&&(n=n.insert(e,r))})),n}))}}class fI{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return fg.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:gb(e.createTime)}}(t)),fg.resolve()}getNamedQuery(e,t){return fg.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:Yb(e.bundledQuery),readTime:gb(e.readTime)}}(t)),fg.resolve()}}class pI{constructor(){this.overlays=new lv(eg.comparator),this.lr=new Map}getOverlay(e,t){return fg.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Xy();return fg.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.lt(e,t,r)})),fg.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.lr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.lr.delete(n)),fg.resolve()}getOverlaysForCollection(e,t,n){const r=Xy(),i=t.length+1,s=new eg(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return fg.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new lv(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Xy(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Xy(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return fg.resolve(o)}lt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Bw(t,n));let i=this.lr.get(t);void 0===i&&(i=rw(),this.lr.set(t,i)),this.lr.set(t,i.add(n.key))}}class mI{constructor(){this.hr=new dv(gI.Pr),this.Ir=new dv(gI.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new gI(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.dr(new gI(e,t))}Ar(e,t){e.forEach((e=>this.removeReference(e,t)))}Rr(e){const t=new eg(new Ym([])),n=new gI(t,e),r=new gI(t,e+1),i=[];return this.Ir.forEachInRange([n,r],(e=>{this.dr(e),i.push(e.key)})),i}Vr(){this.hr.forEach((e=>this.dr(e)))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new eg(new Ym([])),n=new gI(t,e),r=new gI(t,e+1);let i=rw();return this.Ir.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new gI(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class gI{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return eg.comparator(e.key,t.key)||Km(e.gr,t.gr)}static Tr(e,t){return Km(e.gr,t.gr)||eg.comparator(e.key,t.key)}}class vI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new dv(gI.Pr)}checkEmpty(e){return fg.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Uw(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.yr=this.yr.add(new gI(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return fg.resolve(s)}lookupMutationBatch(e,t){return fg.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Sr(n),i=r<0?0:r;return fg.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return fg.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return fg.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new gI(t,0),r=new gI(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([n,r],(e=>{const t=this.wr(e.gr);i.push(t)})),fg.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new dv(Km);return t.forEach((e=>{const t=new gI(e,0),r=new gI(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,r],(e=>{n=n.add(e.gr)}))})),fg.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;eg.isDocumentKey(i)||(i=i.child(""));const s=new gI(new eg(i),0);let o=new dv(Km);return this.yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gr)),!0)}),s),fg.resolve(this.br(o))}br(e){const t=[];return e.forEach((e=>{const n=this.wr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Pm(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return fg.forEach(t.mutations,(r=>{const i=new gI(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.yr=n}))}Fn(e){}containsKey(e,t){const n=new gI(t,0),r=this.yr.firstAfterOrEqual(n);return fg.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,fg.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class yI{constructor(e){this.Cr=e,this.docs=new lv(eg.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return fg.resolve(n?n.document.mutableCopy():$v.newInvalidDocument(t))}getEntries(e,t){let n=Qy();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():$v.newInvalidDocument(e))})),fg.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Qy();const s=t.path,o=new eg(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||lg(ag(o),n)<=0||(r.has(o.key)||zy(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return fg.resolve(i)}getAllFromCollectionGroup(e,t,n,r){xm()}vr(e,t){return fg.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new wI(this)}getSize(e){return fg.resolve(this.size)}}class wI extends nI{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(n)})),fg.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class bI{constructor(e){this.persistence=e,this.Fr=new Gy((e=>Ey(e)),Sy),this.lastRemoteSnapshotVersion=Jm.min(),this.highestTargetId=0,this.Mr=0,this.Or=new mI,this.targetCount=0,this.Nr=W_.On()}forEachTarget(e,t){return this.Fr.forEach(((e,n)=>t(n))),fg.resolve()}getLastRemoteSnapshotVersion(e){return fg.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fg.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),fg.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),fg.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new W_(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,fg.resolve()}updateTargetData(e,t){return this.kn(t),fg.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,fg.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Fr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),fg.waitFor(i).next((()=>r))}getTargetCount(e){return fg.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return fg.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),fg.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),fg.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),fg.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return fg.resolve(n)}containsKey(e,t){return fg.resolve(this.Or.containsKey(t))}}class _I{constructor(e,t){this.Lr={},this.overlays={},this.Br=new kg(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new bI(this),this.indexManager=new k_,this.remoteDocumentCache=function(e){return new yI(e)}((e=>this.referenceDelegate.Qr(e))),this.serializer=new qb(t),this.Kr=new fI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new vI(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){Tm("MemoryPersistence","Starting transaction:",e);const r=new II(this.Br.next());return this.referenceDelegate.$r(),n(r).next((e=>this.referenceDelegate.Ur(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Wr(e,t){return fg.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class II extends hg{constructor(e){super(),this.currentSequenceNumber=e}}class EI{constructor(e){this.persistence=e,this.Gr=new mI,this.zr=null}static jr(e){return new EI(e)}get Hr(){if(this.zr)return this.zr;throw xm()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),fg.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),fg.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),fg.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach((e=>this.Hr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fg.forEach(this.Hr,(n=>{const r=eg.fromPath(n);return this.Jr(e,r).next((e=>{e||t.removeEntry(r,Jm.min())}))})).next((()=>(this.zr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Jr(e,t).next((e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())}))}Qr(e){return 0}Jr(e,t){return fg.or([()=>fg.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class SI{constructor(e){this.serializer=e}O(e,t,n,r){const i=new pg("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Og,{unique:!0}),e.createObjectStore("documentMutations")}(e),TI(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=fg.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),TI(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Jm.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").U().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Og,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return fg.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Zr(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(i))))),n<7&&r>=7&&(s=s.next((()=>this.ei(i)))),n<8&&r>=8&&(s=s.next((()=>this.ti(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ni(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Jg});t.createIndex("collectionPathOverlayIndex",$g,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Yg,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Ug});t.createIndex("documentKeyIndex",Vg),t.createIndex("collectionGroupIndex",Bg)}(e))).next((()=>this.ri(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.ii(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Kg}).createIndex("sequenceNumberIndex",Gg,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Hg}).createIndex("documentKeyIndex",Qg,{unique:!1})}(e)))),n<16&&r>=16&&(s=s.next((()=>{t.objectStore("indexState").clear()})).next((()=>{t.objectStore("indexEntries").clear()}))),s}Xr(e){let t=0;return e.store("remoteDocuments").J(((e,n)=>{t+=U_(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Zr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.U().next((t=>fg.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",r).next((n=>fg.forEach(n,(n=>{Pm(n.userId===t.userId);const r=Qb(this.serializer,n);return M_(e,t.userId,r).next((()=>{}))}))))}))))}ei(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.J(((n,i)=>{const s=new Ym(n),o=function(e){return[0,Pg(e)]}(s);r.push(t.get(o).next((n=>n?fg.resolve():(n=>t.put({targetId:0,path:Pg(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>fg.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Wg});const n=t.store("collectionParents"),r=new C_,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Pg(r)})}};return t.store("remoteDocuments").J({H:!0},((e,t)=>{const n=new Ym(e);return i(n.popLast())})).next((()=>t.store("documentMutations").J({H:!0},((e,t)=>{let[n,r,s]=e;const o=Dg(r);return i(o.popLast())}))))}ni(e){const t=e.store("targets");return t.J(((e,n)=>{const r=Jb(n),i=$b(this.serializer,r);return t.put(i)}))}ri(e,t){const n=t.store("remoteDocuments"),r=[];return n.J(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new eg(Ym.fromString(e.document.name).popFirst(5)):e.noDocument?eg.fromSegments(e.noDocument.path):e.unknownDocument?eg.fromSegments(e.unknownDocument.path):xm()}(n).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((()=>fg.waitFor(r)))}ii(e,t){const n=t.store("mutations"),r=iI(this.serializer),i=new _I(EI.jr,this.serializer.ut);return n.U().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:rw();Qb(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),fg.forEach(n,((e,n)=>{const s=new _m(n),o=i_.ct(this.serializer,s),a=i.getIndexManager(s),c=V_.ct(s,this.serializer,a,i.referenceDelegate);return new dI(r,c,o,a).recalculateAndSaveOverlaysForDocumentKeys(new iv(t,kg.oe),e).next()}))}))}}function TI(e){e.createObjectStore("targetDocuments",{keyPath:zg}).createIndex("documentTargetsIndex",qg,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",jg,{unique:!0}),e.createObjectStore("targetGlobal")}const kI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class CI{constructor(e,t,n,r,i,s,o,a,c,l){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:16;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.si=i,this.window=s,this.document=o,this.oi=c,this._i=l,this.ai=u,this.Br=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=e=>Promise.resolve(),!CI.D())throw new Dm(Rm.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new eI(this,r),this.Ii=t+"main",this.serializer=new qb(a),this.Ti=new mg(this.Ii,this.ai,new SI(this.serializer)),this.qr=new K_(this.referenceDelegate,this.serializer),this.remoteDocumentCache=iI(this.serializer),this.Kr=new t_,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===l&&km("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Dm(Rm.FAILED_PRECONDITION,kI);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.qr.getHighestSequenceNumber(e)))})).then((e=>{this.Br=new kg(e,this.oi)})).then((()=>{this.kr=!0})).catch((e=>(this.Ti&&this.Ti.close(),Promise.reject(e))))}mi(e){return this.Pi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((async()=>{this.started&&await this.di()})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>xI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.fi(e).next((e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))))}))})).next((()=>this.gi(e))).next((t=>this.isPrimary&&!t?this.pi(e).next((()=>!1)):!!t&&this.yi(e).next((()=>!0)))))).catch((e=>{if(wg(e))return Tm("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Tm("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.si.enqueueRetryable((()=>this.Pi(e))),this.isPrimary=e}))}fi(e){return AI(e).get("owner").next((e=>fg.resolve(this.wi(e))))}Si(e){return xI(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=sv(e,"clientMetadata");return t.U().next((e=>{const n=this.Ci(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return fg.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Ei)for(const t of e)this.Ei.removeItem(this.vi(t.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.di().then((()=>this.bi())).then((()=>this.Vi()))))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?fg.resolve(!0):AI(e).get("owner").next((t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new Dm(Rm.FAILED_PRECONDITION,kI);return!1}}return!(!this.networkEnabled||!this.inForeground)||xI(e).U().next((e=>void 0===this.Ci(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Tm("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new iv(e,kg.oe);return this.pi(t).next((()=>this.Si(t)))})),this.Ti.close(),this.Ni()}Ci(e,t){return e.filter((e=>this.Di(e.updateTimeMs,t)&&!this.Fi(e.clientId)))}Li(){return this.runTransaction("getActiveClients","readonly",(e=>xI(e).U().next((e=>this.Ci(e,18e5).map((e=>e.clientId))))))}get started(){return this.kr}getMutationQueue(e,t){return V_.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new x_(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return i_.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,n){Tm("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 16===e?rv:15===e?nv:14===e?tv:13===e?ev:12===e?Zg:11===e?Xg:void xm()}(this.ai);let s;return this.Ti.runTransaction(e,r,i,(r=>(s=new iv(r,this.Br?this.Br.next():kg.oe),"readwrite-primary"===t?this.fi(s).next((e=>!!e||this.gi(s))).next((t=>{if(!t)throw km("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))),new Dm(Rm.FAILED_PRECONDITION,ug);return n(s)})).next((e=>this.yi(s).next((()=>e)))):this.Bi(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}Bi(e){return AI(e).get("owner").next((e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Dm(Rm.FAILED_PRECONDITION,kI)}))}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return AI(e).put("owner",t)}static D(){return mg.D()}pi(e){const t=AI(e);return t.get("owner").next((e=>this.wi(e)?(Tm("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):fg.resolve()))}Di(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(km("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.di())))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;ci()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return Tm("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return km("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(yA){km("Failed to set zombie client id.",yA)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch(yA){}}vi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function AI(e){return sv(e,"owner")}function xI(e){return sv(e,"clientMetadata")}function PI(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class NI{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=r}static Qi(e,t){let n=rw(),r=rw();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new NI(e,t.fromCache,n,r)}}class RI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class DI{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=ci()?8:gg(ni())>0?6:4}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.zi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ji(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new RI;return this.Hi(e,t,n).next((r=>{if(i.result=r,this.$i)return this.Ji(e,t,n,r.size)}))})).next((()=>i.result))}Ji(e,t,n,r){return n.documentReadCount<this.Ui?(Sm()<=xi.DEBUG&&Tm("QueryEngine","SDK will not create cache indexes for query:",jy(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),fg.resolve()):(Sm()<=xi.DEBUG&&Tm("QueryEngine","Query:",jy(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(Sm()<=xi.DEBUG&&Tm("QueryEngine","The SDK decides to create cache indexes for query:",jy(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ly(t))):fg.resolve())}zi(e,t){if(Ry(t))return fg.resolve(null);let n=Ly(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Uy(t,null,"F"),n=Ly(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=rw(...r);return this.Gi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Yi(t,r);return this.Zi(t,s,i,n.readTime)?this.zi(e,Uy(t,null,"F")):this.Xi(e,s,t,n)}))))})))))}ji(e,t,n,r){return Ry(t)||r.isEqual(Jm.min())?fg.resolve(null):this.Gi.getDocuments(e,n).next((i=>{const s=this.Yi(t,i);return this.Zi(t,s,n,r)?fg.resolve(null):(Sm()<=xi.DEBUG&&Tm("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),jy(t)),this.Xi(e,s,t,og(r,-1)).next((e=>e)))}))}Yi(e,t){let n=new dv(Wy(e));return t.forEach(((t,r)=>{zy(e,r)&&(n=n.add(r))})),n}Zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Hi(e,t,n){return Sm()<=xi.DEBUG&&Tm("QueryEngine","Using full collection scan to execute query:",jy(t)),this.Gi.getDocumentsMatchingQuery(e,t,cg.min(),n)}Xi(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class OI{constructor(e,t,n,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new lv(Km),this.ns=new Gy((e=>Ey(e)),Sy),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dI(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ts)))}}function LI(e,t,n,r){return new OI(e,t,n,r)}async function FI(e,t){const n=Nm(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=rw();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({_s:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function MI(e){const t=Nm(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.qr.getLastRemoteSnapshotVersion(e)))}function UI(e,t,n){let r=rw(),i=rw();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Qy();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Jm.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Tm("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{us:r,cs:i}}))}function VI(e,t){const n=Nm(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function BI(e,t){const n=Nm(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.qr.getTargetData(e,t).next((i=>i?(r=i,fg.resolve(r)):n.qr.allocateTargetId(e).next((i=>(r=new zb(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}async function jI(e,t,n){const r=Nm(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!wg(e))throw e;Tm("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function zI(e,t,n){const r=Nm(e);let i=Jm.min(),s=rw();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Nm(e),i=r.ns.get(n);return void 0!==i?fg.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,Ly(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.es.getDocumentsMatchingQuery(e,t,n?i:Jm.min(),n?s:rw()))).next((e=>(KI(r,qy(t),e),{documents:e,ls:s})))))}function qI(e,t){const n=Nm(e),r=Nm(n.qr),i=n.ts.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.ot(e,t).next((e=>e?e.target:null))))}function WI(e,t){const n=Nm(e),r=n.rs.get(t)||Jm.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.ss.getAllFromCollectionGroup(e,t,og(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(KI(n,t,e),e)))}function KI(e,t,n){let r=e.rs.get(t)||Jm.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}async function GI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rw();const r=await BI(e,Ly(Yb(t.bundledQuery))),i=Nm(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=gb(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Kr.saveNamedQuery(e,t);const o=r.withResumeToken(vv.EMPTY_BYTE_STRING,s);return i.ts=i.ts.insert(o.targetId,o),i.qr.updateTargetData(e,o).next((()=>i.qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.Kr.saveNamedQuery(e,t)))}))}function HI(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function QI(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function JI(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class $I{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Ts(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Dm(r.error.code,r.error.message))),s?new $I(e,t,r.state,i):(km("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class YI{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ts(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Dm(n.error.code,n.error.message))),i?new YI(e,n.state,r):(km("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class XI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=sw();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=xg(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new XI(e,i):(km("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class ZI{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ZI(t.clientId,t.onlineState):(km("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class eE{constructor(){this.activeTargetIds=sw()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tE{constructor(e,t,n,r,i){this.window=e,this.si=t,this.persistenceKey=n,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new lv(Km),this.started=!1,this.ps=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ys=HI(this.persistenceKey,this.Rs),this.ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new eE),this.Ss=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.bs=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Ds=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.Cs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.vs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Li();for(const n of e){if(n===this.Rs)continue;const e=this.getItem(HI(this.persistenceKey,n));if(e){const t=XI.Ts(n,e);t&&(this.gs=this.gs.insert(t.clientId,t))}}this.Fs();const t=this.storage.getItem(this.Cs);if(t){const e=this.Ms(t);e&&this.xs(e)}for(const n of this.ps)this.fs(n);this.ps=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,n){this.Ns(e,t,n),this.Ls(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(JI(this.persistenceKey,e));if(n){const r=YI.Ts(e,n);r&&(t=r.state)}}return this.Bs.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Bs.As(e),this.Fs()}isLocalQueryTarget(e){return this.Bs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(JI(this.persistenceKey,e))}updateQueryState(e,t,n){this.ks(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Ls(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Tm("SharedClientState","READ",e,t),t}setItem(e,t){Tm("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Tm("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const t=e;if(t.storageArea===this.storage){if(Tm("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ys)return void km("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ss.test(t.key)){if(null==t.newValue){const e=this.Ks(t.key);return this.$s(e,null)}{const e=this.Us(t.key,t.newValue);if(e)return this.$s(e.clientId,e)}}else if(this.bs.test(t.key)){if(null!==t.newValue){const e=this.Ws(t.key,t.newValue);if(e)return this.Gs(e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.zs(t.key,t.newValue);if(e)return this.js(e)}}else if(t.key===this.Cs){if(null!==t.newValue){const e=this.Ms(t.newValue);if(e)return this.xs(e)}}else if(t.key===this.ws){const e=function(e){let t=kg.oe;if(null!=e)try{const n=JSON.parse(e);Pm("number"==typeof n),t=n}catch(e){km("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==kg.oe&&this.sequenceNumberHandler(e)}else if(t.key===this.vs){const e=this.Hs(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Js(e))))}}else this.ps.push(t)}))}}get Bs(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Bs.Es())}Ns(e,t,n){const r=new $I(this.currentUser,e,t,n),i=QI(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Es())}Ls(e){const t=QI(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){const t={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(t))}ks(e,t,n){const r=JI(this.persistenceKey,e),i=new YI(e,t,n);this.setItem(r,i.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const n=this.Ks(e);return XI.Ts(n,t)}Ws(e,t){const n=this.bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return $I.Ts(new _m(i),r,t)}zs(e,t){const n=this.Ds.exec(e),r=Number(n[1]);return YI.Ts(r,t)}Ms(e){return ZI.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);Tm("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const n=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),i=this.Os(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.Xs(s,o).then((()=>{this.gs=n}))}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=sw();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class nE{constructor(){this.eo=new eE,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new eE,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class rE{ro(e){}shutdown(){}}class iE{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Tm("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Tm("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let sE=null;function oE(){return null===sE?sE=268435456+Math.round(2147483648*Math.random()):sE++,"0x"+sE.toString(16)}const aE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cE{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}const lE="WebChannelConnection";class uE extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.yo=t+"://"+e.host,this.wo="projects/".concat(n,"/databases/").concat(r),this.So="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get bo(){return!1}Do(e,t,n,r,i){const s=oE(),o=this.Co(e,t.toUriEncodedString());Tm("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(a,r,i),this.Fo(e,o,a,n).then((t=>(Tm("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw Cm("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}Mo(e,t,n,r,i,s){return this.Do(e,t,n,r,i)}vo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Im,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Co(e,t){const n=aE[e];return"".concat(this.yo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,t,n,r){const i=oE();return new Promise(((s,o)=>{const a=new vm;a.setWithCredentials(!0),a.listenOnce(dm.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case hm.NO_ERROR:const t=a.getResponseJson();Tm(lE,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case hm.TIMEOUT:Tm(lE,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Dm(Rm.DEADLINE_EXCEEDED,"Request time out"));break;case hm.HTTP_ERROR:const n=a.getStatus();if(Tm(lE,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Rm).indexOf(t)>=0?t:Rm.UNKNOWN}(t.status);o(new Dm(e,t.message))}else o(new Dm(Rm.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Dm(Rm.UNAVAILABLE,"Connection failed."));break;default:xm()}}finally{Tm(lE,"RPC '".concat(e,"' ").concat(i," completed."))}}));const c=JSON.stringify(r);Tm(lE,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",c,n,15)}))}xo(e,t,n){const r=oE(),i=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=lm(),o=um(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.xmlHttpFactory=new mm({})),this.vo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const l=i.join("");Tm(lE,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),a);const u=s.createWebChannel(l,a);let h=!1,d=!1;const f=new cE({co:t=>{d?Tm(lE,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Tm(lE,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Tm(lE,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},lo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,gm.EventType.OPEN,(()=>{d||(Tm(lE,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.Vo())})),p(u,gm.EventType.CLOSE,(()=>{d||(d=!0,Tm(lE,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.fo())})),p(u,gm.EventType.ERROR,(t=>{d||(d=!0,Cm(lE,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.fo(new Dm(Rm.UNAVAILABLE,"The operation could not be completed")))})),p(u,gm.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Pm(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Tm(lE,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=zw[e];if(void 0!==t)return Kw(t)}(t),i=o.message;void 0===n&&(n=Rm.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.fo(new Dm(n,i)),u.close()}else Tm(lE,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.po(i)}})),p(o,fm.STAT_EVENT,(t=>{t.stat===pm.PROXY?Tm(lE,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===pm.NOPROXY&&Tm(lE,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.mo()}),0),f}}function hE(){return"undefined"!=typeof window?window:null}function dE(){return"undefined"!=typeof document?document:null}function fE(e){return new hb(e,!0)}class pE{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=e,this.timerId=t,this.Oo=n,this.No=r,this.Lo=i,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const t=Math.floor(this.Bo+this.$o()),n=Math.max(0,Date.now()-this.qo),r=Math.max(0,t-n);r>0&&Tm("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Bo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.ko=this.si.enqueueAfterDelay(this.timerId,r,(()=>(this.qo=Date.now(),e()))),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){null!==this.ko&&(this.ko.skipDelay(),this.ko=null)}cancel(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}class mE{constructor(e,t,n,r,i,s,o,a){this.si=e,this.Wo=n,this.Go=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new pE(e,t)}Yo(){return 1===this.state||5===this.state||this.Zo()}Zo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Xo()}async stop(){this.Yo()&&await this.close(0)}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&null===this.jo&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,(()=>this.n_())))}r_(e){this.i_(),this.stream.send(e)}async n_(){if(this.Zo())return this.close(0)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}async close(e,t){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,4!==e?this.Jo.reset():t&&t.code===Rm.RESOURCE_EXHAUSTED?(km(t.toString()),km("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):t&&t.code===Rm.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(t)}o_(){}auth(){this.state=1;const e=this.__(this.zo),t=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.zo===t&&this.a_(n,r)}),(t=>{e((()=>{const e=new Dm(Rm.UNKNOWN,"Fetching auth token failed: "+t.message);return this.u_(e)}))}))}a_(e,t){const n=this.__(this.zo);this.stream=this.c_(e,t),this.stream.ho((()=>{n((()=>this.listener.ho()))})),this.stream.Io((()=>{n((()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,(()=>(this.Zo()&&(this.state=3),Promise.resolve()))),this.listener.Io())))})),this.stream.Eo((e=>{n((()=>this.u_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Xo(){this.state=5,this.Jo.Ko((async()=>{this.state=0,this.start()}))}u_(e){return Tm("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}__(e){return t=>{this.si.enqueueAndForget((()=>this.zo===e?t():(Tm("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gE extends mE{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}c_(e,t){return this.connection.xo("Listen",e,t)}onMessage(e){this.Jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:xm()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Pm(void 0===t||"string"==typeof t),vv.fromBase64String(t||"")):(Pm(void 0===t||t instanceof Buffer||t instanceof Uint8Array),vv.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Rm.UNKNOWN:Kw(e.code);return new Dm(t,e.message||"")}(o);n=new rb(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=_b(e,r.document.name),s=gb(r.document.updateTime),o=r.document.createTime?gb(r.document.createTime):Jm.min(),a=new Qv({mapValue:{fields:r.document.fields}}),c=$v.newFoundDocument(i,s,o,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new tb(l,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=_b(e,r.document),s=r.readTime?gb(r.readTime):Jm.min(),o=$v.newNoDocument(i,s),a=r.removedTargetIds||[];n=new tb([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=_b(e,r.document),s=r.removedTargetIds||[];n=new tb([],s,i,null)}else{if(!("filter"in t))return xm();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new jw(r,i),o=e.targetId;n=new nb(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Jm.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Jm.min():t.readTime?gb(t.readTime):Jm.min()}(e);return this.listener.l_(t,n)}h_(e){const t={};t.database=Sb(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Ty(r)?{documents:Pb(e,r)}:{query:Nb(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=pb(e,t.resumeToken);const r=db(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Jm.min())>0){n.readTime=fb(e,t.snapshotVersion.toTimestamp());const r=db(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xm()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.r_(t)}P_(e){const t={};t.database=Sb(this.serializer),t.removeTarget=e,this.r_(t)}}class vE extends mE{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,t){return this.connection.xo("Write",e,t)}onMessage(e){if(Pm(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const t=function(e,t){return e&&e.length>0?(Pm(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?gb(e.updateTime):gb(t);return n.isEqual(Jm.min())&&(n=gb(t)),new Iw(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=gb(e.commitTime);return this.listener.d_(n,t)}return Pm(!e.writeResults||0===e.writeResults.length),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=Sb(this.serializer),this.r_(e)}E_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Ab(this.serializer,e)))};this.r_(t)}}class yE extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.V_=!1}m_(){if(this.V_)throw new Dm(Rm.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,t,n,r){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Do(e,yb(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Rm.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Dm(Rm.UNKNOWN,e.toString())}))}Mo(e,t,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.Mo(e,yb(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Rm.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Dm(Rm.UNKNOWN,e.toString())}))}terminate(){this.V_=!0,this.connection.terminate()}}class wE{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve()))))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.y_?(km(t),this.y_=!1):Tm("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class bE{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=i,this.O_.ro((e=>{n.enqueueAndForget((async()=>{xE(this)&&(Tm("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Nm(e);t.M_.add(4),await IE(t),t.N_.set("Unknown"),t.M_.delete(4),await _E(t)}(this))}))})),this.N_=new wE(n,r)}}async function _E(e){if(xE(e))for(const t of e.x_)await t(!0)}async function IE(e){for(const t of e.x_)await t(!1)}function EE(e,t){const n=Nm(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),AE(n)?CE(n):QE(n).Zo()&&TE(n,t))}function SE(e,t){const n=Nm(e),r=QE(n);n.F_.delete(t),r.Zo()&&kE(n,t),0===n.F_.size&&(r.Zo()?r.t_():xE(n)&&n.N_.set("Unknown"))}function TE(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Jm.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}QE(e).h_(t)}function kE(e,t){e.L_.xe(t),QE(e).P_(t)}function CE(e){e.L_=new sb({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),QE(e).start(),e.N_.w_()}function AE(e){return xE(e)&&!QE(e).Yo()&&e.F_.size>0}function xE(e){return 0===Nm(e).M_.size}function PE(e){e.L_=void 0}async function NE(e){e.N_.set("Online")}async function RE(e){e.F_.forEach(((t,n)=>{TE(e,t)}))}async function DE(e,t){PE(e),AE(e)?(e.N_.D_(t),CE(e)):e.N_.set("Unknown")}async function OE(e,t,n){if(e.N_.set("Online"),t instanceof rb&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.F_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.F_.delete(r),e.L_.removeTarget(r))}(e,t)}catch(n){Tm("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await LE(e,n)}else if(t instanceof tb?e.L_.Ke(t):t instanceof nb?e.L_.He(t):e.L_.We(t),!n.isEqual(Jm.min()))try{const t=await MI(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.L_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.F_.get(r);i&&e.F_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.F_.get(t);if(!r)return;e.F_.set(t,r.withResumeToken(vv.EMPTY_BYTE_STRING,r.snapshotVersion)),kE(e,t);const i=new zb(r.target,t,n,r.sequenceNumber);TE(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Tm("RemoteStore","Failed to raise snapshot:",t),await LE(e,t)}}async function LE(e,t,n){if(!wg(t))throw t;e.M_.add(1),await IE(e),e.N_.set("Offline"),n||(n=()=>MI(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Tm("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await _E(e)}))}function FE(e,t){return t().catch((n=>LE(e,n,t)))}async function ME(e){const t=Nm(e),n=JE(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;UE(t);)try{const e=await VI(t.localStore,r);if(null===e){0===t.v_.length&&n.t_();break}r=e.batchId,VE(t,e)}catch(e){await LE(t,e)}BE(t)&&jE(t)}function UE(e){return xE(e)&&e.v_.length<10}function VE(e,t){e.v_.push(t);const n=JE(e);n.Zo()&&n.T_&&n.E_(t.mutations)}function BE(e){return xE(e)&&!JE(e).Yo()&&e.v_.length>0}function jE(e){JE(e).start()}async function zE(e){JE(e).R_()}async function qE(e){const t=JE(e);for(const n of e.v_)t.E_(n.mutations)}async function WE(e,t,n){const r=e.v_.shift(),i=Vw.from(r,t,n);await FE(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await ME(e)}async function KE(e,t){t&&JE(e).T_&&await async function(e,t){if(function(e){return Ww(e)&&e!==Rm.ABORTED}(t.code)){const n=e.v_.shift();JE(e).e_(),await FE(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await ME(e)}}(e,t),BE(e)&&jE(e)}async function GE(e,t){const n=Nm(e);n.asyncQueue.verifyOperationInProgress(),Tm("RemoteStore","RemoteStore received new credentials");const r=xE(n);n.M_.add(3),await IE(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await _E(n)}async function HE(e,t){const n=Nm(e);t?(n.M_.delete(2),await _E(n)):t||(n.M_.add(2),await IE(n),n.N_.set("Unknown"))}function QE(e){return e.B_||(e.B_=function(e,t,n){const r=Nm(e);return r.m_(),new gE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:NE.bind(null,e),Io:RE.bind(null,e),Eo:DE.bind(null,e),l_:OE.bind(null,e)}),e.x_.push((async t=>{t?(e.B_.e_(),AE(e)?CE(e):e.N_.set("Unknown")):(await e.B_.stop(),PE(e))}))),e.B_}function JE(e){return e.k_||(e.k_=function(e,t,n){const r=Nm(e);return r.m_(),new vE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:()=>Promise.resolve(),Io:zE.bind(null,e),Eo:KE.bind(null,e),A_:qE.bind(null,e),d_:WE.bind(null,e)}),e.x_.push((async t=>{t?(e.k_.e_(),await ME(e)):(await e.k_.stop(),e.v_.length>0&&(Tm("RemoteStore","Stopping write stream with ".concat(e.v_.length," pending writes")),e.v_=[]))}))),e.k_}class $E{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Om,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new $E(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Dm(Rm.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function YE(e,t){if(km("AsyncQueue","".concat(t,": ").concat(e)),wg(e))return new Dm(Rm.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class XE{constructor(e){this.comparator=e?(t,n)=>e(t,n)||eg.comparator(t.key,n.key):(e,t)=>eg.comparator(e.key,t.key),this.keyedMap=$y(),this.sortedSet=new lv(this.comparator)}static emptySet(e){return new XE(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof XE))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new XE;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class ZE{constructor(){this.q_=new lv(eg.comparator)}track(e){const t=e.doc.key,n=this.q_.get(t);n?0!==e.type&&3===n.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==n.type?this.q_=this.q_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.q_=this.q_.remove(t):1===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):xm():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class eS{constructor(e,t,n,r,i,s,o,a,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new eS(e,t,XE.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class tS{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some((e=>e.G_()))}}class nS{constructor(){this.queries=new Gy((e=>By(e)),Vy),this.onlineState="Unknown",this.z_=new Set}}async function rS(e,t){const n=Nm(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.W_()&&t.G_()&&(r=2):(s=new tS,r=t.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=YE(e,"Initialization of query '".concat(jy(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.U_.push(t),t.j_(n.onlineState),s.K_&&t.H_(s.K_)&&aS(n)}async function iS(e,t){const n=Nm(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.U_.indexOf(t);e>=0&&(s.U_.splice(e,1),0===s.U_.length?i=t.G_()?0:1:!s.W_()&&t.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function sS(e,t){const n=Nm(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.U_)e.H_(i)&&(r=!0);t.K_=i}}r&&aS(n)}function oS(e,t,n){const r=Nm(e),i=r.queries.get(t);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(t)}function aS(e){e.z_.forEach((e=>{e.next()}))}var cS,lS;(lS=cS||(cS={})).J_="default",lS.Cache="cache";class uS{constructor(e,t,n){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new eS(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache)return!0;if(!this.G_())return!0;const n="Offline"!==t;return(!this.options.ra||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){if(e.docChanges.length>0)return!0;const t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}na(e){e=eS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==cS.Cache}}class hS{constructor(e,t){this.ia=e,this.byteLength=t}sa(){return"metadata"in this.ia}}class dS{constructor(e){this.serializer=e}hs(e){return _b(this.serializer,e)}Ps(e){return e.metadata.exists?Cb(this.serializer,e.document,!1):$v.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return gb(e)}}class fS{constructor(e,t,n){this.oa=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=pS(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++t;const n=Ym.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}aa(e){const t=new Map,n=new dS(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.hs(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||rw()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Nm(e);let s=rw(),o=Qy();for(const l of n){const e=t.hs(l.metadata.name);l.document&&(s=s.add(e));const n=t.Ps(l);n.setReadTime(t.Is(l.metadata.readTime)),o=o.insert(e,n)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),c=await BI(i,function(e){return Ly(Ny(Ym.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>UI(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.qr.removeMatchingKeysForTargetId(e,c.targetId).next((()=>i.qr.addMatchingKeys(e,s,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.us,t.cs))).next((()=>t.us))))))}(this.localStore,new dS(this.serializer),this.documents,this.oa.id),t=this.aa(this.documents);for(const n of this.queries)await GI(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}}}function pS(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class mS{constructor(e){this.key=e}}class gS{constructor(e){this.key=e}}class vS{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=rw(),this.mutatedKeys=rw(),this.Ia=Wy(e),this.Ta=new XE(this.Ia)}get Ea(){return this.la}da(e,t){const n=t?t.Aa:new ZE,r=t?t.Ta:this.Ta;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),u=zy(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Ra(l,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Ia(u,a)>0||c&&this.Ia(u,c)<0)&&(o=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(a||c)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ta:s,Aa:n,Zi:o,mutatedKeys:i}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xm()}};return n(e)-n(t)}(e.type,t.type)||this.Ia(e.doc,t.doc))),this.Va(n),r=null!=r&&r;const o=t&&!r?this.ma():[],a=0===this.Pa.size&&this.current&&!r?1:0,c=a!==this.ha;return this.ha=a,0!==s.length||c?{snapshot:new eS(this.query,e.Ta,i,s,e.mutatedKeys,0===a,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:o}:{fa:o}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new ZE,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach((e=>this.la=this.la.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.la=this.la.delete(e))),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=rw(),this.Ta.forEach((e=>{this.ga(e.key)&&(this.Pa=this.Pa.add(e.key))}));const t=[];return e.forEach((e=>{this.Pa.has(e)||t.push(new gS(e))})),this.Pa.forEach((n=>{e.has(n)||t.push(new mS(n))})),t}pa(e){this.la=e.ls,this.Pa=rw();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return eS.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class yS{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class wS{constructor(e){this.key=e,this.wa=!1}}class bS{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new Gy((e=>By(e)),Vy),this.Da=new Map,this.Ca=new Set,this.va=new lv(eg.comparator),this.Fa=new Map,this.Ma=new mI,this.xa={},this.Oa=new Map,this.Na=W_.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}async function _S(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=$S(e);let i;const s=r.ba.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await ES(r,t,n,!0),i}async function IS(e,t){const n=$S(e);await ES(n,t,!0,!1)}async function ES(e,t,n,r){const i=await BI(e.localStore,Ly(t)),s=i.targetId,o=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await SS(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&EE(e.remoteStore,i),a}async function SS(e,t,n,r,i){e.Ba=(t,n,r)=>async function(e,t,n,r){let i=t.view.da(n);i.Zi&&(i=await zI(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.da(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return FS(e,t.targetId,a.fa),a.snapshot}(e,t,n,r);const s=await zI(e.localStore,t,!0),o=new vS(t,s.ls),a=o.da(s.documents),c=eb.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),l=o.applyChanges(a,e.isPrimaryClient,c);FS(e,n,l.fa);const u=new yS(t,n,o);return e.ba.set(t,u),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),l.snapshot}async function TS(e,t,n){const r=Nm(e),i=r.ba.get(t),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter((e=>!Vy(e,t)))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await jI(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&SE(r.remoteStore,i.targetId),OS(r,i.targetId)})).catch(dg)):(OS(r,i.targetId),await jI(r.localStore,i.targetId,!0))}async function kS(e,t){const n=Nm(e),r=n.ba.get(t),i=n.Da.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),SE(n.remoteStore,r.targetId))}async function CS(e,t){const n=Nm(e);try{const e=await function(e,t){const n=Nm(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const o=[];t.targetChanges.forEach(((s,a)=>{const c=i.get(a);if(!c)return;o.push(n.qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.qr.addMatchingKeys(e,s.addedDocuments,a))));let l=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?l=l.withResumeToken(vv.EMPTY_BYTE_STRING,Jm.min()).withLastLimboFreeSnapshotVersion(Jm.min()):s.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(s.resumeToken,r)),i=i.insert(a,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,s)&&o.push(n.qr.updateTargetData(e,l))}));let a=Qy(),c=rw();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(UI(e,s,t.documentUpdates).next((e=>{a=e.us,c=e.cs}))),!r.isEqual(Jm.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next((t=>n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return fg.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,c))).next((()=>a))})).then((e=>(n.ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fa.get(t);r&&(Pm(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.wa=!0:e.modifiedDocuments.size>0?Pm(r.wa):e.removedDocuments.size>0&&(Pm(r.wa),r.wa=!1))})),await VS(n,e,t)}catch(e){await dg(e)}}function AS(e,t,n){const r=Nm(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ba.forEach(((n,r)=>{const i=r.view.j_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Nm(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.U_)i.j_(t)&&(r=!0)})),r&&aS(n)}(r.eventManager,t),e.length&&r.Sa.l_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function xS(e,t,n){const r=Nm(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fa.get(t),s=i&&i.key;if(s){let e=new lv(eg.comparator);e=e.insert(s,$v.newNoDocument(s,Jm.min()));const n=rw().add(s),i=new Zw(Jm.min(),new Map,new lv(Km),e,n);await CS(r,i),r.va=r.va.remove(s),r.Fa.delete(t),US(r)}else await jI(r.localStore,t,!1).then((()=>OS(r,t,n))).catch(dg)}async function PS(e,t){const n=Nm(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Nm(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=fg.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Pm(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=rw();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);DS(n,r,null),RS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await VS(n,e)}catch(e){await dg(e)}}async function NS(e,t,n){const r=Nm(e);try{const e=await function(e,t){const n=Nm(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Pm(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);DS(r,t,n),RS(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await VS(r,e)}catch(n){await dg(n)}}function RS(e,t){(e.Oa.get(t)||[]).forEach((e=>{e.resolve()})),e.Oa.delete(t)}function DS(e,t,n){const r=Nm(e);let i=r.xa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function OS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Rr(t).forEach((t=>{e.Ma.containsKey(t)||LS(e,t)}))}function LS(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);null!==n&&(SE(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),US(e))}function FS(e,t,n){for(const r of n)r instanceof mS?(e.Ma.addReference(r.key,t),MS(e,r)):r instanceof gS?(Tm("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||LS(e,r.key)):xm()}function MS(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(Tm("SyncEngine","New document in limbo: "+n),e.Ca.add(r),US(e))}function US(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new eg(Ym.fromString(t)),r=e.Na.next();e.Fa.set(r,new wS(n)),e.va=e.va.insert(n,r),EE(e.remoteStore,new zb(Ly(Ny(n.path)),r,"TargetPurposeLimboResolution",kg.oe))}}async function VS(e,t,n){const r=Nm(e),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach(((e,a)=>{o.push(r.Ba(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=NI.Qi(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Sa.l_(i),await async function(e,t){const n=Nm(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>fg.forEach(t,(t=>fg.forEach(t.ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>fg.forEach(t.qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!wg(e))throw e;Tm("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ts=n.ts.insert(e,i)}}}(r.localStore,s))}async function BS(e,t){const n=Nm(e);if(!n.currentUser.isEqual(t)){Tm("SyncEngine","User change. New user:",t.toKey());const e=await FI(n.localStore,t);n.currentUser=t,function(e,t){e.Oa.forEach((e=>{e.forEach((e=>{e.reject(new Dm(Rm.CANCELLED,t))}))})),e.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await VS(n,e._s)}}function jS(e,t){const n=Nm(e),r=n.Fa.get(t);if(r&&r.wa)return rw().add(r.key);{let e=rw();const r=n.Da.get(t);if(!r)return e;for(const t of r){const r=n.ba.get(t);e=e.unionWith(r.view.Ea)}return e}}async function zS(e,t){const n=Nm(e),r=await zI(n.localStore,t.query,!0),i=t.view.pa(r);return n.isPrimaryClient&&FS(n,t.targetId,i.fa),i}async function qS(e,t){const n=Nm(e);return WI(n.localStore,t).then((e=>VS(n,e)))}async function WS(e,t,n,r){const i=Nm(e),s=await function(e,t){const n=Nm(e),r=Nm(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Cn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):fg.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await ME(i.remoteStore):"acknowledged"===n||"rejected"===n?(DS(i,t,r||null),RS(i,t),function(e,t){Nm(Nm(e).mutationQueue).Fn(t)}(i.localStore,t)):xm(),await VS(i,s)):Tm("SyncEngine","Cannot apply mutation batch with id: "+t)}async function KS(e,t,n){const r=Nm(e),i=[],s=[];for(const o of t){let e;const t=r.Da.get(o);if(t&&0!==t.length){e=await BI(r.localStore,Ly(t[0]));for(const e of t){const t=r.ba.get(e),n=await zS(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await qI(r.localStore,o);e=await BI(r.localStore,t),await SS(r,GS(t),o,!1,e.resumeToken)}i.push(e)}return r.Sa.l_(s),i}function GS(e){return Py(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function HS(e){return function(e){return Nm(Nm(e).persistence).Li()}(Nm(e).localStore)}async function QS(e,t,n,r){const i=Nm(e);if(i.La)return void Tm("SyncEngine","Ignoring unexpected query state notification.");const s=i.Da.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await WI(i.localStore,qy(s[0])),r=Zw.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,vv.EMPTY_BYTE_STRING);await VS(i,e,r);break}case"rejected":await jI(i.localStore,t,!0),OS(i,t,r);break;default:xm()}}async function JS(e,t,n){const r=$S(e);if(r.La){for(const e of t){if(r.Da.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){Tm("SyncEngine","Adding an already active target "+e);continue}const t=await qI(r.localStore,e),n=await BI(r.localStore,t);await SS(r,GS(t),n.targetId,!1,n.resumeToken),EE(r.remoteStore,n)}for(const e of n)r.Da.has(e)&&await jI(r.localStore,e,!1).then((()=>{SE(r.remoteStore,e),OS(r,e)})).catch(dg)}}function $S(e){const t=Nm(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=CS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xS.bind(null,t),t.Sa.l_=sS.bind(null,t.eventManager),t.Sa.ka=oS.bind(null,t.eventManager),t}function YS(e){const t=Nm(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=PS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=NS.bind(null,t),t}class XS{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=fE(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return LI(this.persistence,new DI,e.initialUser,this.serializer)}createPersistence(e){return new _I(EI.jr,this.serializer)}createSharedClientState(e){return new nE}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class ZS extends XS{constructor(e,t,n){super(),this.Qa=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Qa.initialize(this,e),await YS(this.Qa.syncEngine),await ME(this.Qa.remoteStore),await this.persistence.mi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return LI(this.persistence,new DI,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Y_(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Tg(t,this.persistence);return new Sg(e.asyncQueue,n)}createPersistence(e){const t=PI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?F_.withCacheSize(this.cacheSizeBytes):F_.DEFAULT;return new CI(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,hE(),dE(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new nE}}class eT extends ZS{constructor(e,t){super(e,t,!1),this.Qa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Qa.syncEngine;this.sharedClientState instanceof tE&&(this.sharedClientState.syncEngine={Ys:WS.bind(null,t),Zs:QS.bind(null,t),Xs:JS.bind(null,t),Li:HS.bind(null,t),Js:qS.bind(null,t)},await this.sharedClientState.start()),await this.persistence.mi((async e=>{await async function(e,t){const n=Nm(e);if($S(n),YS(n),!0===t&&!0!==n.La){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await KS(n,e.toArray());n.La=!0,await HE(n.remoteStore,!0);for(const r of t)EE(n.remoteStore,r)}else if(!1===t&&!1!==n.La){const e=[];let t=Promise.resolve();n.Da.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(OS(n,i),jI(n.localStore,i,!0)))),SE(n.remoteStore,i)})),await t,await KS(n,e),function(e){const t=Nm(e);t.Fa.forEach(((e,n)=>{SE(t.remoteStore,n)})),t.Ma.Vr(),t.Fa=new Map,t.va=new lv(eg.comparator)}(n),n.La=!1,await HE(n.remoteStore,!1)}}(this.Qa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=hE();if(!tE.D(t))throw new Dm(Rm.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=PI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new tE(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class tT{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>AS(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=BS.bind(null,this.syncEngine),await HE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new nS}createDatastore(e){const t=fE(e.databaseInfo.databaseId),n=function(e){return new uE(e)}(e.databaseInfo);return function(e,t,n,r){return new yE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new bE(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>AS(this.syncEngine,e,0)),iE.D()?new iE:new rE)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new bS(e,t,n,r,i,s);return o&&(a.La=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=Nm(e);Tm("RemoteStore","RemoteStore shutting down."),t.M_.add(5),await IE(t),t.O_.shutdown(),t.N_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function nT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class rT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):km("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class iT{constructor(e,t){this.Ua=e,this.serializer=t,this.metadata=new Om,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then((e=>{e&&e.sa()?this.metadata.resolve(e.ia.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ia))))}),(e=>this.metadata.reject(e)))}close(){return this.Ua.cancel()}async getMetadata(){return this.metadata.promise}async qa(){return await this.getMetadata(),this.Ga()}async Ga(){const e=await this.za();if(null===e)return null;const t=this.Wa.decode(e),n=Number(t);isNaN(n)&&this.ja("length string (".concat(t,") is not valid number"));const r=await this.Ha(n);return new hS(JSON.parse(r),e.length+n)}Ja(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async za(){for(;this.Ja()<0&&!await this.Ya(););if(0===this.buffer.length)return null;const e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ha(e){for(;this.buffer.length<e;)await this.Ya()&&this.ja("Reached the end of bundle when more is expected.");const t=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}ja(e){throw this.Ua.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ya(){const e=await this.Ua.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class sT{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Dm(Rm.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=Nm(e),r={documents:t.map((e=>bb(n.serializer,e)))},i=await n.Mo("BatchGetDocuments",n.serializer.databaseId,Ym.emptyPath(),r,t.length),s=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Pm(!!t.found),t.found.name,t.found.updateTime;const n=_b(e,t.found.name),r=gb(t.found.updateTime),i=t.found.createTime?gb(t.found.createTime):Jm.min(),s=new Qv({mapValue:{fields:t.found.fields}});return $v.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){Pm(!!t.missing),Pm(!!t.readTime);const n=_b(e,t.missing),r=gb(t.readTime);return $v.newNoDocument(n,r)}(e,t):xm()}(n.serializer,e);s.set(t.key.toString(),t)}));const o=[];return t.forEach((e=>{const t=s.get(e.toString());Pm(!!t),o.push(t)})),o}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Fw(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=eg.fromPath(t);this.mutations.push(new Mw(n,this.precondition(n)))})),await async function(e,t){const n=Nm(e),r={writes:t.map((e=>Ab(n.serializer,e)))};await n.Do("Commit",n.serializer.databaseId,Ym.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw xm();t=Jm.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Dm(Rm.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Jm.min())?Ew.exists(!1):Ew.updateTime(t):Ew.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Jm.min()))throw new Dm(Rm.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ew.updateTime(t)}return Ew.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class oT{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Za=n.maxAttempts,this.Jo=new pE(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Jo.Ko((async()=>{const e=new sT(this.datastore),t=this.tu(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.nu(e)}))))})).catch((e=>{this.nu(e)}))}))}tu(e){try{const t=this.updateFunction(e);return!Cg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget((()=>(this.eu(),Promise.resolve())))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Ww(t)}return!1}}class aT{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=_m.UNAUTHENTICATED,this.clientId=Wm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Tm("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Tm("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Dm(Rm.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Om;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=YE(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function cT(e,t){e.asyncQueue.verifyOperationInProgress(),Tm("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await FI(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function lT(e,t){e.asyncQueue.verifyOperationInProgress();const n=await hT(e);Tm("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>GE(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>GE(t.remoteStore,n))),e._onlineComponents=t}function uT(e){return"FirebaseError"===e.name?e.code===Rm.FAILED_PRECONDITION||e.code===Rm.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function hT(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Tm("FirestoreClient","Using user provided OfflineComponentProvider");try{await cT(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!uT(n))throw n;Cm("Error using user provided cache. Falling back to memory cache: "+n),await cT(e,new XS)}}else Tm("FirestoreClient","Using default OfflineComponentProvider"),await cT(e,new XS);return e._offlineComponents}async function dT(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Tm("FirestoreClient","Using user provided OnlineComponentProvider"),await lT(e,e._uninitializedComponentsProvider._online)):(Tm("FirestoreClient","Using default OnlineComponentProvider"),await lT(e,new tT))),e._onlineComponents}function fT(e){return hT(e).then((e=>e.persistence))}function pT(e){return hT(e).then((e=>e.localStore))}function mT(e){return dT(e).then((e=>e.remoteStore))}function gT(e){return dT(e).then((e=>e.syncEngine))}function vT(e){return dT(e).then((e=>e.datastore))}async function yT(e){const t=await dT(e),n=t.eventManager;return n.onListen=_S.bind(null,t.syncEngine),n.onUnlisten=TS.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=IS.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=kS.bind(null,t.syncEngine),n}function wT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Om;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new rT({next:s=>{t.enqueueAndForget((()=>iS(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new Dm(Rm.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Dm(Rm.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new uS(Ny(n.path),s,{includeMetadataChanges:!0,ra:!0});return rS(e,o)}(await yT(e),e.asyncQueue,t,n,r))),r.promise}function bT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Om;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new rT({next:n=>{t.enqueueAndForget((()=>iS(e,o))),n.fromCache&&"server"===r.source?i.reject(new Dm(Rm.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new uS(n,s,{includeMetadataChanges:!0,ra:!0});return rS(e,o)}(await yT(e),e.asyncQueue,t,n,r))),r.promise}function _T(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?Hw().encode(e):e,function(e,t){return new iT(e,t)}(function(e,t){if(e instanceof Uint8Array)return nT(e,t);if(e instanceof ArrayBuffer)return nT(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,fE(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Nm(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Nm(e),r=gb(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Kr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(pS(r));const i=new fS(r,e.localStore,t.serializer);let s=await t.qa();for(;s;){const e=await i._a(s);e&&n._updateProgress(e),s=await t.qa()}const o=await i.complete();return await VS(e,o.ca,void 0),await function(e,t){const n=Nm(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Kr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o.ua)}catch(e){return Cm("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await gT(e),i,r)}))}function IT(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const ET=new Map;function ST(e,t,n){if(!n)throw new Dm(Rm.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function TT(e,t,n,r){if(!0===t&&!0===r)throw new Dm(Rm.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function kT(e){if(!eg.isDocumentKey(e))throw new Dm(Rm.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function CT(e){if(eg.isDocumentKey(e))throw new Dm(Rm.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function AT(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":xm()}function xT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Dm(Rm.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=AT(e);throw new Dm(Rm.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function PT(e,t){if(t<=0)throw new Dm(Rm.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class NT{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Dm(Rm.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Dm(Rm.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IT(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Dm(Rm.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Dm(Rm.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Dm(Rm.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class RT{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Dm(Rm.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Dm(Rm.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Fm;switch(e.type){case"firstParty":return new Bm(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Dm(Rm.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ET.get(e);t&&(Tm("ComponentProvider","Removing Datastore"),ET.delete(e),t.terminate())}(this),Promise.resolve()}}function DT(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=xT(e,RT))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&Cm("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=_m.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Jr(JSON.stringify({alg:"none",type:"JWT"})),Jr(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Dm(Rm.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new _m(s)}e._authCredentials=new Mm(new Lm(t,n))}}class OT{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new OT(this.firestore,e,this._query)}}class LT{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new FT(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new LT(this.firestore,e,this._key)}}class FT extends OT{constructor(e,t,n){super(e,t,Ny(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new LT(this.firestore,null,new eg(e))}withConverter(e){return new FT(this.firestore,e,this._path)}}function MT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ii(e),ST("collection","path",t),e instanceof RT){const n=Ym.fromString(t,...r);return CT(n),new FT(e,null,n)}{if(!(e instanceof LT||e instanceof FT))throw new Dm(Rm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ym.fromString(t,...r));return CT(n),new FT(e.firestore,null,n)}}function UT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ii(e),1===arguments.length&&(t=Wm.newId()),ST("doc","path",t),e instanceof RT){const n=Ym.fromString(t,...r);return kT(n),new LT(e,null,new eg(n))}{if(!(e instanceof LT||e instanceof FT))throw new Dm(Rm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ym.fromString(t,...r));return kT(n),new LT(e.firestore,e instanceof FT?e.converter:null,new eg(n))}}function VT(e,t){return e=Ii(e),t=Ii(t),(e instanceof LT||e instanceof FT)&&(t instanceof LT||t instanceof FT)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function BT(e,t){return e=Ii(e),t=Ii(t),e instanceof OT&&t instanceof OT&&e.firestore===t.firestore&&Vy(e._query,t._query)&&e.converter===t.converter}class jT{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new pE(this,"async_queue_retry"),this.hu=()=>{const e=dE();e&&Tm("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Jo.Uo()};const e=dE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=dE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise((()=>{}));const t=new Om;return this.Iu((()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.su.push(e),this.Tu())))}async Tu(){if(0!==this.su.length){try{await this.su[0](),this.su.shift(),this.Jo.reset()}catch(yA){if(!wg(yA))throw yA;Tm("AsyncQueue","Operation failed with retryable error: "+yA)}this.su.length>0&&this.Jo.Ko((()=>this.Tu()))}}Iu(e){const t=this.iu.then((()=>(this.uu=!0,e().catch((e=>{this.au=e,this.uu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw km("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.uu=!1,e))))));return this.iu=t,t}enqueueAfterDelay(e,t,n){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const r=$E.createAndSchedule(this,e,t,n,(e=>this.Eu(e)));return this._u.push(r),r}Pu(){this.au&&xm()}verifyOperationInProgress(){}async du(){let e;do{e=this.iu,await e}while(e!==this.iu)}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then((()=>{this._u.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()}))}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}function zT(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class qT{constructor(){this._progressObserver={},this._taskCompletionResolver=new Om,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class WT extends RT{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new jT,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||GT(this),this._firestoreClient.terminate()}}function KT(e){return e._firestoreClient||GT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function GT(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Tv(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,IT(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new aT(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function HT(e,t,n){const r=new Om;return e.asyncQueue.enqueue((async()=>{try{await cT(e,n),await lT(e,t),r.resolve()}catch(e){const n=e;if(!uT(n))throw n;Cm("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function QT(e){return function(e){const t=new Om;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Nm(e);xE(n.remoteStore)||Tm("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Nm(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Oa.get(e)||[];r.push(t),n.Oa.set(e,r)}catch(e){const n=YE(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await gT(e),t))),t.promise}(KT(e=xT(e,WT)))}function JT(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await fT(e),n=await mT(e);return t.setNetworkEnabled(!0),function(e){const t=Nm(e);return t.M_.delete(0),_E(t)}(n)}))}(KT(e=xT(e,WT)))}function $T(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await fT(e),n=await mT(e);return t.setNetworkEnabled(!1),async function(e){const t=Nm(e);t.M_.add(0),await IE(t),t.N_.set("Offline")}(n)}))}(KT(e=xT(e,WT)))}function YT(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Nm(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Kr.getNamedQuery(e,t)))}(await pT(e),t)))}(KT(e=xT(e,WT)),t).then((t=>t?new OT(e,null,t.query):null))}function XT(e){if(e._initialized||e._terminated)throw new Dm(Rm.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ZT{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ZT(vv.fromBase64String(e))}catch(e){throw new Dm(Rm.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ZT(vv.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ek{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Dm(Rm.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zm(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class tk{constructor(e){this._methodName=e}}class nk{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Dm(Rm.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Dm(Rm.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Km(this._lat,e._lat)||Km(this._long,e._long)}}const rk=/^__.*__$/;class ik{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Rw(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nw(e,this.data,t,this.fieldTransforms)}}class sk{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Rw(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ok(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xm()}}class ak{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.mu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new ak(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.wu(e),r}Su(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Ck(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(ok(this.fu)&&rk.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class ck{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||fE(e)}Fu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ak({fu:e,methodName:t,vu:n,path:Zm.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lk(e){const t=e._freezeSettings(),n=fE(e._databaseId);return new ck(e._databaseId,!!t.ignoreUndefinedProperties,n)}function uk(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Fu(s.merge||s.mergeFields?2:0,t,n,i);Ek("Data must be an object, but it was:",o,r);const a=_k(r,o);let c,l;if(s.merge)c=new mv(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Sk(t,r,n);if(!o.contains(i))throw new Dm(Rm.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Ak(e,i)||e.push(i)}c=new mv(e),l=o.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=o.fieldTransforms;return new ik(new Qv(a),c,l)}class hk extends tk{_toFieldTransform(e){if(2!==e.fu)throw 1===e.fu?e.Du("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Du("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hk}}function dk(e,t,n){return new ak({fu:3,vu:t.settings.vu,methodName:e._methodName,yu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class fk extends tk{_toFieldTransform(e){return new _w(e.path,new fw)}isEqual(e){return e instanceof fk}}class pk extends tk{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=dk(this,e,!0),n=this.Mu.map((e=>bk(e,t))),r=new pw(n);return new _w(e.path,r)}isEqual(e){return e instanceof pk&&pi(this.Mu,e.Mu)}}class mk extends tk{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=dk(this,e,!0),n=this.Mu.map((e=>bk(e,t))),r=new gw(n);return new _w(e.path,r)}isEqual(e){return e instanceof mk&&pi(this.Mu,e.Mu)}}class gk extends tk{constructor(e,t){super(e),this.xu=t}_toFieldTransform(e){const t=new yw(e.serializer,cw(e.serializer,this.xu));return new _w(e.path,t)}isEqual(e){return e instanceof gk&&this.xu===e.xu}}function vk(e,t,n,r){const i=e.Fu(1,t,n);Ek("Data must be an object, but it was:",i,r);const s=[],o=Qv.empty();av(r,((e,r)=>{const a=kk(t,e,n);r=Ii(r);const c=i.Su(a);if(r instanceof hk)s.push(a);else{const e=bk(r,c);null!=e&&(s.push(a),o.set(a,e))}}));const a=new mv(s);return new sk(o,a,i.fieldTransforms)}function yk(e,t,n,r,i,s){const o=e.Fu(1,t,n),a=[Sk(t,r,n)],c=[i];if(s.length%2!=0)throw new Dm(Rm.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(Sk(t,s[d])),c.push(s[d+1]);const l=[],u=Qv.empty();for(let d=a.length-1;d>=0;--d)if(!Ak(l,a[d])){const e=a[d];let t=c[d];t=Ii(t);const n=o.Su(e);if(t instanceof hk)l.push(e);else{const r=bk(t,n);null!=r&&(l.push(e),u.set(e,r))}}const h=new mv(l);return new sk(u,h,o.fieldTransforms)}function wk(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return bk(n,e.Fu(r?4:3,t))}function bk(e,t){if(Ik(e=Ii(e)))return Ek("Unsupported field value:",t,e),_k(e,t);if(e instanceof tk)return function(e,t){if(!ok(t.fu))throw t.Du("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Du("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=bk(i,t.bu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Ii(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return cw(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Qm.fromDate(e);return{timestampValue:fb(t.serializer,n)}}if(e instanceof Qm){const n=new Qm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:fb(t.serializer,n)}}if(e instanceof nk)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ZT)return{bytesValue:pb(t.serializer,e._byteString)};if(e instanceof LT){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Du("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:vb(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Du("Unsupported field value: ".concat(AT(e)))}(e,t)}function _k(e,t){const n={};return cv(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):av(e,((e,r)=>{const i=bk(r,t.pu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Ik(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Qm||e instanceof nk||e instanceof ZT||e instanceof LT||e instanceof tk)}function Ek(e,t,n){if(!Ik(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=AT(n);throw"an object"===r?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function Sk(e,t,n){if((t=Ii(t))instanceof ek)return t._internalPath;if("string"==typeof t)return kk(e,t);throw Ck("Field path arguments must be of type string or ",e,!1,void 0,n)}const Tk=new RegExp("[~\\*/\\[\\]]");function kk(e,t,n){if(t.search(Tk)>=0)throw Ck("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new ek(...t.split("."))._internalPath}catch(dh){throw Ck("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Ck(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=" in field ".concat(r)),o&&(c+=" in document ".concat(i)),c+=")"),new Dm(Rm.INVALID_ARGUMENT,a+e+c)}function Ak(e,t){return e.some((e=>e.isEqual(t)))}class xk{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new LT(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Pk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Nk("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Pk extends xk{data(){return super.data()}}function Nk(e,t){return"string"==typeof t?kk(e,t):t instanceof ek?t._internalPath:t._delegate._internalPath}function Rk(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Dm(Rm.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dk{}class Ok extends Dk{}function Lk(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Dk&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Mk)).length,n=e.filter((e=>e instanceof Fk)).length;if(t>1||t>0&&n>0)throw new Dm(Rm.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class Fk extends Ok{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Fk(e,t,n)}_apply(e){const t=this._parse(e);return Kk(e._query,t),new OT(e.firestore,e.converter,My(e._query,t))}_parse(e){const t=lk(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Dm(Rm.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){Wk(o,s);const t=[];for(const n of o)t.push(qk(r,e,n));a={arrayValue:{values:t}}}else a=qk(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Wk(o,s),a=wk(n,t,o,"in"===s||"not-in"===s);return ry.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Mk extends Dk{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Mk(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:iy.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Kk(n,i),n=My(n,i)}(e._query,t),new OT(e.firestore,e.converter,My(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Uk extends Ok{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Uk(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Dm(Rm.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Dm(Rm.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ey(t,n)}(e._query,this._field,this._direction);return new OT(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new xy(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Vk extends Ok{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Vk(e,t,n)}_apply(e){return new OT(e.firestore,e.converter,Uy(e._query,this._limit,this._limitType))}}class Bk extends Ok{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Bk(e,t,n)}_apply(e){const t=zk(e,this.type,this._docOrFields,this._inclusive);return new OT(e.firestore,e.converter,function(e,t){return new xy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class jk extends Ok{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new jk(e,t,n)}_apply(e){const t=zk(e,this.type,this._docOrFields,this._inclusive);return new OT(e.firestore,e.converter,function(e,t){return new xy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function zk(e,t,n,r){if(n[0]=Ii(n[0]),n[0]instanceof xk)return function(e,t,n,r,i){if(!r)throw new Dm(Rm.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const o of Oy(e))if(o.field.isKeyField())s.push(Fv(t,r.key));else{const e=r.data.field(o.field);if(Iv(e))throw new Dm(Rm.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new Dm(Rm.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new Yv(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=lk(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new Dm(Rm.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let c=0;c<i.length;c++){const s=i[c];if(o[c].field.isKeyField()){if("string"!=typeof s)throw new Dm(Rm.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!Dy(e)&&-1!==s.indexOf("/"))throw new Dm(Rm.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(Ym.fromString(s));if(!eg.isDocumentKey(n))throw new Dm(Rm.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new eg(n);a.push(Fv(t,i))}else{const e=wk(n,r,s);a.push(e)}}return new Yv(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function qk(e,t,n){if("string"==typeof(n=Ii(n))){if(""===n)throw new Dm(Rm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dy(t)&&-1!==n.indexOf("/"))throw new Dm(Rm.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Ym.fromString(n));if(!eg.isDocumentKey(r))throw new Dm(Rm.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Fv(e,new eg(r))}if(n instanceof LT)return Fv(e,n._key);throw new Dm(Rm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(AT(n),"."))}function Wk(e,t){if(!Array.isArray(e)||0===e.length)throw new Dm(Rm.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Kk(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Dm(Rm.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Dm(Rm.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Gk{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(xv(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bv(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_v(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw xm()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return av(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new nk(bv(e.latitude),bv(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ev(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Sv(e));default:return null}}convertTimestamp(e){const t=wv(e);return new Qm(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ym.fromString(e);Pm(jb(n));const r=new kv(n.get(1),n.get(3)),i=new eg(n.popFirst(5));return r.isEqual(t)||km("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Hk(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Qk extends Gk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ZT(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new LT(this.firestore,null,t)}}class Jk{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $k extends xk{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Yk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Nk("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Yk extends $k{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Xk{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Jk(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Yk(this._firestore,this._userDataWriter,n.key,n,new Jk(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Dm(Rm.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Yk(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Jk(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Yk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Jk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Zk(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Zk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xm()}}function eC(e,t){return e instanceof $k&&t instanceof $k?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Xk&&t instanceof Xk&&e._firestore===t._firestore&&BT(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class tC extends Gk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ZT(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new LT(this.firestore,null,t)}}function nC(e){e=xT(e,LT);const t=xT(e.firestore,WT),n=KT(t),r=new tC(t);return function(e,t){const n=new Om;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Nm(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Dm(Rm.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=YE(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await pT(e),t,n))),n.promise}(n,e._key).then((n=>new $k(t,r,e._key,n,new Jk(null!==n&&n.hasLocalMutations,!0),e.converter)))}function rC(e){e=xT(e,OT);const t=xT(e.firestore,WT),n=KT(t),r=new tC(t);return function(e,t){const n=new Om;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await zI(e,t,!0),i=new vS(t,r.ls),s=i.da(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=YE(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await pT(e),t,n))),n.promise}(n,e._query).then((n=>new Xk(t,r,e,n)))}function iC(e,t,n){e=xT(e,LT);const r=xT(e.firestore,WT),i=Hk(e.converter,t,n);return cC(r,[uk(lk(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ew.none())])}function sC(e,t,n){e=xT(e,LT);const r=xT(e.firestore,WT),i=lk(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),c=3;c<o;c++)a[c-3]=arguments[c];return s="string"==typeof(t=Ii(t))||t instanceof ek?yk(i,"updateDoc",e._key,t,n,a):vk(i,"updateDoc",e._key,t),cC(r,[s.toMutation(e._key,Ew.exists(!0))])}function oC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=Ii(e);let a={includeMetadataChanges:!1,source:"default"},c=0;"object"!=typeof n[c]||zT(n[c])||(a=n[c],c++);const l={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(zT(n[c])){const e=n[c];n[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[c+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[c+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,h,d;if(e instanceof LT)h=xT(e.firestore,WT),d=Ny(e._key.path),u={next:t=>{n[c]&&n[c](lC(h,e,t))},error:n[c+1],complete:n[c+2]};else{const t=xT(e,OT);h=xT(t.firestore,WT),d=t._query;const r=new tC(h);u={next:e=>{n[c]&&n[c](new Xk(h,r,t,e))},error:n[c+1],complete:n[c+2]},Rk(e._query)}return function(e,t,n,r){const i=new rT(r),s=new uS(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>rS(await yT(e),s))),()=>{i.$a(),e.asyncQueue.enqueueAndForget((async()=>iS(await yT(e),s)))}}(KT(h),d,l,u)}function aC(e,t){return function(e,t){const n=new rT(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Nm(e).z_.add(t),t.next()}(await yT(e),n))),()=>{n.$a(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Nm(e).z_.delete(t)}(await yT(e),n)))}}(KT(e=xT(e,WT)),zT(t)?t:{next:t})}function cC(e,t){return function(e,t){const n=new Om;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=YS(e);try{const e=await function(e,t){const n=Nm(e),r=Qm.now(),i=t.reduce(((e,t)=>e.add(t.key)),rw());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Qy(),c=rw();return n.ss.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=xw(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Rw(e.key,t,Jv(t.value.mapValue),Ew.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Yy(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.xa[e.currentUser.toKey()];r||(r=new lv(Km)),r=r.insert(t,n),e.xa[e.currentUser.toKey()]=r}(r,e.batchId,n),await VS(r,e.changes),await ME(r.remoteStore)}catch(e){const t=YE(e,"Failed to persist write");n.reject(t)}}(await gT(e),t,n))),n.promise}(KT(e),t)}function lC(e,t,n){const r=n.docs.get(t._key),i=new tC(e);return new $k(e,i,t._key,r,new Jk(n.hasPendingWrites,n.fromCache),t.converter)}const uC={maxAttempts:5};class hC{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=lk(e)}set(e,t,n){this._verifyNotCommitted();const r=dC(e,this._firestore),i=Hk(r.converter,t,n),s=uk(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Ew.none())),this}update(e,t,n){this._verifyNotCommitted();const r=dC(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=Ii(t))||t instanceof ek?yk(this._dataReader,"WriteBatch.update",r._key,t,n,o):vk(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Ew.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=dC(e,this._firestore);return this._mutations=this._mutations.concat(new Fw(t._key,Ew.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Dm(Rm.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function dC(e,t){if((e=Ii(e)).firestore!==t)throw new Dm(Rm.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class fC extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=lk(e)}get(e){const t=dC(e,this._firestore),n=new Qk(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return xm();const r=e[0];if(r.isFoundDocument())return new xk(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new xk(this._firestore,n,t._key,null,t.converter);throw xm()}))}set(e,t,n){const r=dC(e,this._firestore),i=Hk(r.converter,t,n),s=uk(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=dC(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=Ii(t))||t instanceof ek?yk(this._dataReader,"Transaction.update",r._key,t,n,o):vk(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=dC(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=dC(e,this._firestore),n=new tC(this._firestore);return super.get(e).then((e=>new $k(this._firestore,n,t._key,e._document,new Jk(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Im=e}(ys),ls(new Ei("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new WT(new Um(e.getProvider("auth-internal")),new zm(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Dm(Rm.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kv(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Ss(bm,"4.6.1",e),Ss(bm,"4.6.1","esm2017")}();function pC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Dm("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function mC(){if("undefined"===typeof Uint8Array)throw new Dm("unimplemented","Uint8Arrays are not available in this environment.")}function gC(){if("undefined"==typeof atob)throw new Dm("unimplemented","Blobs are unavailable in Firestore in this environment.")}class vC{constructor(e){this._delegate=e}static fromBase64String(e){return gC(),new vC(ZT.fromBase64String(e))}static fromUint8Array(e){return mC(),new vC(ZT.fromUint8Array(e))}toBase64(){return gC(),this._delegate.toBase64()}toUint8Array(){return mC(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function yC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class wC{enableIndexedDbPersistence(e,t){return function(e,t){XT(e=xT(e,WT));const n=KT(e);if(n._uninitializedComponentsProvider)throw new Dm(Rm.FAILED_PRECONDITION,"SDK cache is already specified.");Cm("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new tT;return HT(n,i,new ZS(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){XT(e=xT(e,WT));const t=KT(e);if(t._uninitializedComponentsProvider)throw new Dm(Rm.FAILED_PRECONDITION,"SDK cache is already specified.");Cm("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new tT;return HT(t,r,new eT(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Dm(Rm.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Om;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!mg.D())return Promise.resolve();const t=e+"main";await mg.delete(t)}(PI(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class bC{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof kv||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Cm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};DT(this._delegate,e,t,n)}enableNetwork(){return JT(this._delegate)}disableNetwork(){return $T(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,TT("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return QT(this._delegate)}onSnapshotsInSync(e){return aC(this._delegate,e)}get app(){if(!this._appCompat)throw new Dm("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new OC(this,MT(this._delegate,e))}catch(yA){throw kC(yA,"collection()","Firestore.collection()")}}doc(e){try{return new TC(this,UT(this._delegate,e))}catch(yA){throw kC(yA,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new NC(this,function(e,t){if(e=xT(e,RT),ST("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Dm(Rm.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new OT(e,null,function(e){return new xy(Ym.emptyPath(),e)}(t))}(this._delegate,e))}catch(yA){throw kC(yA,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=xT(e,WT);const r=Object.assign(Object.assign({},uC),n);return function(e){if(e.maxAttempts<1)throw new Dm(Rm.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Om;return e.asyncQueue.enqueueAndForget((async()=>{const i=await vT(e);new oT(e.asyncQueue,i,n,t,r).Xa()})),r.promise}(KT(e),(n=>t(new fC(e,n))),r)}(this._delegate,(t=>e(new IC(this,t))))}batch(){return KT(this._delegate),new EC(new hC(this._delegate,(e=>cC(this._delegate,e))))}loadBundle(e){return function(e,t){const n=KT(e=xT(e,WT)),r=new qT;return _T(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return YT(this._delegate,e).then((e=>e?new NC(this,e):null))}}class _C extends Gk{constructor(e){super(),this.firestore=e}convertBytes(e){return new vC(new ZT(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return TC.forKey(t,this.firestore,null)}}class IC{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new _C(e)}get(e){const t=LC(e);return this._delegate.get(t).then((e=>new xC(this._firestore,new $k(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=LC(e);return n?(pC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=LC(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=LC(e);return this._delegate.delete(t),this}}class EC{constructor(e){this._delegate=e}set(e,t,n){const r=LC(e);return n?(pC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=LC(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=LC(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class SC{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new Yk(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new PC(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=SC.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new SC(e,new _C(e),t),r.set(t,i)),i}}SC.INSTANCES=new WeakMap;class TC{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _C(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Dm("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new TC(t,new LT(t._delegate,n,new eg(e)))}static forKey(e,t,n){return new TC(t,new LT(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new OC(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new OC(this.firestore,MT(this._delegate,e))}catch(yA){throw kC(yA,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Ii(e))instanceof LT&&VT(this._delegate,e)}set(e,t){t=pC("DocumentReference.set",t);try{return t?iC(this._delegate,e,t):iC(this._delegate,e)}catch(yA){throw kC(yA,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?sC(this._delegate,e):sC(this._delegate,e,t,...r)}catch(yA){throw kC(yA,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return cC(xT(e.firestore,WT),[new Fw(e._key,Ew.none())])}(this._delegate)}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=CC(t),i=AC(t,(e=>new xC(this.firestore,new $k(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return oC(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?nC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=xT(e,LT);const t=xT(e.firestore,WT);return wT(KT(t),e._key,{source:"server"}).then((n=>lC(t,e,n)))}(this._delegate):function(e){e=xT(e,LT);const t=xT(e.firestore,WT);return wT(KT(t),e._key).then((n=>lC(t,e,n)))}(this._delegate),t.then((e=>new xC(this.firestore,new $k(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new TC(this.firestore,e?this._delegate.withConverter(SC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function kC(e,t,n){return e.message=e.message.replace(t,n),e}function CC(e){for(const t of e)if("object"===typeof t&&!yC(t))return t;return{}}function AC(e,t){var n,r;let i;return i=yC(e[0])?e[0]:yC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class xC{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new TC(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return eC(this._delegate,e._delegate)}}class PC extends xC{data(e){const t=this._delegate.data(e);return this._delegate._converter||function(e,t){e||xm()}(void 0!==t),t}}class NC{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _C(e)}where(e,t,n){try{return new NC(this.firestore,Lk(this._delegate,function(e,t,n){const r=t,i=Nk("where",e);return Fk._create(i,r,n)}(e,t,n)))}catch(yA){throw kC(yA,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new NC(this.firestore,Lk(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Nk("orderBy",e);return Uk._create(n,t)}(e,t)))}catch(yA){throw kC(yA,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new NC(this.firestore,Lk(this._delegate,function(e){return PT("limit",e),Vk._create("limit",e,"F")}(e)))}catch(yA){throw kC(yA,"limit()","Query.limit()")}}limitToLast(e){try{return new NC(this.firestore,Lk(this._delegate,function(e){return PT("limitToLast",e),Vk._create("limitToLast",e,"L")}(e)))}catch(yA){throw kC(yA,"limitToLast()","Query.limitToLast()")}}startAt(){try{return new NC(this.firestore,Lk(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Bk._create("startAt",t,!0)}(...arguments)))}catch(yA){throw kC(yA,"startAt()","Query.startAt()")}}startAfter(){try{return new NC(this.firestore,Lk(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Bk._create("startAfter",t,!1)}(...arguments)))}catch(yA){throw kC(yA,"startAfter()","Query.startAfter()")}}endBefore(){try{return new NC(this.firestore,Lk(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return jk._create("endBefore",t,!1)}(...arguments)))}catch(yA){throw kC(yA,"endBefore()","Query.endBefore()")}}endAt(){try{return new NC(this.firestore,Lk(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return jk._create("endAt",t,!0)}(...arguments)))}catch(yA){throw kC(yA,"endAt()","Query.endAt()")}}isEqual(e){return BT(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?rC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=xT(e,OT);const t=xT(e.firestore,WT),n=KT(t),r=new tC(t);return bT(n,e._query,{source:"server"}).then((n=>new Xk(t,r,e,n)))}(this._delegate):function(e){e=xT(e,OT);const t=xT(e.firestore,WT),n=KT(t),r=new tC(t);return Rk(e._query),bT(n,e._query).then((n=>new Xk(t,r,e,n)))}(this._delegate),t.then((e=>new DC(this.firestore,new Xk(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=CC(t),i=AC(t,(e=>new DC(this.firestore,new Xk(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return oC(this._delegate,r,i)}withConverter(e){return new NC(this.firestore,e?this._delegate.withConverter(SC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class RC{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new PC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class DC{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new NC(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new PC(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new RC(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new PC(this._firestore,n))}))}isEqual(e){return eC(this._delegate,e._delegate)}}class OC extends NC{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new TC(this.firestore,e):null}doc(e){try{return new TC(this.firestore,void 0===e?UT(this._delegate):UT(this._delegate,e))}catch(yA){throw kC(yA,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=xT(e.firestore,WT),r=UT(e),i=Hk(e.converter,t);return cC(n,[uk(lk(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ew.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new TC(this.firestore,e)))}isEqual(e){return VT(this._delegate,e._delegate)}withConverter(e){return new OC(this.firestore,e?this._delegate.withConverter(SC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function LC(e){return xT(e,LT)}class FC{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new ek(...t)}static documentId(){return new FC(Zm.keyField().canonicalString())}isEqual(e){return(e=Ii(e))instanceof ek&&this._delegate._internalPath.isEqual(e._internalPath)}}class MC{constructor(e){this._delegate=e}static serverTimestamp(){const e=new fk("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new MC(e)}static delete(){const e=new hk("deleteField");return e._methodName="FieldValue.delete",new MC(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new pk("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new MC(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new mk("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new MC(e)}static increment(e){const t=function(e){return new gk("increment",e)}(e);return t._methodName="FieldValue.increment",new MC(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const UC={Firestore:bC,GeoPoint:nk,Timestamp:Qm,Blob:vC,Transaction:IC,WriteBatch:EC,DocumentReference:TC,DocumentSnapshot:xC,Query:NC,QueryDocumentSnapshot:PC,QuerySnapshot:DC,CollectionReference:OC,FieldPath:FC,FieldValue:MC,setLogLevel:function(e){!function(e){Em.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Ei("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},UC)))}(e,((e,t)=>new bC(e,t,new wC))),e.registerVersion("@firebase/firestore-compat","0.3.30")}(qs);const VC={apiKey:"AIzaSyAciSRIhaWirwnvxxiNJvtpJv8e-W76fD8",authDomain:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API_ID:"1:1051822520467:web:b4b0819232c8b3d7d47566",REACT_APP_FB_API_KEY:"AIzaSyAciSRIhaWirwnvxxiNJvtpJv8e-W76fD8",REACT_APP_FB_AUTH_DOMAIN:"mini-blog-7c4db.firebaseapp.com",REACT_APP_FB_MESSAGING_SENDER_ID:"1051822520467",REACT_APP_FB_PROJECT_ID:"mini-blog-7c4db",REACT_APP_FB_STORAGE_BUCKET:"mini-blog-7c4db.appspot.com"}.REACT_APP_FB_AUTH_KEY,projectId:"mini-blog-7c4db",storeageBucket:"mini-blog-7c4db.appspot.com",messagingSenderId:"1051822520467",appId:"1:1051822520467:web:b4b0819232c8b3d7d47566"},BC=qs.initializeApp(VC).firestore();var jC,zC;const qC=br.div(jC||(jC=Ae(["\n\npadding: 16px;\nwidth: calc(100% - 32px);\nheight: 100%;\noverflow: hidden;\nbackground: #2E2D32;\n\n"]))),WC=br.div(zC||(zC=Ae(["\n    width: 100%;\n    height: 100%;\n    }\n"])));const KC=function(e){const t=ee(),[n,i]=(0,r.useState)([]);(0,r.useEffect)((function(){let e=[];BC.collection("post").get().then((function(t){t.forEach((function(t){e.push(t.data())})),i(e),console.log(n);const r=e.sort((()=>.5-Math.random())).slice(0,3);i(r)}))}),[]);const s={header:{width:"92vw",marginLeft:"2vw",marginRight:"2vw",display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"20px"},logo:{width:"140px",height:"60px"},navbar:{width:"433px",display:"flex",justifyContent:"space-between"},menu:{textDecoration:"none",color:"#898989",listStyle:"none",fontSize:"18px",fontWeight:"300"},h1:{fontFamily:"Pretendard",fontSize:"40px",fontWeight:"500",width:"500px",color:"#fff",lineHeight:"150%"},p:{fontFamily:"Pretendard",fontSize:"16px",width:"500px",fontWeight:"300",paddingTop:"2vw",color:"#AEAEAE",lineHeight:"150%",marginBottom:"8vh"},text:{paddingLeft:"6vw",display:"flex",position:"absolute",top:"calc(50% - 200px)",flexDirection:"column"}};return(0,Ir.jsxs)(qC,{children:[(0,Ir.jsxs)("div",{style:s.header,children:[(0,Ir.jsx)("img",{style:s.logo,className:"blogLogo",alt:"blogLogo_img",src:"blogLogo.png"}),(0,Ir.jsxs)("div",{style:s.navbar,className:"navbar",children:[(0,Ir.jsx)(Te,{style:{color:"#4D77FF",fontWeight:"700",textDecoration:"none",fontSize:"18px"},className:"menu",to:"/main",children:"HOME"}),(0,Ir.jsx)(Te,{style:s.menu,className:"menu",to:"/main",children:"ABOUT"}),(0,Ir.jsx)(Te,{style:s.menu,className:"menu",to:"/blogList",children:"BLOG"}),(0,Ir.jsx)(Te,{style:s.menu,className:"menu",to:"/write",children:"WRITING"})]})]}),(0,Ir.jsxs)(WC,{children:[(0,Ir.jsxs)("div",{style:s.text,children:[(0,Ir.jsxs)("h1",{style:s.h1,children:["\ub2f9\uc2e0\uc758 \uc77c\uc0c1\uc744 \ub2f4\uc740",(0,Ir.jsx)("br",{}),"\ube14\ub85c\uadf8\ub97c \uc791\uc131\ud574\ubcf4\uc138\uc694."]}),(0,Ir.jsxs)("p",{style:s.p,children:["\uc11c\ub85c\uc758 \uae00\uc744 \uc77d\uace0 \ub313\uae00\uc744 \ub2ec\uba70 \ub2e4\ub978 \uc0ac\uc6a9\uc790\ub4e4\uacfc ",(0,Ir.jsx)("br",{}),"\uc18c\ud1b5\uc744 \ud558\uace0 \uc77c\uc0c1\uc744 \uacf5\uc720\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),(0,Ir.jsx)(Sr,{customBgColor:"#4D77FF",title:"WRITING",onClick:()=>{t("/write")}})]}),(0,Ir.jsx)(Kr,{customRight:"6vw",customDirection:"column",customMarginLeft:"50vw",posts:n,onClickItem:e=>{t("/post/"+e.id)}})]})]})};var GC,HC;const QC=br.div(GC||(GC=Ae(["\n\npadding: 16px;\nwidth: calc(100% - 32px);\nheight: 100%;\n\nbackground: #2E2D32;\n\n\n\n"]))),JC=br.div(HC||(HC=Ae(["\n   width: 100%;\n   height: 100vh;\n    }\n"])));const $C=function(e){const t=ee(),[n,i]=(0,r.useState)([]);(0,r.useEffect)((function(){let e=[];BC.collection("post").get().then((function(t){t.forEach((function(t){e.push(t.data())})),i(e)}))}),[]);const s={header:{width:"92vw",marginLeft:"2vw",marginRight:"2vw",display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"20px"},logo:{width:"140px",height:"60px"},navbar:{width:"433px",display:"flex",justifyContent:"space-between"},menu:{textDecoration:"none",color:"#898989",listStyle:"none",fontSize:"18px",fontWeight:"300"},h1:{width:"80vw",marginLeft:"calc(7vw - 16px)",textAlign:"left",fontFamily:"Pretendard",fontSize:"22px",fontWeight:"500",color:"#fff"},p:{fontFamily:"Pretendard",fontSize:"16px",fontWeight:"300",paddingTop:"2vw",color:"#AEAEAE",lineHeight:"150%",marginBottom:"8vh"},text:{paddingLeft:"4vw",display:"flex",position:"relative",top:"calc(50% - 200px)",flexDirection:"column"},top:{marginTop:"6vw"}};return(0,Ir.jsxs)(QC,{children:[(0,Ir.jsxs)("div",{style:s.header,children:[(0,Ir.jsx)("img",{style:s.logo,className:"blogLogo",alt:"blogLogo_img",src:"blogLogo.png"}),(0,Ir.jsxs)("div",{style:s.navbar,className:"navbar",children:[(0,Ir.jsx)(Te,{style:s.menu,className:"menu",to:"/main",children:"HOME"}),(0,Ir.jsx)(Te,{style:s.menu,className:"menu",to:"/main",children:"ABOUT"}),(0,Ir.jsx)(Te,{style:{color:"#4D77FF",fontWeight:"700",textDecoration:"none",fontSize:"18px"},className:"menu",to:"/blogList",children:"BLOG"}),(0,Ir.jsx)(Te,{style:s.menu,className:"menu",to:"/write",children:"WRITING"})]})]}),(0,Ir.jsxs)(JC,{children:[(0,Ir.jsx)("div",{style:s.top,children:(0,Ir.jsx)("h1",{style:s.h1,children:"\ub0b4 \ube14\ub85c\uadf8"})}),(0,Ir.jsx)(Kr,{style:s.postList,customTop:"auto",customMarginTop:"24px",posts:n,onClickItem:e=>{t("/post/"+e.id)}})]})]})};var YC;const XC=br.div(YC||(YC=Ae(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 20px;\n    justify-content: center;\n    max-width: 720px;\n    margin-bottom: 20px;\n    color: #fff;\n\n    & > *{\n        :not(:last-child){\n            margin-bottom: 16px;\n        }\n    }\n"])));const ZC=function(e){const{comments:t}=e;return(0,Ir.jsx)(XC,{children:t.map(((e,t)=>(0,Ir.jsx)(zr,{index:t,comment:e},e.id)))})};var eA,tA,nA,rA,iA,sA;const oA=br.div(eA||(eA=Ae(["\npadding: 16px;\nwidth: calc(100% - 32px);\nheight: 100%;\nbackground: #2E2D32;\n"]))),aA=br.div(tA||(tA=Ae(["\n    width: 80vw;\n    margin-left: auto;\n    margin-right: auto;\n    \n"]))),cA=br.div(nA||(nA=Ae(["\n    padding: 20px;\n    border-radius: 4px;\n    width: calc(80vw - 40px);\n    background-color: #3C3F48;\n    margin-bottom: 40px;\n    margin-top: -14px;\n"]))),lA=br.p(rA||(rA=Ae(["\n    font-size: 24px;\n    font-weight: 500;\n    color: #fff;\n"]))),uA=br.p(iA||(iA=Ae(["\n    font-size: 16px;\n    line-height: 160%;\n    font-weight: 300;\n    white-space: pre-wrap;\n    color: #f1f1f1;\n    margin-top: 28px;\n"]))),hA=br.p(sA||(sA=Ae(["\n    font-size: 16px;\n    font-weight: 500;\n    color: #fff;\n    \n"])));const dA=function(e){const t=ee(),n=function(){let{matches:e}=r.useContext(J),t=e[e.length-1];return t?t.params:{}}().id,[i,s]=(0,r.useState)({id:0,title:"",content:"",comments:[]});(0,r.useEffect)((function(){BC.collection("post").doc(n).get().then((function(e){s(e.data())}))}),[]);const[o,a]=(0,r.useState)(""),c={header:{width:"92vw",marginLeft:"2vw",marginRight:"2vw",display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"20px"},logo:{width:"140px",height:"60px"},navbar:{width:"433px",display:"flex",justifyContent:"space-between"},h1:{width:"80vw",marginLeft:"auto",marginRight:"auto",textAlign:"left",fontFamily:"Pretendard",fontSize:"22px",fontWeight:"500",color:"#fff",paddingBottom:"20px"},menu:{textDecoration:"none",color:"#898989",listStyle:"none",fontWeight:"300",fontSize:"18px"},btn:{width:"92vw",marginLeft:"2vw",marginRight:"2vw",display:"flex",justifyContent:"space-between",marginTop:"32px",marginBottom:"16px"},top:{width:"83vw",marginLeft:"auto",marginRight:"auto",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px",marginTop:"6vw"},comments:{width:"80vw",display:"flex",justifyContent:"space-between",marginBottom:"40px"},profileImg:{width:"60px",height:"60px"}};return(0,Ir.jsxs)(oA,{children:[(0,Ir.jsxs)("div",{style:c.header,children:[(0,Ir.jsx)("img",{style:c.logo,className:"blogLogo",alt:"blogLogo_img",src:"../blogLogo.png"}),(0,Ir.jsxs)("div",{style:c.navbar,className:"navbar",children:[(0,Ir.jsx)(Te,{style:c.menu,className:"menu",to:"/main",children:"HOME"}),(0,Ir.jsx)(Te,{style:c.menu,className:"menu",to:"/main",children:"ABOUT"}),(0,Ir.jsx)(Te,{style:{color:"#4D77FF",fontWeight:"700",textDecoration:"none",fontSize:"18px"},className:"menu",to:"/blogList",children:"BLOG"}),(0,Ir.jsx)(Te,{style:c.menu,className:"menu",to:"/write",children:"WRITING"})]})]}),(0,Ir.jsxs)(aA,{children:[(0,Ir.jsxs)("div",{style:c.top,children:[(0,Ir.jsx)("h1",{style:c.h1,children:"\uc724\uc8fc\uc758 \ube14\ub85c\uadf8"}),(0,Ir.jsx)(Sr,{customBgColor:"#2E2D32",customFontSize:"12px",className:c.Button,title:"DELETE",onClick:function(){window.confirm("\uae00\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&(alert("\uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),BC.collection("post").doc(n).delete().then((function(){t("/blogList")})))}})]}),(0,Ir.jsxs)(cA,{children:[(0,Ir.jsx)(lA,{children:i.title}),(0,Ir.jsx)(uA,{children:i.content})]}),(0,Ir.jsx)(hA,{children:"Comments"}),(0,Ir.jsx)(ZC,{comments:i.comments}),(0,Ir.jsxs)("div",{style:c.comments,children:[(0,Ir.jsx)("img",{src:"../profile.png",alt:"profile.png",style:c.profileImg}),(0,Ir.jsx)(Cr,{customWidth:"calc(80vw - 120px)",customRadius:"400px",height:28,value:o,onChange:e=>a(e.target.value)}),(0,Ir.jsx)(Sr,{customWidth:"120px",customRight:"9vw",customBgColor:"#4D77FF",customPosition:"absolute",customHeight:"60px",title:"Send",onClick:function(){let e=(new Date).getTime().toString(),t=i.comments;t.push({id:n+"_"+e,content:o}),BC.collection("post").doc(n).update({comments:t}).then((function(){a("")}))}})]})]}),(0,Ir.jsxs)("div",{style:c.btn,children:[(0,Ir.jsx)(Sr,{title:"BACK",onClick:()=>t(-1)}),(0,Ir.jsx)(Sr,{customBgColor:"#4D77FF",customMarginLeft:"70vw",title:"LIST",onClick:function(){let e=(new Date).getTime().toString(),r=i.comments;r.push({id:n+"_"+e,content:o}),BC.collection("post").doc(n).update({comments:r}).then((function(){a(""),t("/blogList")}))}})]})]})};var fA,pA;const mA=br.div(fA||(fA=Ae(["\npadding: 16px;\nwidth: calc(100% - 32px);\nheight: 100%;\nbackground: #2E2D32;\n  \n"]))),gA=br.div(pA||(pA=Ae(["\n   width: 100%;\n  \n"])));const vA=function(e){const[t,n]=(0,r.useState)(""),[i,s]=(0,r.useState)(""),o=ee(),a={header:{width:"92vw",marginLeft:"2vw",marginRight:"2vw",display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"20px"},logo:{width:"140px",height:"60px"},navbar:{width:"433px",display:"flex",justifyContent:"space-between"},menu:{textDecoration:"none",color:"#898989",listStyle:"none",fontWeight:"300",fontSize:"18px"},text:{textAlign:"center",borderRadius:"20px",marginTop:"64px",marginBottom:"32px"},h1:{width:"80vw",marginLeft:"auto",marginRight:"auto",textAlign:"left",fontFamily:"Pretendard",fontSize:"18px",fontWeight:"300",color:"#fff",paddingBottom:"20px"},btn:{width:"92vw",marginLeft:"2vw",marginRight:"2vw",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"}};return(0,Ir.jsxs)(mA,{children:[(0,Ir.jsxs)("div",{style:a.header,children:[(0,Ir.jsx)("img",{style:a.logo,className:"blogLogo",alt:"blogLogo_img",src:"../blogLogo.png"}),(0,Ir.jsxs)("div",{style:a.navbar,className:"navbar",children:[(0,Ir.jsx)(Te,{style:a.menu,className:"menu",to:"/main",children:"HOME"}),(0,Ir.jsx)(Te,{style:a.menu,className:"menu",to:"/main",children:"ABOUT"}),(0,Ir.jsx)(Te,{style:a.menu,className:"menu",to:"/blogList",children:"BLOG"}),(0,Ir.jsx)(Te,{style:{color:"#4D77FF",fontWeight:"700",textDecoration:"none",fontSize:"18px"},className:"menu",to:"/write",children:"WRITING"})]})]}),(0,Ir.jsxs)(gA,{children:[(0,Ir.jsxs)("div",{style:a.text,children:[(0,Ir.jsx)("h1",{style:a.h1,children:"TITLE"}),(0,Ir.jsx)(Cr,{style:a.input,height:20,value:t,placehorder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694",onChange:e=>n(e.target.value)}),(0,Ir.jsx)("h1",{style:a.h1,children:"CONTENT"}),(0,Ir.jsx)(Cr,{style:a.input,height:320,value:i,onChange:e=>s(e.target.value)})]}),(0,Ir.jsxs)("div",{style:a.btn,children:[(0,Ir.jsx)(Sr,{title:"BACK",onClick:()=>o(-1)}),(0,Ir.jsx)(Sr,{customBgColor:"#4D77FF",title:"UPLOAD",onClick:function(){let e=(new Date).getTime().toString();BC.collection("post").doc(e).set({id:e,title:t,content:i,comments:[]}).then((function(){o("/blogList")}))}})]})]})]})};s.createRoot(document.getElementById("root")).render((0,Ir.jsx)(Ie,{children:(0,Ir.jsxs)(ge,{children:[(0,Ir.jsx)(pe,{path:"main",index:!0,element:(0,Ir.jsx)(KC,{})}),(0,Ir.jsx)(pe,{path:"blogList",element:(0,Ir.jsx)($C,{})}),(0,Ir.jsx)(pe,{path:"write",element:(0,Ir.jsx)(vA,{})}),(0,Ir.jsx)(pe,{path:"post/:id",element:(0,Ir.jsx)(dA,{})})]})}))})()})();
//# sourceMappingURL=main.35cf74ff.js.map